<!DOCTYPE html>
<head><meta charset="utf-8" /><meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport" /><link href="static/css/tabler-icons.min.css" rel="stylesheet" type="text/css" /><link href="static/css/style.css" rel="stylesheet" type="text/css" /><link href="static/css/custom.css" rel="stylesheet" type="text/css" /><link href="static/img/logo.png" rel="shortcut icon" type="image/png" /><link href="static/img/logo.png" rel="shortcut icon" sizes="192x192" /><link href="static/img/logo.png" rel="apple-touch-icon" /><meta name="apple-mobile-web-app-title" /><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="yes" name="apple-touch-fullscreen" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="yes" name="mobile-web-app-capable" /><meta property="og:title" /><meta content="site" property="og:type" /><meta content="static/img/logo.png" property="og:image" /><meta property="og:description" /><title></title><meta property="og:site_name" /><meta /></head><body><div id="root"></div><script>window.logseq_db="[&quot;~#datascript/DB&quot;,[&quot;^ &quot;,&quot;~:schema&quot;,[&quot;^ &quot;,&quot;~:ast/version&quot;,[&quot;^ &quot;],&quot;~:db/encryption-keys&quot;,[&quot;^ &quot;],&quot;~:file/content&quot;,[&quot;^ &quot;],&quot;~:git/status&quot;,[&quot;^ &quot;],&quot;~:repo/cloned?&quot;,[&quot;^ &quot;],&quot;~:block/alias&quot;,[&quot;^ &quot;,&quot;~:db/valueType&quot;,&quot;~:db.type/ref&quot;,&quot;~:db/cardinality&quot;,&quot;~:db.cardinality/many&quot;],&quot;~:git/error&quot;,[&quot;^ &quot;],&quot;~:block/pre-block?&quot;,[&quot;^ &quot;],&quot;~:git/last-pulled-at&quot;,[&quot;^ &quot;],&quot;~:block/uuid&quot;,[&quot;^ &quot;,&quot;~:db/unique&quot;,&quot;~:db.unique/identity&quot;],&quot;~:repo/url&quot;,[&quot;^ &quot;,&quot;^@&quot;,&quot;^A&quot;],&quot;~:block/priority&quot;,[&quot;^ &quot;],&quot;~:block/properties&quot;,[&quot;^ &quot;],&quot;~:block/journal?&quot;,[&quot;^ &quot;],&quot;~:block/namespace&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:block/updated-at&quot;,[&quot;^ &quot;],&quot;~:block/repeated?&quot;,[&quot;^ &quot;],&quot;~:db/type&quot;,[&quot;^ &quot;],&quot;~:file/handle&quot;,[&quot;^ &quot;],&quot;~:block/left&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;~:db/index&quot;,true],&quot;~:block/refs&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;^:&quot;,&quot;^;&quot;],&quot;~:block/scheduled&quot;,[&quot;^ &quot;],&quot;~:me/avatar&quot;,[&quot;^ &quot;],&quot;~:db/encrypted?&quot;,[&quot;^ &quot;],&quot;~:block/properties-order&quot;,[&quot;^ &quot;],&quot;~:block/created-at&quot;,[&quot;^ &quot;],&quot;~:block/deadline&quot;,[&quot;^ &quot;],&quot;~:block/collapsed?&quot;,[&quot;^ &quot;,&quot;^L&quot;,true],&quot;~:me/name&quot;,[&quot;^ &quot;],&quot;~:block/meta&quot;,[&quot;^ &quot;],&quot;~:block/journal-day&quot;,[&quot;^ &quot;],&quot;~:block/format&quot;,[&quot;^ &quot;],&quot;~:block/level&quot;,[&quot;^ &quot;],&quot;~:block/tags&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;^:&quot;,&quot;^;&quot;],&quot;~:block/content&quot;,[&quot;^ &quot;],&quot;~:recent/pages&quot;,[&quot;^ &quot;],&quot;~:db/ident&quot;,[&quot;^ &quot;,&quot;^@&quot;,&quot;^A&quot;],&quot;~:block/path-refs&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;^:&quot;,&quot;^;&quot;],&quot;~:block/parent&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;^L&quot;,true],&quot;~:block/heading-level&quot;,[&quot;^ &quot;],&quot;~:block/type&quot;,[&quot;^ &quot;],&quot;~:me/email&quot;,[&quot;^ &quot;],&quot;~:block/page&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;,&quot;^L&quot;,true],&quot;~:block/name&quot;,[&quot;^ &quot;,&quot;^@&quot;,&quot;^A&quot;],&quot;~:file/path&quot;,[&quot;^ &quot;,&quot;^@&quot;,&quot;^A&quot;],&quot;~:block/file&quot;,[&quot;^ &quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:block/marker&quot;,[&quot;^ &quot;],&quot;~:block/original-name&quot;,[&quot;^ &quot;,&quot;^@&quot;,&quot;^A&quot;],&quot;~:schema/version&quot;,[&quot;^ &quot;]],&quot;~:datoms&quot;,[&quot;~#list&quot;,[[&quot;~#datascript/Datom&quot;,[1,&quot;^I&quot;,&quot;~:local-native-fs&quot;,536870913]],[&quot;^1@&quot;,[1,&quot;^1=&quot;,1,536870913]],[&quot;^1@&quot;,[11,&quot;^R&quot;,1648004419696,536871187]],[&quot;^1@&quot;,[11,&quot;^E&quot;,false,536870914]],[&quot;^1@&quot;,[11,&quot;^18&quot;,&quot;contents&quot;,536870914]],[&quot;^1@&quot;,[11,&quot;^1&lt;&quot;,&quot;Contents&quot;,536870914]],[&quot;^1@&quot;,[11,&quot;^D&quot;,[&quot;^ &quot;,&quot;~:public&quot;,true],536871092]],[&quot;^1@&quot;,[11,&quot;^G&quot;,1650814256747,536871187]],[&quot;^1@&quot;,[11,&quot;^?&quot;,&quot;~u024f2db0-9ece-4f19-ae9d-0ca55984a918&quot;,536871806]],[&quot;^1@&quot;,[132,&quot;^R&quot;,1649416867381,536871187]],[&quot;^1@&quot;,[132,&quot;^E&quot;,false,536870966]],[&quot;^1@&quot;,[132,&quot;^18&quot;,&quot;2022-okr-brand-github&quot;,536870966]],[&quot;^1@&quot;,[132,&quot;^1&lt;&quot;,&quot;2022-OKR-brand-github&quot;,536870966]],[&quot;^1@&quot;,[132,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;~:progress&quot;,&quot;{{renderer :todomaster}}&quot;],536870970]],[&quot;^1@&quot;,[132,&quot;^G&quot;,1650822576993,536871187]],[&quot;^1@&quot;,[132,&quot;^?&quot;,&quot;~u6266bf6c-083d-4ec0-93aa-c9f8e1ac9c57&quot;,536870970]],[&quot;^1@&quot;,[163,&quot;^[&quot;,&quot;public:: true\\nprogress:: {{renderer :todomaster}}\\n\\n&quot;,536870970]],[&quot;^1@&quot;,[163,&quot;^X&quot;,&quot;~:markdown&quot;,536870970]],[&quot;^1@&quot;,[163,&quot;^K&quot;,132,536870970]],[&quot;^1@&quot;,[163,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[163,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[163,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[163,&quot;^=&quot;,true,536870970]],[&quot;^1@&quot;,[163,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;^1C&quot;,&quot;{{renderer :todomaster}}&quot;],536870970]],[&quot;^1@&quot;,[163,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;,&quot;^1C&quot;]],536870970]],[&quot;^1@&quot;,[163,&quot;~:block/unordered&quot;,true,536870970]],[&quot;^1@&quot;,[163,&quot;^?&quot;,&quot;~u6266bf6c-898d-4563-9e49-e80ccfd0e5c5&quot;,536870970]],[&quot;^1@&quot;,[164,&quot;^[&quot;,&quot;1. 尝试写python mac上自动化小脚本&quot;,536870970]],[&quot;^1@&quot;,[164,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[164,&quot;^K&quot;,163,536870970]],[&quot;^1@&quot;,[164,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[164,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[164,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[164,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[164,&quot;^?&quot;,&quot;~u6266bf6c-aaa7-4835-8866-8c3f898ba2ef&quot;,536870970]],[&quot;^1@&quot;,[165,&quot;^[&quot;,&quot;2 尝试分布式KV，pingcap？&quot;,536870970]],[&quot;^1@&quot;,[165,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[165,&quot;^K&quot;,164,536870970]],[&quot;^1@&quot;,[165,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[165,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[165,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[165,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[165,&quot;^?&quot;,&quot;~u6266bf6c-1eb1-4764-aecd-3397ae824373&quot;,536870970]],[&quot;^1@&quot;,[166,&quot;^[&quot;,&quot;Socket c++ 高性能&quot;,536870970]],[&quot;^1@&quot;,[166,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[166,&quot;^K&quot;,165,536870970]],[&quot;^1@&quot;,[166,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[166,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[166,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[166,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[166,&quot;^?&quot;,&quot;~u6266bf6c-93a8-4868-a640-76f730c1d696&quot;,536870970]],[&quot;^1@&quot;,[167,&quot;^[&quot;,&quot;MIT 笔记&quot;,536870970]],[&quot;^1@&quot;,[167,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[167,&quot;^K&quot;,166,536870970]],[&quot;^1@&quot;,[167,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[167,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[167,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[167,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[167,&quot;^?&quot;,&quot;~u6266bf6c-802d-47b7-a35b-0cbc2cd2f4fd&quot;,536870970]],[&quot;^1@&quot;,[168,&quot;^[&quot;,&quot;CMU 笔记&quot;,536870970]],[&quot;^1@&quot;,[168,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[168,&quot;^K&quot;,167,536870970]],[&quot;^1@&quot;,[168,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[168,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[168,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[168,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[168,&quot;^?&quot;,&quot;~u6266bf6c-a1e8-4a5b-befd-f77409956e56&quot;,536870970]],[&quot;^1@&quot;,[169,&quot;^[&quot;,&quot;&quot;,536870970]],[&quot;^1@&quot;,[169,&quot;^X&quot;,&quot;^1D&quot;,536870970]],[&quot;^1@&quot;,[169,&quot;^K&quot;,168,536870970]],[&quot;^1@&quot;,[169,&quot;^17&quot;,132,536870970]],[&quot;^1@&quot;,[169,&quot;^13&quot;,132,536870970]],[&quot;^1@&quot;,[169,&quot;^12&quot;,132,536870970]],[&quot;^1@&quot;,[169,&quot;^1E&quot;,true,536870970]],[&quot;^1@&quot;,[169,&quot;^?&quot;,&quot;~u6266bf6c-02b4-4550-b913-52922f27c174&quot;,536870970]],[&quot;^1@&quot;,[223,&quot;^R&quot;,1650296664120,536871187]],[&quot;^1@&quot;,[223,&quot;^E&quot;,false,536870978]],[&quot;^1@&quot;,[223,&quot;^18&quot;,&quot;about me&quot;,536870978]],[&quot;^1@&quot;,[223,&quot;^1&lt;&quot;,&quot;About Me&quot;,536870978]],[&quot;^1@&quot;,[223,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536870978]],[&quot;^1@&quot;,[223,&quot;^G&quot;,1651200003402,536872918]],[&quot;^1@&quot;,[223,&quot;^?&quot;,&quot;~u6266bf75-5e79-44ad-a21b-06aa6d5a46b0&quot;,536871092]],[&quot;^1@&quot;,[224,&quot;^R&quot;,1648008506848,536871187]],[&quot;^1@&quot;,[224,&quot;^E&quot;,false,536870978]],[&quot;^1@&quot;,[224,&quot;^18&quot;,&quot;personal projects&quot;,536870978]],[&quot;^1@&quot;,[224,&quot;^1&lt;&quot;,&quot;Personal Projects&quot;,536870978]],[&quot;^1@&quot;,[224,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871054]],[&quot;^1@&quot;,[224,&quot;^G&quot;,1650820521926,536871187]],[&quot;^1@&quot;,[224,&quot;^?&quot;,&quot;~u6266bf75-9af0-474f-921d-6e8582f7fcc3&quot;,536871092]],[&quot;^1@&quot;,[225,&quot;^R&quot;,1650467312072,536871187]],[&quot;^1@&quot;,[225,&quot;^E&quot;,false,536870978]],[&quot;^1@&quot;,[225,&quot;^18&quot;,&quot;blogs&quot;,536870978]],[&quot;^1@&quot;,[225,&quot;^1&lt;&quot;,&quot;Blogs&quot;,536870978]],[&quot;^1@&quot;,[225,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536870982]],[&quot;^1@&quot;,[225,&quot;^G&quot;,1651203659742,536873573]],[&quot;^1@&quot;,[225,&quot;^?&quot;,&quot;~u6266bf75-6c58-4f6c-8edf-93c9a6f0520c&quot;,536871092]],[&quot;^1@&quot;,[226,&quot;^R&quot;,1650299561622,536871187]],[&quot;^1@&quot;,[226,&quot;^E&quot;,false,536870978]],[&quot;^1@&quot;,[226,&quot;^18&quot;,&quot;papers reading&quot;,536870978]],[&quot;^1@&quot;,[226,&quot;^1&lt;&quot;,&quot;Papers Reading&quot;,536870978]],[&quot;^1@&quot;,[226,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871052]],[&quot;^1@&quot;,[226,&quot;^G&quot;,1650300432783,536871187]],[&quot;^1@&quot;,[226,&quot;^?&quot;,&quot;~u6266bf75-c231-4b66-bb6d-66037e0184b2&quot;,536871092]],[&quot;^1@&quot;,[227,&quot;~:block/anchor&quot;,&quot;I-27-m_a_self_taught_full_stack_Developer-2e-_I-27-m_passionate_about_distributed_storage_system_and_database-2e-_Also_I-27-m_very_interested_in_Web3-2e-&quot;,536872918]],[&quot;^1@&quot;,[227,&quot;^[&quot;,&quot;### I&apos;m a self-taught full stack Developer. I&apos;m passionate about distributed storage system and database. Also I&apos;m very interested in Web3.&quot;,536872918]],[&quot;^1@&quot;,[227,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[227,&quot;^14&quot;,3,536872918]],[&quot;^1@&quot;,[227,&quot;^K&quot;,233,536870978]],[&quot;^1@&quot;,[227,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[227,&quot;^13&quot;,233,536870978]],[&quot;^1@&quot;,[227,&quot;^12&quot;,223,536872918]],[&quot;^1@&quot;,[227,&quot;^D&quot;,[&quot;^ &quot;],536872918]],[&quot;^1@&quot;,[227,&quot;~:block/size&quot;,3,536870978]],[&quot;^1@&quot;,[227,&quot;^15&quot;,&quot;~:heading&quot;,536872918]],[&quot;^1@&quot;,[227,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[227,&quot;^?&quot;,&quot;~u6266bf6c-8212-473b-8d46-bf7fc8685798&quot;,536870978]],[&quot;^1@&quot;,[228,&quot;^[&quot;,&quot;&quot;,536870978]],[&quot;^1@&quot;,[228,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[228,&quot;^K&quot;,230,536870978]],[&quot;^1@&quot;,[228,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[228,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[228,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[228,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[228,&quot;^?&quot;,&quot;~u6266bf6c-5c53-4e40-83fe-85162bc0c81a&quot;,536870978]],[&quot;^1@&quot;,[229,&quot;^T&quot;,false,536872867]],[&quot;^1@&quot;,[229,&quot;^[&quot;,&quot;## Papers Reading:\\ncollapsed:: true&quot;,536870978]],[&quot;^1@&quot;,[229,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[229,&quot;^14&quot;,2,536870978]],[&quot;^1@&quot;,[229,&quot;^K&quot;,236,536870978]],[&quot;^1@&quot;,[229,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[229,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[229,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[229,&quot;^D&quot;,[&quot;^ &quot;,&quot;~:collapsed&quot;,true],536870978]],[&quot;^1@&quot;,[229,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870978]],[&quot;^1@&quot;,[229,&quot;^1G&quot;,2,536870978]],[&quot;^1@&quot;,[229,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[229,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[229,&quot;^?&quot;,&quot;~u6266bf6c-23c1-4ad4-ae84-25fbb41ceb16&quot;,536870978]],[&quot;^1@&quot;,[230,&quot;^[&quot;,&quot;&quot;,536870978]],[&quot;^1@&quot;,[230,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[230,&quot;^K&quot;,229,536870978]],[&quot;^1@&quot;,[230,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[230,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[230,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[230,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[230,&quot;^?&quot;,&quot;~u6266bf6c-eba4-4b8b-a47b-0c225962b02d&quot;,536870978]],[&quot;^1@&quot;,[231,&quot;^[&quot;,&quot;### If you want to contact me, Email ( _galaxygu1636@gmail.com_ ) is preferred, thank you!&quot;,536870978]],[&quot;^1@&quot;,[231,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[231,&quot;^14&quot;,3,536870978]],[&quot;^1@&quot;,[231,&quot;^K&quot;,227,536870978]],[&quot;^1@&quot;,[231,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[231,&quot;^13&quot;,233,536870978]],[&quot;^1@&quot;,[231,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[231,&quot;^1G&quot;,3,536870978]],[&quot;^1@&quot;,[231,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[231,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[231,&quot;^?&quot;,&quot;~u6266bf6c-1cff-4f9d-be37-0fbc871f27e3&quot;,536870978]],[&quot;^1@&quot;,[232,&quot;^[&quot;,&quot;&quot;,536870978]],[&quot;^1@&quot;,[232,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[232,&quot;^K&quot;,235,536870978]],[&quot;^1@&quot;,[232,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[232,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[232,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[232,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[232,&quot;^?&quot;,&quot;~u6266bf6c-5e08-4ad4-9083-95e44220794b&quot;,536870978]],[&quot;^1@&quot;,[233,&quot;^[&quot;,&quot;## Hi there, This is Shuang 👋&quot;,536870978]],[&quot;^1@&quot;,[233,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[233,&quot;^14&quot;,2,536870978]],[&quot;^1@&quot;,[233,&quot;^K&quot;,239,536870978]],[&quot;^1@&quot;,[233,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[233,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[233,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[233,&quot;^1G&quot;,2,536870978]],[&quot;^1@&quot;,[233,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[233,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[233,&quot;^?&quot;,&quot;~u6266bf6c-cee4-4ae2-b8f6-078b72b7012d&quot;,536870978]],[&quot;^1@&quot;,[234,&quot;^[&quot;,&quot;{{embed [[Papers Reading]]}}\\nquery-table:: true&quot;,536870978]],[&quot;^1@&quot;,[234,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[234,&quot;^K&quot;,229,536870978]],[&quot;^1@&quot;,[234,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[234,&quot;^13&quot;,229,536870978]],[&quot;^1@&quot;,[234,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[234,&quot;^12&quot;,226,536870978]],[&quot;^1@&quot;,[234,&quot;^D&quot;,[&quot;^ &quot;,&quot;~:query-table&quot;,true],536870978]],[&quot;^1@&quot;,[234,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1J&quot;]],536870978]],[&quot;^1@&quot;,[234,&quot;^M&quot;,226,536870978]],[&quot;^1@&quot;,[234,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[234,&quot;^?&quot;,&quot;~u6266bf6c-c997-4840-bee9-021c75dbe1e2&quot;,536870978]],[&quot;^1@&quot;,[235,&quot;^[&quot;,&quot;&quot;,536870978]],[&quot;^1@&quot;,[235,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[235,&quot;^K&quot;,233,536870978]],[&quot;^1@&quot;,[235,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[235,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[235,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[235,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[235,&quot;^?&quot;,&quot;~u6266bf6c-9d29-4dcb-8ac2-e16d3277816e&quot;,536870978]],[&quot;^1@&quot;,[236,&quot;^T&quot;,false,536872864]],[&quot;^1@&quot;,[236,&quot;^[&quot;,&quot;## Technical articles:\\ncollapsed:: true&quot;,536870978]],[&quot;^1@&quot;,[236,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[236,&quot;^14&quot;,2,536870978]],[&quot;^1@&quot;,[236,&quot;^K&quot;,241,536870978]],[&quot;^1@&quot;,[236,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[236,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[236,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[236,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870978]],[&quot;^1@&quot;,[236,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870978]],[&quot;^1@&quot;,[236,&quot;^1G&quot;,2,536870978]],[&quot;^1@&quot;,[236,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[236,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[236,&quot;^?&quot;,&quot;~u6266bf6c-f313-4b1c-b485-fb8c54dc4548&quot;,536870978]],[&quot;^1@&quot;,[237,&quot;^[&quot;,&quot;####   😄  [Github](https://github.com/wwShuang)   🔗 [LinkedIn](https://www.linkedin.com/in/shuang-g-214704127/)   🗞️[Stack Overflow](https://stackoverflow.com/users/14174580/shuangww)&quot;,536870978]],[&quot;^1@&quot;,[237,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[237,&quot;^14&quot;,4,536870978]],[&quot;^1@&quot;,[237,&quot;^K&quot;,231,536870978]],[&quot;^1@&quot;,[237,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[237,&quot;^13&quot;,231,536870978]],[&quot;^1@&quot;,[237,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[237,&quot;^1G&quot;,4,536870978]],[&quot;^1@&quot;,[237,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[237,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[237,&quot;^?&quot;,&quot;~u6266bf6c-b151-400a-9840-fbe1aabcc5c9&quot;,536870978]],[&quot;^1@&quot;,[238,&quot;^[&quot;,&quot;&quot;,536870978]],[&quot;^1@&quot;,[238,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[238,&quot;^K&quot;,242,536870978]],[&quot;^1@&quot;,[238,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[238,&quot;^13&quot;,236,536870978]],[&quot;^1@&quot;,[238,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[238,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[238,&quot;^?&quot;,&quot;~u6266bf6c-ef4a-468d-bbed-756f7f115960&quot;,536870978]],[&quot;^1@&quot;,[239,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536870978]],[&quot;^1@&quot;,[239,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[239,&quot;^K&quot;,223,536870978]],[&quot;^1@&quot;,[239,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[239,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[239,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[239,&quot;^=&quot;,true,536870978]],[&quot;^1@&quot;,[239,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536870978]],[&quot;^1@&quot;,[239,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536870978]],[&quot;^1@&quot;,[239,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[239,&quot;^?&quot;,&quot;~u6266bf6c-0b2d-4356-ae9e-2db3762145ac&quot;,536870978]],[&quot;^1@&quot;,[240,&quot;^[&quot;,&quot;{{embed [[Personal Projects]]}}&quot;,536870978]],[&quot;^1@&quot;,[240,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[240,&quot;^K&quot;,241,536870978]],[&quot;^1@&quot;,[240,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[240,&quot;^13&quot;,241,536870978]],[&quot;^1@&quot;,[240,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[240,&quot;^12&quot;,224,536870978]],[&quot;^1@&quot;,[240,&quot;^M&quot;,224,536870978]],[&quot;^1@&quot;,[240,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[240,&quot;^?&quot;,&quot;~u6266bf6c-599f-4707-a63f-5ebc41076ebf&quot;,536870978]],[&quot;^1@&quot;,[241,&quot;^T&quot;,false,536872845]],[&quot;^1@&quot;,[241,&quot;^[&quot;,&quot;## Projects:\\ncollapsed:: true&quot;,536870978]],[&quot;^1@&quot;,[241,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[241,&quot;^14&quot;,2,536870978]],[&quot;^1@&quot;,[241,&quot;^K&quot;,232,536870978]],[&quot;^1@&quot;,[241,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[241,&quot;^13&quot;,223,536870978]],[&quot;^1@&quot;,[241,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[241,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870978]],[&quot;^1@&quot;,[241,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870978]],[&quot;^1@&quot;,[241,&quot;^1G&quot;,2,536870978]],[&quot;^1@&quot;,[241,&quot;^15&quot;,&quot;^1H&quot;,536870978]],[&quot;^1@&quot;,[241,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[241,&quot;^?&quot;,&quot;~u6266bf6c-7ddf-4340-a22c-13be937ba9fb&quot;,536870978]],[&quot;^1@&quot;,[242,&quot;^[&quot;,&quot;{{embed [[Blogs]]}}&quot;,536870978]],[&quot;^1@&quot;,[242,&quot;^X&quot;,&quot;^1D&quot;,536870978]],[&quot;^1@&quot;,[242,&quot;^K&quot;,236,536870978]],[&quot;^1@&quot;,[242,&quot;^17&quot;,223,536870978]],[&quot;^1@&quot;,[242,&quot;^13&quot;,236,536870978]],[&quot;^1@&quot;,[242,&quot;^12&quot;,223,536870978]],[&quot;^1@&quot;,[242,&quot;^12&quot;,225,536870978]],[&quot;^1@&quot;,[242,&quot;^M&quot;,225,536870978]],[&quot;^1@&quot;,[242,&quot;^1E&quot;,true,536870978]],[&quot;^1@&quot;,[242,&quot;^?&quot;,&quot;~u6266bf6c-487f-4698-b38b-71bfdf17864e&quot;,536870978]],[&quot;^1@&quot;,[293,&quot;^R&quot;,1650300109739,536871187]],[&quot;^1@&quot;,[293,&quot;^E&quot;,false,536870982]],[&quot;^1@&quot;,[293,&quot;^18&quot;,&quot;cap理论 &amp; 一致性算法&quot;,536870982]],[&quot;^1@&quot;,[293,&quot;^1&lt;&quot;,&quot;CAP理论 &amp; 一致性算法&quot;,536870982]],[&quot;^1@&quot;,[293,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;~:tags&quot;,[&quot;^1?&quot;,[&quot;blog_list_cn&quot;]]],536870994]],[&quot;^1@&quot;,[293,&quot;^Z&quot;,548,536870994]],[&quot;^1@&quot;,[293,&quot;^G&quot;,1650424937874,536871187]],[&quot;^1@&quot;,[293,&quot;^?&quot;,&quot;~u6266bf75-b6a8-4712-bcac-731e88a42e37&quot;,536871092]],[&quot;^1@&quot;,[295,&quot;^R&quot;,1650350649298,536871187]],[&quot;^1@&quot;,[295,&quot;^E&quot;,false,536870982]],[&quot;^1@&quot;,[295,&quot;^18&quot;,&quot;分布式存储系统对比_ 块，文件，对象&quot;,536870982]],[&quot;^1@&quot;,[295,&quot;^1&lt;&quot;,&quot;分布式存储系统对比: 块，文件，对象&quot;,536870982]],[&quot;^1@&quot;,[295,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;~:title&quot;,&quot;分布式存储系统对比: 块，文件，对象&quot;],536871134]],[&quot;^1@&quot;,[295,&quot;^G&quot;,1650429144759,536871187]],[&quot;^1@&quot;,[295,&quot;^?&quot;,&quot;~u6266bf77-dd4a-4ad4-b085-734736e93e0c&quot;,536871134]],[&quot;^1@&quot;,[296,&quot;^R&quot;,1650350526696,536871187]],[&quot;^1@&quot;,[296,&quot;^E&quot;,false,536870982]],[&quot;^1@&quot;,[296,&quot;^18&quot;,&quot;olap &amp; oltp&quot;,536870982]],[&quot;^1@&quot;,[296,&quot;^1&lt;&quot;,&quot;OLAP &amp; OLTP&quot;,536870982]],[&quot;^1@&quot;,[296,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871046]],[&quot;^1@&quot;,[296,&quot;^G&quot;,1650426743442,536871187]],[&quot;^1@&quot;,[296,&quot;^?&quot;,&quot;~u6266bf71-aa20-43d5-b46c-9f34ecaeeb7e&quot;,536871046]],[&quot;^1@&quot;,[297,&quot;^R&quot;,1650350767307,536871187]],[&quot;^1@&quot;,[297,&quot;^E&quot;,false,536870982]],[&quot;^1@&quot;,[297,&quot;^18&quot;,&quot;数据库系统架构&quot;,536870982]],[&quot;^1@&quot;,[297,&quot;^1&lt;&quot;,&quot;数据库系统架构&quot;,536870982]],[&quot;^1@&quot;,[297,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536873591]],[&quot;^1@&quot;,[297,&quot;^G&quot;,1651204329500,536873657]],[&quot;^1@&quot;,[297,&quot;^?&quot;,&quot;~u6266bf6c-16ea-4872-9602-8749f06b8b58&quot;,536870982]],[&quot;^1@&quot;,[298,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536870982]],[&quot;^1@&quot;,[298,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[298,&quot;^K&quot;,225,536870982]],[&quot;^1@&quot;,[298,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[298,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[298,&quot;^12&quot;,225,536870982]],[&quot;^1@&quot;,[298,&quot;^=&quot;,true,536870982]],[&quot;^1@&quot;,[298,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536870982]],[&quot;^1@&quot;,[298,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536870982]],[&quot;^1@&quot;,[298,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[298,&quot;^?&quot;,&quot;~u6266bf6c-9798-4d55-a33e-d8ec35700e45&quot;,536870982]],[&quot;^1@&quot;,[299,&quot;^[&quot;,&quot;[[CAP理论 &amp; 一致性算法]]  &amp; [[CAP theory and consistent algorithms]]&quot;,536870982]],[&quot;^1@&quot;,[299,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[299,&quot;^K&quot;,298,536870982]],[&quot;^1@&quot;,[299,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[299,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[299,&quot;^12&quot;,225,536870982]],[&quot;^1@&quot;,[299,&quot;^12&quot;,292,536870982]],[&quot;^1@&quot;,[299,&quot;^12&quot;,293,536870982]],[&quot;^1@&quot;,[299,&quot;^M&quot;,292,536870982]],[&quot;^1@&quot;,[299,&quot;^M&quot;,293,536870982]],[&quot;^1@&quot;,[299,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[299,&quot;^?&quot;,&quot;~u6266bf6c-b223-4247-9195-334d52e1aad4&quot;,536870982]],[&quot;^1@&quot;,[300,&quot;^[&quot;,&quot;[[分布式存储系统对比: 块，文件，对象]]  &amp; [[Distribute Storage System Comparison: Files, Objects and Blocks]]&quot;,536870982]],[&quot;^1@&quot;,[300,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[300,&quot;^K&quot;,299,536870982]],[&quot;^1@&quot;,[300,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[300,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[300,&quot;^12&quot;,225,536870982]],[&quot;^1@&quot;,[300,&quot;^12&quot;,294,536870982]],[&quot;^1@&quot;,[300,&quot;^12&quot;,295,536870982]],[&quot;^1@&quot;,[300,&quot;^M&quot;,294,536870982]],[&quot;^1@&quot;,[300,&quot;^M&quot;,295,536870982]],[&quot;^1@&quot;,[300,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[300,&quot;^?&quot;,&quot;~u6266bf6c-7f76-48de-96f7-9b1d8896c826&quot;,536870982]],[&quot;^1@&quot;,[301,&quot;^[&quot;,&quot;[[OLAP &amp; OLTP]]\\nquery-table:: true&quot;,536870982]],[&quot;^1@&quot;,[301,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[301,&quot;^K&quot;,300,536870982]],[&quot;^1@&quot;,[301,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[301,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[301,&quot;^12&quot;,225,536870982]],[&quot;^1@&quot;,[301,&quot;^12&quot;,296,536870982]],[&quot;^1@&quot;,[301,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1J&quot;,true],536870982]],[&quot;^1@&quot;,[301,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1J&quot;]],536870982]],[&quot;^1@&quot;,[301,&quot;^M&quot;,296,536870982]],[&quot;^1@&quot;,[301,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[301,&quot;^?&quot;,&quot;~u6266bf6c-627d-4fa6-a70d-d6248c88d8f5&quot;,536870982]],[&quot;^1@&quot;,[302,&quot;^[&quot;,&quot;[[数据库系统架构]]&quot;,536870982]],[&quot;^1@&quot;,[302,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[302,&quot;^K&quot;,301,536870982]],[&quot;^1@&quot;,[302,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[302,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[302,&quot;^12&quot;,225,536870982]],[&quot;^1@&quot;,[302,&quot;^12&quot;,297,536870982]],[&quot;^1@&quot;,[302,&quot;^M&quot;,297,536870982]],[&quot;^1@&quot;,[302,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[302,&quot;^?&quot;,&quot;~u6266bf6c-03f6-4baf-ad92-10240d06990c&quot;,536870982]],[&quot;^1@&quot;,[303,&quot;^1F&quot;,&quot;&quot;,536872930]],[&quot;^1@&quot;,[303,&quot;^[&quot;,&quot;[[互斥 &amp; 同步 &amp; 通信]]&quot;,536873573]],[&quot;^1@&quot;,[303,&quot;^X&quot;,&quot;^1D&quot;,536870982]],[&quot;^1@&quot;,[303,&quot;^K&quot;,302,536870982]],[&quot;^1@&quot;,[303,&quot;^17&quot;,225,536870982]],[&quot;^1@&quot;,[303,&quot;^13&quot;,225,536870982]],[&quot;^1@&quot;,[303,&quot;^12&quot;,225,536873573]],[&quot;^1@&quot;,[303,&quot;^12&quot;,4089,536873573]],[&quot;^1@&quot;,[303,&quot;^D&quot;,[&quot;^ &quot;],536873573]],[&quot;^1@&quot;,[303,&quot;^M&quot;,4089,536873573]],[&quot;^1@&quot;,[303,&quot;^1E&quot;,true,536870982]],[&quot;^1@&quot;,[303,&quot;^?&quot;,&quot;~u6266bf6c-fb8d-412c-b1cc-0b2cedd3b659&quot;,536870982]],[&quot;^1@&quot;,[550,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[550,&quot;^[&quot;,&quot;CAP 举例\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[550,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[550,&quot;^K&quot;,568,536870994]],[&quot;^1@&quot;,[550,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[550,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[550,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[550,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[550,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[550,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[550,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[550,&quot;^?&quot;,&quot;~u6266bf6e-9e6f-4630-b858-444d0e2b097c&quot;,536870994]],[&quot;^1@&quot;,[551,&quot;^[&quot;,&quot;在于只有一个阶段的话，在多提案+多接收者情况下，无法确认是否获得通过的提案是最终结果，可能还有后续的提案继续提交通过。\\n  所以引入新的一个阶段，在proposer前一阶段拿到反馈后，判断这个提案是否被大多数接受，需要对其进行最终确认&quot;,536870994]],[&quot;^1@&quot;,[551,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[551,&quot;^K&quot;,735,536870994]],[&quot;^1@&quot;,[551,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[551,&quot;^13&quot;,735,536870994]],[&quot;^1@&quot;,[551,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[551,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[551,&quot;^?&quot;,&quot;~u6266bf6e-3dec-46be-afb5-3f42d61378f5&quot;,536870994]],[&quot;^1@&quot;,[552,&quot;^[&quot;,&quot;比如一个服务有3个节点，中国，美国，新加坡，如果数据只有一份，如果数据只在中国，那么美国用户访问数据流程是“美国节点-&gt;中国节点-&gt;中国数据“来实现的。这时如果美国和中国之间的网络断/高延时了，即出现分区，美国用户就没法访问到该数据。为了解决这个问题，目前都是每个节点都有一份数据备份，即中国，美国，新加坡都有一份数据，这样美国节点和中国节点哪怕临时中断，美国用户还是可以访问美国的数据。但是数据分处不同地区，需要同步，但同步有延时，数据可能不一致。要保障一致，那就必须等写操作在所有节点完成才读，这个时间又是不确定的，又会带来可用性问题，这就是C，A，P不可兼得即CAP理论\\n  \\n  ![https://pic4.zhimg.com/v2-356f6445dc951696887537b6e56c0847_r.jpg](https://pic4.zhimg.com/v2-356f6445dc951696887537b6e56c0847_r.jpg)&quot;,536870994]],[&quot;^1@&quot;,[552,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[552,&quot;^K&quot;,550,536870994]],[&quot;^1@&quot;,[552,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[552,&quot;^13&quot;,550,536870994]],[&quot;^1@&quot;,[552,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[552,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[552,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[552,&quot;^?&quot;,&quot;~u6266bf6e-1f0a-4bc3-a006-d9de1dc0b7a3&quot;,536870994]],[&quot;^1@&quot;,[553,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[553,&quot;^[&quot;,&quot;然后日志复制到其他follower节点，同时通过安全性的准则来保证整个日志复制的一致性；\\ncollapsed:: true\\n  \\n  注：此处 log 并非是指日志消息，而是各种事件的发生记录。&quot;,536870994]],[&quot;^1@&quot;,[553,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[553,&quot;^K&quot;,586,536870994]],[&quot;^1@&quot;,[553,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[553,&quot;^13&quot;,655,536870994]],[&quot;^1@&quot;,[553,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[553,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[553,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[553,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[553,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[553,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[553,&quot;^?&quot;,&quot;~u6266bf6e-60a6-4893-a926-74b674a905b0&quot;,536870994]],[&quot;^1@&quot;,[554,&quot;^[&quot;,&quot;**Safety 安全性**：通过安全性原则来处理一些特殊case，保证Raft算法的完备性。&quot;,536870994]],[&quot;^1@&quot;,[554,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[554,&quot;^K&quot;,701,536870994]],[&quot;^1@&quot;,[554,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[554,&quot;^13&quot;,606,536870994]],[&quot;^1@&quot;,[554,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[554,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[554,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[554,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[554,&quot;^?&quot;,&quot;~u6266bf6e-5888-4c95-a6ba-3c7042336736&quot;,536870994]],[&quot;^1@&quot;,[555,&quot;^[&quot;,&quot;在算法刚开始时，所有结点都是 Follower，每个结点都会有一个定时器，每次收到来自 Leader 的信息就会更新该定时器。\\n  \\n  如果定时器超时，说明一段时间内没有收到 Leader 的消息，那么就可以认为 Leader 已死或者不存在，那么该结点就会转变成 Candidate，意思为准备竞争成为 Leader。\\n  \\n  成为 Candidate 后结点会向所有其他结点发送请求投票的请求（RequestVote），其他结点在收到请求后会判断是否可以投给他并返回结果。Candidate 如果收到了半数以上的投票就可以成为 Leader，成为之后会立即并在任期内定期发送一个心跳信息通知其他所有结点新的 Leader 信息，并用来重置定时器，避免其他结点再次成为 Candidate。\\n  \\n  如果 Candidate 在一定时间内没有获得足够的投票，那么就会进行一轮新的选举，直到其成为 Leader,或者其他结点成为了新的 Leader，自己变成 Follower。&quot;,536870994]],[&quot;^1@&quot;,[555,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[555,&quot;^K&quot;,572,536870994]],[&quot;^1@&quot;,[555,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[555,&quot;^13&quot;,572,536870994]],[&quot;^1@&quot;,[555,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[555,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[555,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[555,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[555,&quot;^?&quot;,&quot;~u6266bf6e-483f-4474-b0a2-f9a4983f1113&quot;,536870994]],[&quot;^1@&quot;,[556,&quot;^[&quot;,&quot;**前提**\\n  \\n  Raft 保证了如下几点：&quot;,536870994]],[&quot;^1@&quot;,[556,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[556,&quot;^K&quot;,553,536870994]],[&quot;^1@&quot;,[556,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[556,&quot;^13&quot;,553,536870994]],[&quot;^1@&quot;,[556,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[556,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[556,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[556,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[556,&quot;^?&quot;,&quot;~u6266bf6e-4b23-4bb5-93a6-68faa7ca47ef&quot;,536870994]],[&quot;^1@&quot;,[557,&quot;^[&quot;,&quot;举例：&quot;,536870994]],[&quot;^1@&quot;,[557,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[557,&quot;^K&quot;,603,536870994]],[&quot;^1@&quot;,[557,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[557,&quot;^13&quot;,674,536870994]],[&quot;^1@&quot;,[557,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[557,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[557,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[557,&quot;^?&quot;,&quot;~u6266bf6e-8739-4dbd-bf6a-698a5fb3d654&quot;,536870994]],[&quot;^1@&quot;,[558,&quot;^[&quot;,&quot;相比一阶段协议，分两步可以让事务先执行然后再提交，让事务在提交前尽可能地完成所有能完成的工作，这样，最后的提交阶段将是耗时极短，耗时极短意味着操作失败的可能性也就降低。&quot;,536870994]],[&quot;^1@&quot;,[558,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[558,&quot;^K&quot;,720,536870994]],[&quot;^1@&quot;,[558,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[558,&quot;^13&quot;,720,536870994]],[&quot;^1@&quot;,[558,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[558,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[558,&quot;^?&quot;,&quot;~u6266bf6e-f2ef-46de-820d-e3ce94e5696c&quot;,536870994]],[&quot;^1@&quot;,[559,&quot;^[&quot;,&quot;用户访问了N1，修改了D1的数据。&quot;,536870994]],[&quot;^1@&quot;,[559,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[559,&quot;^K&quot;,642,536870994]],[&quot;^1@&quot;,[559,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[559,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[559,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[559,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[559,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[559,&quot;^?&quot;,&quot;~u6266bf6e-baae-436a-ab8c-396af10c5698&quot;,536870994]],[&quot;^1@&quot;,[560,&quot;^[&quot;,&quot;**功能上的损失**：在一个电商网站上，正常情况下，用户可以顺利完成每一笔订单。但是到了大促期间，为了保护购物系统的稳定性，部分消费者可能会被引导到一个降级页面。&quot;,536870994]],[&quot;^1@&quot;,[560,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[560,&quot;^K&quot;,583,536870994]],[&quot;^1@&quot;,[560,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[560,&quot;^13&quot;,596,536870994]],[&quot;^1@&quot;,[560,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[560,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[560,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[560,&quot;^?&quot;,&quot;~u6266bf6e-e868-4e74-92df-d4cf97e5fb94&quot;,536870994]],[&quot;^1@&quot;,[561,&quot;^[&quot;,&quot;若Proposer故障，没关系，再从集群中选出Proposer即可&quot;,536870994]],[&quot;^1@&quot;,[561,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[561,&quot;^K&quot;,633,536870994]],[&quot;^1@&quot;,[561,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[561,&quot;^13&quot;,617,536870994]],[&quot;^1@&quot;,[561,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[561,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[561,&quot;^?&quot;,&quot;~u6266bf6e-54a4-4331-8c91-48d618fe22b7&quot;,536870994]],[&quot;^1@&quot;,[562,&quot;^[&quot;,&quot;假如现在有两个分区`N1`和`N2`，N1和N2分别有不同的分区存储D1和D2，以及不同的服务S1和S2。&quot;,536870994]],[&quot;^1@&quot;,[562,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[562,&quot;^K&quot;,732,536870994]],[&quot;^1@&quot;,[562,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[562,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[562,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[562,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[562,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[562,&quot;^?&quot;,&quot;~u6266bf6e-8819-43aa-8b75-2a901ee606e7&quot;,536870994]],[&quot;^1@&quot;,[563,&quot;^[&quot;,&quot;说明：Paxos算法不容易实现，Raft算法是对Paxos算法的简化和改进；两者区别在于如何选出领导者并保持安全。[[$red]]==在Raft中，只有最新的服务器才能成为领导者，而Paxos允许任何服务器成为领导者==。然而，这种灵活性伴随着额外的复杂性。&quot;,536870994]],[&quot;^1@&quot;,[563,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[563,&quot;^K&quot;,677,536870994]],[&quot;^1@&quot;,[563,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[563,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[563,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[563,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[563,&quot;^M&quot;,549,536870994]],[&quot;^1@&quot;,[563,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[563,&quot;^?&quot;,&quot;~u6266bf6e-b56c-482e-aee9-33166d1e494e&quot;,536870994]],[&quot;^1@&quot;,[564,&quot;^[&quot;,&quot;![https://upload-images.jianshu.io/upload_images/1752522-44c5a422f917bfc5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-44c5a422f917bfc5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&quot;,536870994]],[&quot;^1@&quot;,[564,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[564,&quot;^K&quot;,736,536870994]],[&quot;^1@&quot;,[564,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[564,&quot;^13&quot;,740,536870994]],[&quot;^1@&quot;,[564,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[564,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[564,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[564,&quot;^?&quot;,&quot;~u6266bf6e-171b-4fa5-b5f6-7ea19c2559f8&quot;,536870994]],[&quot;^1@&quot;,[565,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[565,&quot;^[&quot;,&quot;缺陷\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[565,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[565,&quot;^K&quot;,614,536870994]],[&quot;^1@&quot;,[565,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[565,&quot;^13&quot;,636,536870994]],[&quot;^1@&quot;,[565,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[565,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[565,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[565,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[565,&quot;^?&quot;,&quot;~u6266bf6e-7a6a-4132-a898-ef3279550e3e&quot;,536870994]],[&quot;^1@&quot;,[566,&quot;^[&quot;,&quot;1. 如果Proposer收到**半数以上**Acceptor对其发出的编号为N的Prepare请求的**响应**，那么它就会发送一个针对**[N,V]提案**的**Accept请求**给**半数以上**的Acceptor。&quot;,536870994]],[&quot;^1@&quot;,[566,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[566,&quot;^K&quot;,740,536870994]],[&quot;^1@&quot;,[566,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[566,&quot;^13&quot;,740,536870994]],[&quot;^1@&quot;,[566,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[566,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[566,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[566,&quot;^?&quot;,&quot;~u6266bf6e-1570-46dd-b03d-2e4f8d254c25&quot;,536870994]],[&quot;^1@&quot;,[567,&quot;^[&quot;,&quot;实现方式：&quot;,536870994]],[&quot;^1@&quot;,[567,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[567,&quot;^K&quot;,623,536870994]],[&quot;^1@&quot;,[567,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[567,&quot;^13&quot;,739,536870994]],[&quot;^1@&quot;,[567,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[567,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[567,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[567,&quot;^?&quot;,&quot;~u6266bf6e-ea1c-49f5-8d1e-983601c6c4fc&quot;,536870994]],[&quot;^1@&quot;,[568,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[568,&quot;^[&quot;,&quot;CAP是指在一个分布式系统中，一致性（Consistency）、可用性（Availability）、分区容错性（Partition tolerance）这三个要素最多只能同时实现两点，不可能三者同时兼顾(why?)。 #card\\ncollapsed:: true\\ncard-last-score:: 3\\ncard-repeats:: 1\\ncard-next-schedule:: 2022-03-27T10:28:35.832Z\\ncard-last-interval:: 4\\ncard-ease-factor:: 2.36\\ncard-last-reviewed:: 2022-03-23T10:28:35.832Z\\nid:: fd36dfbe-2c88-40ee-b5dd-0ac21dfcf207&quot;,536870994]],[&quot;^1@&quot;,[568,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[568,&quot;^K&quot;,611,536870994]],[&quot;^1@&quot;,[568,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[568,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[568,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[568,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[568,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true,&quot;~:card-last-score&quot;,3,&quot;~:card-repeats&quot;,1,&quot;~:card-next-schedule&quot;,&quot;2022-03-27T10:28:35.832Z&quot;,&quot;~:card-last-interval&quot;,4,&quot;~:card-ease-factor&quot;,&quot;2.36&quot;,&quot;~:card-last-reviewed&quot;,&quot;2022-03-23T10:28:35.832Z&quot;,&quot;~:id&quot;,&quot;fd36dfbe-2c88-40ee-b5dd-0ac21dfcf207&quot;],536870994]],[&quot;^1@&quot;,[568,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;,&quot;^1M&quot;,&quot;^1N&quot;,&quot;^1O&quot;,&quot;^1P&quot;,&quot;^1Q&quot;,&quot;^1R&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[568,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[568,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[568,&quot;^?&quot;,&quot;~ufd36dfbe-2c88-40ee-b5dd-0ac21dfcf207&quot;,536870994]],[&quot;^1@&quot;,[569,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[569,&quot;^[&quot;,&quot;缺陷\\ncollapsed:: true\\n  \\n  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3abef756-e657-4fbb-9836-7e2162665034/Untitled.png)&quot;,536870994]],[&quot;^1@&quot;,[569,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[569,&quot;^K&quot;,720,536870994]],[&quot;^1@&quot;,[569,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[569,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[569,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[569,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[569,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[569,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[569,&quot;^?&quot;,&quot;~u6266bf6e-19cc-4434-a7c8-0dfb558d9b01&quot;,536870994]],[&quot;^1@&quot;,[570,&quot;^[&quot;,&quot;CP without A：如果不要求A（高可用），相当于每个请求都需要在Server之间强一致，而P（分区）会导致同步时间无限延长，如此CP也是可以保证的。很多传统的数据库分布式事务都属于这种模式。\\n  \\n 等待分区节点的响应可能会导致延时错误。如果你的业务需求需要原子读写，CP 是一个不错的选择。&quot;,536870994]],[&quot;^1@&quot;,[570,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[570,&quot;^K&quot;,685,536870994]],[&quot;^1@&quot;,[570,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[570,&quot;^13&quot;,685,536870994]],[&quot;^1@&quot;,[570,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[570,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[570,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[570,&quot;^?&quot;,&quot;~u6266bf6e-1766-4820-8013-47eb02cc1000&quot;,536870994]],[&quot;^1@&quot;,[571,&quot;^[&quot;,&quot;分区：大多数分布式系统都分布在多个子网络。每个子网络就叫做一个区（partition）。分区容错的意思是，区间通信可能失败。比如，一台服务器放在中国，另一台服务器放在美国，这就是两个区，它们之间可能无法通信。&quot;,536870994]],[&quot;^1@&quot;,[571,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[571,&quot;^K&quot;,630,536870994]],[&quot;^1@&quot;,[571,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[571,&quot;^13&quot;,584,536870994]],[&quot;^1@&quot;,[571,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[571,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[571,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[571,&quot;^?&quot;,&quot;~u6266bf6e-1f6e-427b-b2d6-b60092a48f20&quot;,536870994]],[&quot;^1@&quot;,[572,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[572,&quot;^[&quot;,&quot;**初次选举**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[572,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[572,&quot;^K&quot;,586,536870994]],[&quot;^1@&quot;,[572,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[572,&quot;^13&quot;,586,536870994]],[&quot;^1@&quot;,[572,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[572,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[572,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[572,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[572,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[572,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[572,&quot;^?&quot;,&quot;~u6266bf6e-1fc3-4cba-9455-9eb1b5deba32&quot;,536870994]],[&quot;^1@&quot;,[573,&quot;^[&quot;,&quot;举例：&quot;,536870994]],[&quot;^1@&quot;,[573,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[573,&quot;^K&quot;,570,536870994]],[&quot;^1@&quot;,[573,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[573,&quot;^13&quot;,685,536870994]],[&quot;^1@&quot;,[573,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[573,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[573,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[573,&quot;^?&quot;,&quot;~u6266bf6e-e663-4596-9d30-dba911632a90&quot;,536870994]],[&quot;^1@&quot;,[574,&quot;^[&quot;,&quot;保证`可用性`：立即响应，可用性得到了保证，但是此时响应的数据和D1不一致，`一致性`无法保证。&quot;,536870994]],[&quot;^1@&quot;,[574,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[574,&quot;^K&quot;,575,536870994]],[&quot;^1@&quot;,[574,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[574,&quot;^13&quot;,644,536870994]],[&quot;^1@&quot;,[574,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[574,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[574,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[574,&quot;^?&quot;,&quot;~u6266bf6e-c8ed-4b00-9c00-de227f6b0a7a&quot;,536870994]],[&quot;^1@&quot;,[575,&quot;^[&quot;,&quot;保证`一致性`：此时D1和D2数据不一致，要保证一致性就不能返回不一致的数据，`可用性`无法保证。&quot;,536870994]],[&quot;^1@&quot;,[575,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[575,&quot;^K&quot;,644,536870994]],[&quot;^1@&quot;,[575,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[575,&quot;^13&quot;,644,536870994]],[&quot;^1@&quot;,[575,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[575,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[575,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[575,&quot;^?&quot;,&quot;~u6266bf6e-032e-41a3-bcfa-ed3a5c0779ff&quot;,536870994]],[&quot;^1@&quot;,[576,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[576,&quot;^[&quot;,&quot;三类一致性：\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[576,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[576,&quot;^K&quot;,641,536870994]],[&quot;^1@&quot;,[576,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[576,&quot;^13&quot;,589,536870994]],[&quot;^1@&quot;,[576,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[576,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[576,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[576,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[576,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[576,&quot;^?&quot;,&quot;~u6266bf6e-b9d5-4c65-93a3-6ea4a1a09cbc&quot;,536870994]],[&quot;^1@&quot;,[577,&quot;^[&quot;,&quot;已经在 Leader 服务器上**提交**的事务，最终会被所有服务器都提交&quot;,536870994]],[&quot;^1@&quot;,[577,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[577,&quot;^K&quot;,661,536870994]],[&quot;^1@&quot;,[577,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[577,&quot;^13&quot;,661,536870994]],[&quot;^1@&quot;,[577,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[577,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[577,&quot;^?&quot;,&quot;~u6266bf6d-f036-4d3c-96ab-bf232743a057&quot;,536870994]],[&quot;^1@&quot;,[578,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[578,&quot;^[&quot;,&quot;四个角色 - 一个进程可能**同时充当多种角色**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[578,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[578,&quot;^K&quot;,629,536870994]],[&quot;^1@&quot;,[578,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[578,&quot;^13&quot;,599,536870994]],[&quot;^1@&quot;,[578,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[578,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[578,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[578,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[578,&quot;^?&quot;,&quot;~u6266bf6e-4aec-4589-b7db-db17bd9de3cf&quot;,536870994]],[&quot;^1@&quot;,[579,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[579,&quot;^[&quot;,&quot;有两种支持高可用性的模式: （fail-over）&amp;（replication）  #card\\nid:: 625e5c87-f392-4624-8033-00aca91fd2ab\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[579,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[579,&quot;^K&quot;,621,536870994]],[&quot;^1@&quot;,[579,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[579,&quot;^13&quot;,660,536870994]],[&quot;^1@&quot;,[579,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[579,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[579,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;625e5c87-f392-4624-8033-00aca91fd2ab&quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[579,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;,&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[579,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[579,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[579,&quot;^?&quot;,&quot;~u625e5c87-f392-4624-8033-00aca91fd2ab&quot;,536870994]],[&quot;^1@&quot;,[580,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[580,&quot;^[&quot;,&quot;弱一致性：weak consisitency，放宽一致性要求，实现效率Eventual Consistency\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[580,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[580,&quot;^K&quot;,696,536870994]],[&quot;^1@&quot;,[580,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[580,&quot;^13&quot;,576,536870994]],[&quot;^1@&quot;,[580,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[580,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[580,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[580,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[580,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[580,&quot;^?&quot;,&quot;~u6266bf6e-b7ce-448f-a7b0-b176bed26668&quot;,536870994]],[&quot;^1@&quot;,[581,&quot;^[&quot;,&quot;**阶段二 commit：执行事务提交**\\n  \\n  proposer：如果收到大多数的回复，则可准备发送带有提案号的接收消息。如果收到的回复不带有新的提案，则说明锁定成功，使用自己的提案；如果收到的回复带有新的内容，则替换为编号更大的提案；如果没有收到足够多的请求，则再次发出请求\\n  acceptor：接受消息后，如果发现提案号不小于已接受的最大提案号，则接受该提案，并更新最大提案号\\n  \\n  协调者根据各参与者的反馈情况决定最终是否可以提交事务，如果反馈都是 Yes，发送提交`commit`请求，参与者提交成功后返回 `Ack` 消息，协调者接收后就完成了。如果反馈是 No 或者超时未反馈，发送 `Rollback` 请求，利用阶段一记录表的 `Undo` 信息执行回滚，并反馈给协调者`Ack` ，中断消息\\n  \\n\\n    一旦多数接受了共同的提案值，则形成决议，成为最终确认的提案\\n\\n    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e7ec5e8-6612-448f-8441-045fe01b44b3/Untitled.png)&quot;,536870994]],[&quot;^1@&quot;,[581,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[581,&quot;^K&quot;,695,536870994]],[&quot;^1@&quot;,[581,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[581,&quot;^13&quot;,682,536870994]],[&quot;^1@&quot;,[581,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[581,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[581,&quot;^?&quot;,&quot;~u6266bf6e-c5e9-4949-ae16-60474e797fa8&quot;,536870994]],[&quot;^1@&quot;,[582,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[582,&quot;^[&quot;,&quot;最终一致性\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[582,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[582,&quot;^K&quot;,714,536870994]],[&quot;^1@&quot;,[582,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[582,&quot;^13&quot;,714,536870994]],[&quot;^1@&quot;,[582,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[582,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[582,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[582,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[582,&quot;^?&quot;,&quot;~u6266bf6e-822d-4177-af7f-5dddeec487f1&quot;,536870994]],[&quot;^1@&quot;,[583,&quot;^[&quot;,&quot;**响应时间上的损失**：正常情况下的搜索引擎0.5秒即返回给用户结果，而基本可用的搜索引擎可以在2秒作用返回结果。&quot;,536870994]],[&quot;^1@&quot;,[583,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[583,&quot;^K&quot;,596,536870994]],[&quot;^1@&quot;,[583,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[583,&quot;^13&quot;,596,536870994]],[&quot;^1@&quot;,[583,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[583,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[583,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[583,&quot;^?&quot;,&quot;~u6266bf6e-b041-4819-ab11-c9e0a1c33c12&quot;,536870994]],[&quot;^1@&quot;,[584,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[584,&quot;^[&quot;,&quot;Partition tolerance. **分区容错性** #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:24:01.033Z\\ncard-last-reviewed:: 2022-03-23T10:24:01.034Z\\ncard-last-score:: 3\\ncollapsed:: true\\nid:: bd1856db-d0aa-4f97-bbfb-481c183e63cd&quot;,536870994]],[&quot;^1@&quot;,[584,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[584,&quot;^K&quot;,550,536870994]],[&quot;^1@&quot;,[584,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[584,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[584,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[584,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[584,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:24:01.033Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:24:01.034Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true,&quot;^1S&quot;,&quot;bd1856db-d0aa-4f97-bbfb-481c183e63cd&quot;],536870994]],[&quot;^1@&quot;,[584,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[584,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[584,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[584,&quot;^?&quot;,&quot;~ubd1856db-d0aa-4f97-bbfb-481c183e63cd&quot;,536870994]],[&quot;^1@&quot;,[585,&quot;^[&quot;,&quot;可能问题及解决方法&quot;,536870994]],[&quot;^1@&quot;,[585,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[585,&quot;^K&quot;,668,536870994]],[&quot;^1@&quot;,[585,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[585,&quot;^13&quot;,599,536870994]],[&quot;^1@&quot;,[585,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[585,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[585,&quot;^?&quot;,&quot;~u6266bf6e-a294-40bf-bd43-8fd8504fb29f&quot;,536870994]],[&quot;^1@&quot;,[586,&quot;^[&quot;,&quot;首先选出leader，leader节点负责接收外部的数据更新/删除请求；&quot;,536870994]],[&quot;^1@&quot;,[586,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[586,&quot;^K&quot;,655,536870994]],[&quot;^1@&quot;,[586,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[586,&quot;^13&quot;,655,536870994]],[&quot;^1@&quot;,[586,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[586,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[586,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[586,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[586,&quot;^?&quot;,&quot;~u6266bf6e-9060-4642-8016-5b67fa9e1ba3&quot;,536870994]],[&quot;^1@&quot;,[587,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[587,&quot;^[&quot;,&quot;一般来说，分区容错无法避免，因此可以认为 CAP 的 P 总是成立。CAP 定理告诉我们，剩下的 C 和 A 无法同时做到(tradeoff: C &amp; A)。所以通常分布式系统是在 AP 和 CP 之间选择。\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[587,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[587,&quot;^K&quot;,568,536870994]],[&quot;^1@&quot;,[587,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[587,&quot;^13&quot;,568,536870994]],[&quot;^1@&quot;,[587,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[587,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[587,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[587,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[587,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[587,&quot;^?&quot;,&quot;~u6266bf6e-f43b-4b2e-a9b5-80512baedffd&quot;,536870994]],[&quot;^1@&quot;,[588,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[588,&quot;^[&quot;,&quot;[[$red]]==raft== - Multi Paxos\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[588,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[588,&quot;^K&quot;,599,536870994]],[&quot;^1@&quot;,[588,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[588,&quot;^13&quot;,646,536870994]],[&quot;^1@&quot;,[588,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[588,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[588,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[588,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[588,&quot;^M&quot;,549,536870994]],[&quot;^1@&quot;,[588,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[588,&quot;^?&quot;,&quot;~u6266bf6e-20c9-488f-977c-ae9984e2487d&quot;,536870994]],[&quot;^1@&quot;,[589,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[589,&quot;^[&quot;,&quot;consistency：**一致性**\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:27:25.475Z\\ncard-last-reviewed:: 2022-03-23T10:27:25.476Z\\ncard-last-score:: 3\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[589,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[589,&quot;^K&quot;,660,536870994]],[&quot;^1@&quot;,[589,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[589,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[589,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[589,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[589,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:27:25.475Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:27:25.476Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[589,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[589,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[589,&quot;^?&quot;,&quot;~u6266bf6e-d21d-4fb9-a73c-df2a5e380d2f&quot;,536870994]],[&quot;^1@&quot;,[590,&quot;^[&quot;,&quot;由于协调者的重要性，一旦协调者发生故障，参与者会一直阻塞下去。尤其在第二阶段，协调者发生故障，那么所有的 参与者 还都处于锁定事务资源的状态中，而无法继续完成事务操。尽管协调者挂掉后可以重新选举一个协调者，但是无法解决因为协调者宕机导致的参与者处于阻塞状态的问题。&quot;,536870994]],[&quot;^1@&quot;,[590,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[590,&quot;^K&quot;,615,536870994]],[&quot;^1@&quot;,[590,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[590,&quot;^13&quot;,615,536870994]],[&quot;^1@&quot;,[590,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[590,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[590,&quot;^?&quot;,&quot;~u6266bf6e-e91b-4648-aa82-b809e481c1e7&quot;,536870994]],[&quot;^1@&quot;,[591,&quot;^[&quot;,&quot;[主─主复制](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E4%B8%BB%E4%B8%BB%E5%A4%8D%E5%88%B6)&quot;,536870994]],[&quot;^1@&quot;,[591,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[591,&quot;^K&quot;,709,536870994]],[&quot;^1@&quot;,[591,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[591,&quot;^13&quot;,673,536870994]],[&quot;^1@&quot;,[591,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[591,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[591,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[591,&quot;^?&quot;,&quot;~u6266bf6e-c6a9-4cf9-a2ac-87d9e5a78f2d&quot;,536870994]],[&quot;^1@&quot;,[592,&quot;^[&quot;,&quot;&quot;,536870994]],[&quot;^1@&quot;,[592,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[592,&quot;^K&quot;,683,536870994]],[&quot;^1@&quot;,[592,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[592,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[592,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[592,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[592,&quot;^?&quot;,&quot;~u6266bf6e-71a4-4d4f-85cf-8511d8d1f696&quot;,536870994]],[&quot;^1@&quot;,[593,&quot;^[&quot;,&quot;解决冲突&quot;,536870994]],[&quot;^1@&quot;,[593,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[593,&quot;^K&quot;,742,536870994]],[&quot;^1@&quot;,[593,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[593,&quot;^13&quot;,598,536870994]],[&quot;^1@&quot;,[593,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[593,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[593,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[593,&quot;^?&quot;,&quot;~u6266bf6e-fedb-4960-83e0-c24be5fbc055&quot;,536870994]],[&quot;^1@&quot;,[594,&quot;^[&quot;,&quot;**如何保证Paxos算法的活性**\\n  \\n  ![https://upload-images.jianshu.io/upload_images/1752522-28b18dd606777074.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-28b18dd606777074.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\\n  \\n\\n                通过选取**主Proposer**，就可以保证Paxos算法的活性。至此，我们得到一个**既能保证安全性，又能保证活性**的**分布式一致性算法**——**Paxos算法**。&quot;,536870994]],[&quot;^1@&quot;,[594,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[594,&quot;^K&quot;,608,536870994]],[&quot;^1@&quot;,[594,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[594,&quot;^13&quot;,664,536870994]],[&quot;^1@&quot;,[594,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[594,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[594,&quot;^?&quot;,&quot;~u6266bf6e-bec6-4eca-abc0-87c78ba6b783&quot;,536870994]],[&quot;^1@&quot;,[595,&quot;^[&quot;,&quot;![image.png](../assets/image_1648031997591_0.png)&quot;,536870994]],[&quot;^1@&quot;,[595,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[595,&quot;^K&quot;,677,536870994]],[&quot;^1@&quot;,[595,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[595,&quot;^13&quot;,677,536870994]],[&quot;^1@&quot;,[595,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[595,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[595,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[595,&quot;^?&quot;,&quot;~u6266bf6e-7cb2-43d9-bb3a-17c2e043571d&quot;,536870994]],[&quot;^1@&quot;,[596,&quot;^[&quot;,&quot;**基本可用**\\n  \\n  什么是基本可用呢？\\n  \\n  假如系统出现了不可预知故障，允许损失部分可用性，当然也不能完全不可用。\\n  \\n  损失的这部分可用性指的是什么？&quot;,536870994]],[&quot;^1@&quot;,[596,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[596,&quot;^K&quot;,733,536870994]],[&quot;^1@&quot;,[596,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[596,&quot;^13&quot;,733,536870994]],[&quot;^1@&quot;,[596,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[596,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[596,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[596,&quot;^?&quot;,&quot;~u6266bf6e-274e-4155-a73b-b541a1a808c0&quot;,536870994]],[&quot;^1@&quot;,[597,&quot;^[&quot;,&quot;如果两个日志的 index 和 term 相同，那么这两个日志相同 （**Log Matching**）\\n  \\n  第二点主要是因为一个任期内只可能出现一个 Leader，而 Leader 只会为一个 index 创建一个日志条目，而且一旦写入就不会修改，因此保证了日志的唯一性。&quot;,536870994]],[&quot;^1@&quot;,[597,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[597,&quot;^K&quot;,670,536870994]],[&quot;^1@&quot;,[597,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[597,&quot;^13&quot;,556,536870994]],[&quot;^1@&quot;,[597,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[597,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[597,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[597,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[597,&quot;^?&quot;,&quot;~u6266bf6e-ff83-4d11-9d45-d6b7f28f48bc&quot;,536870994]],[&quot;^1@&quot;,[598,&quot;^[&quot;,&quot;实现方式：&quot;,536870994]],[&quot;^1@&quot;,[598,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[598,&quot;^K&quot;,557,536870994]],[&quot;^1@&quot;,[598,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[598,&quot;^13&quot;,674,536870994]],[&quot;^1@&quot;,[598,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[598,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[598,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[598,&quot;^?&quot;,&quot;~u6266bf6e-c1d2-4993-94af-f38dbea73e93&quot;,536870994]],[&quot;^1@&quot;,[599,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[599,&quot;^[&quot;,&quot;[Basic Paxos](https://www.cnblogs.com/linbingdong/p/6253479.html)\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[599,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[599,&quot;^K&quot;,646,536870994]],[&quot;^1@&quot;,[599,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[599,&quot;^13&quot;,646,536870994]],[&quot;^1@&quot;,[599,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[599,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[599,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[599,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[599,&quot;^?&quot;,&quot;~u6266bf6e-2f06-491f-8968-9c4899df417c&quot;,536870994]],[&quot;^1@&quot;,[600,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[600,&quot;^[&quot;,&quot;Zab - Multi Paxos\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[600,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[600,&quot;^K&quot;,588,536870994]],[&quot;^1@&quot;,[600,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[600,&quot;^13&quot;,646,536870994]],[&quot;^1@&quot;,[600,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[600,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[600,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[600,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[600,&quot;^?&quot;,&quot;~u6266bf6e-84e5-474e-bfed-3d387cecf376&quot;,536870994]],[&quot;^1@&quot;,[601,&quot;^[&quot;,&quot;如果遇到leader故障，f[ollowers会重新发起选举出新的leader](https://www.notion.so/Distribute-System-Design-aef162f1736b4f6ea3abd54aa7f05fe1)。&quot;,536870994]],[&quot;^1@&quot;,[601,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[601,&quot;^K&quot;,553,536870994]],[&quot;^1@&quot;,[601,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[601,&quot;^13&quot;,655,536870994]],[&quot;^1@&quot;,[601,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[601,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[601,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[601,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[601,&quot;^?&quot;,&quot;~u6266bf6e-0bdc-4dee-ac5c-4abfc0caf05b&quot;,536870994]],[&quot;^1@&quot;,[602,&quot;^[&quot;,&quot;如果两个日志相同，那么他们之前的日志均相同\\n  \\n  第三点是因为在写入日志时会检查前一个日志是否一致。换言之就是，如果写入了一条日志，那么前一个日志条目也一定一致，从而递归的保证了前面的所有日志都一致。从而也保证了当一个日志被提交之后，所有结点在该 index 上提交的内容是一样的（**State Machine Safety**）。&quot;,536870994]],[&quot;^1@&quot;,[602,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[602,&quot;^K&quot;,597,536870994]],[&quot;^1@&quot;,[602,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[602,&quot;^13&quot;,556,536870994]],[&quot;^1@&quot;,[602,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[602,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[602,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[602,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[602,&quot;^?&quot;,&quot;~u6266bf6e-d535-4b2b-825e-479d9be11522&quot;,536870994]],[&quot;^1@&quot;,[603,&quot;^[&quot;,&quot;响应节点上可用数据的最近版本可能并不是最新的。当分区解析完后，写入（操作）可能需要一些时间来传播。\\n  \\n  如果业务需求允许[最终一致性](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7)，或当有外部故障时要求系统继续运行，AP 是一个不错的选择。&quot;,536870994]],[&quot;^1@&quot;,[603,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[603,&quot;^K&quot;,675,536870994]],[&quot;^1@&quot;,[603,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[603,&quot;^13&quot;,674,536870994]],[&quot;^1@&quot;,[603,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[603,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[603,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[603,&quot;^?&quot;,&quot;~u6266bf6e-1736-465b-8fd5-571b477a6368&quot;,536870994]],[&quot;^1@&quot;,[604,&quot;^[&quot;,&quot;再次选举会在两种情况下发生。\\n  \\n  第一种情况是 Leader 下线，此时所有其他结点的计时器不会被重置，直到一个结点成为了 Candidate，和上述一样开始一轮新的选举选出一个新的 Leader。\\n  \\n  第二种情况是某一 Follower 结点与 Leader 间通信发生问题，导致发生了分区，这时没有 Leader 的那个分区就会进行一次选举。这种情况下，因为要求获得多数的投票才可以成为 Leader，因此只有拥有多数结点的分区可以正常工作。而对于少数结点的分区，即使仍存在 Leader，但由于写入日志的结点数量不可能超过半数因此不可能提交操作。这解释了为何 Raft 至多容忍 (N−1)/2(N−1)/2 个结点故障。\\n  \\n  ![https://zinglix.xyz/img/in-post/raft/3.png](https://zinglix.xyz/img/in-post/raft/3.png)\\n  \\n  这解释了每个结点会如何在三个状态间发生变化。&quot;,536870994]],[&quot;^1@&quot;,[604,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[604,&quot;^K&quot;,618,536870994]],[&quot;^1@&quot;,[604,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[604,&quot;^13&quot;,618,536870994]],[&quot;^1@&quot;,[604,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[604,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[604,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[604,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[604,&quot;^?&quot;,&quot;~u6266bf6e-a84f-45c8-8edb-c8eb5e1d82fa&quot;,536870994]],[&quot;^1@&quot;,[605,&quot;^[&quot;,&quot;**全称（Zookeeper Atomic Broadcast）[Zookeeper](https://www.notion.so/21ddd73b5f2d4761ac10c53b37ca8986) 原子消息广播协议。** 说明：ZAB也是对Multi Paxos算法的改进，大部分和raft相同\\n  \\n  当Leader服务器不可用或者已经不存在过半服务器与该Leader服务器保持正常通信时，在重新开始新一轮的原子广播事务操作之前，ZAB会进入恢复模式选举新的Leader服务器，使集群彼此达到一个一致的状态，从消息广播模式进入到崩溃恢复模式。当集群过半机器都与新的Leader服务器完成了状态同步操作后ZAB协议会退出恢复模式&quot;,536870994]],[&quot;^1@&quot;,[605,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[605,&quot;^K&quot;,600,536870994]],[&quot;^1@&quot;,[605,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[605,&quot;^13&quot;,600,536870994]],[&quot;^1@&quot;,[605,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[605,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[605,&quot;^?&quot;,&quot;~u6266bf6d-f3eb-4e9e-842e-c9f9824d717b&quot;,536870994]],[&quot;^1@&quot;,[606,&quot;^[&quot;,&quot;Raft将共识问题分解三个子问题： #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:53.027Z\\ncard-last-reviewed:: 2022-03-23T13:02:53.027Z\\ncard-last-score:: 3\\nid:: 3addc18b-8bf3-45fe-8ae9-df61ccd9e202&quot;,536870994]],[&quot;^1@&quot;,[606,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[606,&quot;^K&quot;,719,536870994]],[&quot;^1@&quot;,[606,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[606,&quot;^13&quot;,719,536870994]],[&quot;^1@&quot;,[606,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[606,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[606,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[606,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:53.027Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:53.027Z&quot;,&quot;^1M&quot;,3,&quot;^1S&quot;,&quot;3addc18b-8bf3-45fe-8ae9-df61ccd9e202&quot;],536870994]],[&quot;^1@&quot;,[606,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[606,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[606,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[606,&quot;^?&quot;,&quot;~u3addc18b-8bf3-45fe-8ae9-df61ccd9e202&quot;,536870994]],[&quot;^1@&quot;,[607,&quot;^[&quot;,&quot;关于工作到备用的故障切换流程是，工作服务器发送周期信号给待机中的备用服务器。如果周期信号中断，备用服务器切换成工作服务器的 IP 地址并恢复服务。\\n  \\n  宕机时间取决于备用服务器处于“热”待机状态还是需要从“冷”待机状态进行启动。只有工作服务器处理流量。\\n  \\n  工作到备用的故障切换也被称为主从切换。&quot;,536870994]],[&quot;^1@&quot;,[607,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[607,&quot;^K&quot;,654,536870994]],[&quot;^1@&quot;,[607,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[607,&quot;^13&quot;,654,536870994]],[&quot;^1@&quot;,[607,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[607,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[607,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[607,&quot;^?&quot;,&quot;~u6266bf6e-5d01-4bdc-b7f2-018d68b679ad&quot;,536870994]],[&quot;^1@&quot;,[608,&quot;^[&quot;,&quot;假设系统有多个Proposer，他们不断向Acceptor发出提案，还没等到上一个提案达到多数派下一个提案又来了，就会导致Acceptor放弃当前提案转向处理下一个提案，于是所有提案都别想通过了。&quot;,536870994]],[&quot;^1@&quot;,[608,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[608,&quot;^K&quot;,664,536870994]],[&quot;^1@&quot;,[608,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[608,&quot;^13&quot;,664,536870994]],[&quot;^1@&quot;,[608,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[608,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[608,&quot;^?&quot;,&quot;~u6266bf6e-81db-4dbb-94e2-09b545f7cd15&quot;,536870994]],[&quot;^1@&quot;,[609,&quot;^[&quot;,&quot;单站点数据库&quot;,536870994]],[&quot;^1@&quot;,[609,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[609,&quot;^K&quot;,623,536870994]],[&quot;^1@&quot;,[609,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[609,&quot;^13&quot;,623,536870994]],[&quot;^1@&quot;,[609,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[609,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[609,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[609,&quot;^?&quot;,&quot;~u6266bf6e-46f2-43dc-a0f5-88eb7a29177b&quot;,536870994]],[&quot;^1@&quot;,[610,&quot;^[&quot;,&quot;分布式锁定&quot;,536870994]],[&quot;^1@&quot;,[610,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[610,&quot;^K&quot;,702,536870994]],[&quot;^1@&quot;,[610,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[610,&quot;^13&quot;,573,536870994]],[&quot;^1@&quot;,[610,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[610,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[610,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[610,&quot;^?&quot;,&quot;~u6266bf6e-7318-4cea-935c-80ee21977afb&quot;,536870994]],[&quot;^1@&quot;,[611,&quot;^[&quot;,&quot;**CAP 理论** #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:21:23.686Z\\ncard-last-reviewed:: 2022-03-23T10:21:23.687Z\\ncard-last-score:: 3\\nid:: d6234bd2-e8fa-4ede-8824-b52688fdaa13&quot;,536870994]],[&quot;^1@&quot;,[611,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[611,&quot;^K&quot;,653,536870994]],[&quot;^1@&quot;,[611,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[611,&quot;^13&quot;,653,536870994]],[&quot;^1@&quot;,[611,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[611,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[611,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:21:23.686Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:21:23.687Z&quot;,&quot;^1M&quot;,3,&quot;^1S&quot;,&quot;d6234bd2-e8fa-4ede-8824-b52688fdaa13&quot;],536870994]],[&quot;^1@&quot;,[611,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[611,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[611,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[611,&quot;^?&quot;,&quot;~ud6234bd2-e8fa-4ede-8824-b52688fdaa13&quot;,536870994]],[&quot;^1@&quot;,[612,&quot;^[&quot;,&quot;说明：Gossip算法每个节点都是对等的，即没有角色之分。Gossip算法中的每个节点都会将数据改动告诉其他节点**（类似传八卦）**。有话说得好：\\&quot;最多通过六个人你就能认识全世界任何一个陌生人\\&quot;，因此数据改动的消息很快就会传遍整个集群。&quot;,536870994]],[&quot;^1@&quot;,[612,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[612,&quot;^K&quot;,737,536870994]],[&quot;^1@&quot;,[612,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[612,&quot;^13&quot;,737,536870994]],[&quot;^1@&quot;,[612,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[612,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[612,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[612,&quot;^?&quot;,&quot;~u6266bf6e-62b6-4431-a656-52fa0c55d6e2&quot;,536870994]],[&quot;^1@&quot;,[613,&quot;^[&quot;,&quot;每个Follower 服务器在接收到后都会将其以事务日志的形式写入到本地磁盘中，并且在成功写入后返回 Leader 服务器一个 ACK 响应。&quot;,536870994]],[&quot;^1@&quot;,[613,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[613,&quot;^K&quot;,711,536870994]],[&quot;^1@&quot;,[613,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[613,&quot;^13&quot;,639,536870994]],[&quot;^1@&quot;,[613,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[613,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[613,&quot;^?&quot;,&quot;~u6266bf6d-a9dd-4f60-8d37-caf6fdbf65f3&quot;,536870994]],[&quot;^1@&quot;,[614,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[614,&quot;^[&quot;,&quot;改进\\ncollapsed:: true\\n  三阶段提交针对两阶段提交做了改进：&quot;,536870994]],[&quot;^1@&quot;,[614,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[614,&quot;^K&quot;,657,536870994]],[&quot;^1@&quot;,[614,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[614,&quot;^13&quot;,636,536870994]],[&quot;^1@&quot;,[614,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[614,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[614,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[614,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[614,&quot;^?&quot;,&quot;~u6266bf6e-ca60-4601-a0c5-e06cfd9d8e3b&quot;,536870994]],[&quot;^1@&quot;,[615,&quot;^[&quot;,&quot;单点故障&quot;,536870994]],[&quot;^1@&quot;,[615,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[615,&quot;^K&quot;,672,536870994]],[&quot;^1@&quot;,[615,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[615,&quot;^13&quot;,569,536870994]],[&quot;^1@&quot;,[615,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[615,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[615,&quot;^?&quot;,&quot;~u6266bf6e-b2bf-4bbb-8f4a-82585b6307bd&quot;,536870994]],[&quot;^1@&quot;,[616,&quot;^[&quot;,&quot;用户再次访问，请求落在了N2。此时D1和D2的数据不一致。&quot;,536870994]],[&quot;^1@&quot;,[616,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[616,&quot;^K&quot;,559,536870994]],[&quot;^1@&quot;,[616,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[616,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[616,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[616,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[616,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[616,&quot;^?&quot;,&quot;~u6266bf6e-b831-4d91-ae87-a72318df7e8d&quot;,536870994]],[&quot;^1@&quot;,[617,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[617,&quot;^[&quot;,&quot;节点故障\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[617,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[617,&quot;^K&quot;,585,536870994]],[&quot;^1@&quot;,[617,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[617,&quot;^13&quot;,585,536870994]],[&quot;^1@&quot;,[617,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[617,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[617,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[617,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[617,&quot;^?&quot;,&quot;~u6266bf6e-2cbe-4b73-a103-49b0b2d363e3&quot;,536870994]],[&quot;^1@&quot;,[618,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[618,&quot;^[&quot;,&quot;**再次选举**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[618,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[618,&quot;^K&quot;,572,536870994]],[&quot;^1@&quot;,[618,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[618,&quot;^13&quot;,586,536870994]],[&quot;^1@&quot;,[618,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[618,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[618,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[618,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[618,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[618,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[618,&quot;^?&quot;,&quot;~u6266bf6e-8f91-44d6-a848-3b351c908102&quot;,536870994]],[&quot;^1@&quot;,[619,&quot;^[&quot;,&quot;第一阶段canCommit并不执行事务，这样当第一阶段失败或者timeout时，不占用事务资源不需要回滚(提高效率减少事务阻塞)。&quot;,536870994]],[&quot;^1@&quot;,[619,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[619,&quot;^K&quot;,724,536870994]],[&quot;^1@&quot;,[619,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[619,&quot;^13&quot;,724,536870994]],[&quot;^1@&quot;,[619,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[619,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[619,&quot;^?&quot;,&quot;~u6266bf6e-d50e-4db9-9c51-bb4c4d8183af&quot;,536870994]],[&quot;^1@&quot;,[620,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[620,&quot;^[&quot;,&quot;2PC\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[620,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[620,&quot;^K&quot;,741,536870994]],[&quot;^1@&quot;,[620,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[620,&quot;^13&quot;,741,536870994]],[&quot;^1@&quot;,[620,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[620,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[620,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[620,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[620,&quot;^?&quot;,&quot;~u6266bf6e-1b6b-4721-b13c-67bf7e4a26eb&quot;,536870994]],[&quot;^1@&quot;,[621,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[621,&quot;^[&quot;,&quot;可用性指“Reads and writes always succeed”，意思是只要收到用户的请求，服务器就必须给出回应（不管对错，都要回应一下）。\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[621,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[621,&quot;^K&quot;,660,536870994]],[&quot;^1@&quot;,[621,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[621,&quot;^13&quot;,660,536870994]],[&quot;^1@&quot;,[621,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[621,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[621,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[621,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[621,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[621,&quot;^?&quot;,&quot;~u6266bf6e-eea8-4eb9-8d02-be6872afc23a&quot;,536870994]],[&quot;^1@&quot;,[622,&quot;^[&quot;,&quot;key: 选举&quot;,536870994]],[&quot;^1@&quot;,[622,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[622,&quot;^K&quot;,588,536870994]],[&quot;^1@&quot;,[622,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[622,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[622,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[622,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[622,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[622,&quot;^?&quot;,&quot;~u6266bf6e-e810-482c-a6c3-17c50be4044e&quot;,536870994]],[&quot;^1@&quot;,[623,&quot;^[&quot;,&quot;举例： - 单点&quot;,536870994]],[&quot;^1@&quot;,[623,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[623,&quot;^K&quot;,625,536870994]],[&quot;^1@&quot;,[623,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[623,&quot;^13&quot;,739,536870994]],[&quot;^1@&quot;,[623,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[623,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[623,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[623,&quot;^?&quot;,&quot;~u6266bf6e-3102-4017-a228-267f241c61a6&quot;,536870994]],[&quot;^1@&quot;,[624,&quot;^[&quot;,&quot;实现方式：&quot;,536870994]],[&quot;^1@&quot;,[624,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[624,&quot;^K&quot;,573,536870994]],[&quot;^1@&quot;,[624,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[624,&quot;^13&quot;,685,536870994]],[&quot;^1@&quot;,[624,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[624,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[624,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[624,&quot;^?&quot;,&quot;~u6266bf6e-f0e7-4607-991e-72caa06fadfc&quot;,536870994]],[&quot;^1@&quot;,[625,&quot;^[&quot;,&quot;CA without P：如果不要求P（不允许分区），则C（强一致性）和A（可用性）是可以保证的。但其实分区不是你想不想的问题，而是始终会存在，因此CA的系统**更多的是**允许分区后各子系统依然保持CA。&quot;,536870994]],[&quot;^1@&quot;,[625,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[625,&quot;^K&quot;,739,536870994]],[&quot;^1@&quot;,[625,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[625,&quot;^13&quot;,739,536870994]],[&quot;^1@&quot;,[625,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[625,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[625,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[625,&quot;^?&quot;,&quot;~u6266bf6e-ec71-4f35-bdbe-55f94a86d646&quot;,536870994]],[&quot;^1@&quot;,[626,&quot;^[&quot;,&quot;**阶段三：DoCommit**\\n  \\n  这个阶段其实和 `2PC` 的第二阶段差不多，如果协调者收到了所有参与者在 `PreCommit` 阶段的 YES 响应，那么协调者将会给所有参与者发送 `DoCommit` 请求，**参与者收到 DoCommit 请求后则会进行事务的提交工作**，完成后则会给协调者返回响应，协调者收到所有参与者返回的事务提交成功的响应之后则完成事务。若协调者在 `PreCommit` 阶段 **收到了任何一个 NO 或者在一定时间内没有收到所有参与者的响应** ，那么就会进行中断请求的发送，参与者收到中断请求后则会 **通过上面记录的回滚日志** 来进行事务的回滚操作，并向协调者反馈回滚状况，协调者收到参与者返回的消息后，中断事务。&quot;,536870994]],[&quot;^1@&quot;,[626,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[626,&quot;^K&quot;,686,536870994]],[&quot;^1@&quot;,[626,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[626,&quot;^13&quot;,657,536870994]],[&quot;^1@&quot;,[626,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[626,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[626,&quot;^?&quot;,&quot;~u6266bf6e-9aa2-4986-a1d0-c2c117e605df&quot;,536870994]],[&quot;^1@&quot;,[627,&quot;^[&quot;,&quot;2PC中的提交/中止过程分为两个阶段（因此而得名），而不是单节点事务中的单个提交请求。&quot;,536870994]],[&quot;^1@&quot;,[627,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[627,&quot;^K&quot;,682,536870994]],[&quot;^1@&quot;,[627,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[627,&quot;^13&quot;,682,536870994]],[&quot;^1@&quot;,[627,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[627,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[627,&quot;^?&quot;,&quot;~u6266bf6e-de40-48c0-a1b6-43f14c875f22&quot;,536870994]],[&quot;^1@&quot;,[628,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[628,&quot;^[&quot;,&quot;## 共识：\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[628,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[628,&quot;^14&quot;,2,536870994]],[&quot;^1@&quot;,[628,&quot;^K&quot;,592,536870994]],[&quot;^1@&quot;,[628,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[628,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[628,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[628,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[628,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[628,&quot;^1G&quot;,2,536870994]],[&quot;^1@&quot;,[628,&quot;^15&quot;,&quot;^1H&quot;,536870994]],[&quot;^1@&quot;,[628,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[628,&quot;^?&quot;,&quot;~u6266bf6e-b423-4559-9568-532b4ad3da38&quot;,536870994]],[&quot;^1@&quot;,[629,&quot;^[&quot;,&quot;key: 任期 term&quot;,536870994]],[&quot;^1@&quot;,[629,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[629,&quot;^K&quot;,599,536870994]],[&quot;^1@&quot;,[629,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[629,&quot;^13&quot;,599,536870994]],[&quot;^1@&quot;,[629,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[629,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[629,&quot;^?&quot;,&quot;~u6266bf6e-ed57-4b13-9ef1-6d4c0975af40&quot;,536870994]],[&quot;^1@&quot;,[630,&quot;^[&quot;,&quot;[[$red]]==在任意分区网络故障的情况下系统仍能继续运行(“the system continues to operate despite arbitrary message loss or failure of part of the system”)== = 分布式系统在遇到任何网络分区故障的时候，仍然能够对外提供满足一致性和可用性的服务。&quot;,536870994]],[&quot;^1@&quot;,[630,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[630,&quot;^K&quot;,584,536870994]],[&quot;^1@&quot;,[630,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[630,&quot;^13&quot;,584,536870994]],[&quot;^1@&quot;,[630,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[630,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[630,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[630,&quot;^M&quot;,549,536870994]],[&quot;^1@&quot;,[630,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[630,&quot;^?&quot;,&quot;~u6266bf6e-6242-4171-b32f-e1031ea1d3f2&quot;,536870994]],[&quot;^1@&quot;,[631,&quot;^[&quot;,&quot;LDAP&quot;,536870994]],[&quot;^1@&quot;,[631,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[631,&quot;^K&quot;,729,536870994]],[&quot;^1@&quot;,[631,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[631,&quot;^13&quot;,623,536870994]],[&quot;^1@&quot;,[631,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[631,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[631,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[631,&quot;^?&quot;,&quot;~u6266bf6e-eb94-44aa-97c7-4de7815a9637&quot;,536870994]],[&quot;^1@&quot;,[632,&quot;^[&quot;,&quot;所以，可以看出，分区容错的前提下，`一致性`和`可用性`是矛盾的。&quot;,536870994]],[&quot;^1@&quot;,[632,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[632,&quot;^K&quot;,574,536870994]],[&quot;^1@&quot;,[632,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[632,&quot;^13&quot;,644,536870994]],[&quot;^1@&quot;,[632,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[632,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[632,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[632,&quot;^?&quot;,&quot;~u6266bf6e-d2de-455d-ae7d-ea8c8a1caa42&quot;,536870994]],[&quot;^1@&quot;,[633,&quot;^[&quot;,&quot;若Acceptor故障，表决时能达到多数派也没问题&quot;,536870994]],[&quot;^1@&quot;,[633,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[633,&quot;^K&quot;,617,536870994]],[&quot;^1@&quot;,[633,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[633,&quot;^13&quot;,617,536870994]],[&quot;^1@&quot;,[633,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[633,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[633,&quot;^?&quot;,&quot;~u6266bf6e-1fa7-4103-86be-0bd088f05bad&quot;,536870994]],[&quot;^1@&quot;,[634,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[634,&quot;^[&quot;,&quot;**复制** (replication)\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[634,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[634,&quot;^K&quot;,710,536870994]],[&quot;^1@&quot;,[634,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[634,&quot;^13&quot;,579,536870994]],[&quot;^1@&quot;,[634,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[634,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[634,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[634,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[634,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[634,&quot;^?&quot;,&quot;~u6266bf6e-995f-4501-8d0e-0c4054d7a123&quot;,536870994]],[&quot;^1@&quot;,[635,&quot;^[&quot;,&quot;故障切换需要添加额外硬件并增加复杂性。&quot;,536870994]],[&quot;^1@&quot;,[635,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[635,&quot;^K&quot;,721,536870994]],[&quot;^1@&quot;,[635,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[635,&quot;^13&quot;,721,536870994]],[&quot;^1@&quot;,[635,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[635,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[635,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[635,&quot;^?&quot;,&quot;~u6266bf6e-4d1a-4c29-8c20-b2fb10dba46a&quot;,536870994]],[&quot;^1@&quot;,[636,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[636,&quot;^[&quot;,&quot;3PC\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[636,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[636,&quot;^K&quot;,620,536870994]],[&quot;^1@&quot;,[636,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[636,&quot;^13&quot;,741,536870994]],[&quot;^1@&quot;,[636,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[636,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[636,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[636,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[636,&quot;^?&quot;,&quot;~u6266bf6e-9074-473d-adae-b277ec6b5c8d&quot;,536870994]],[&quot;^1@&quot;,[637,&quot;^[&quot;,&quot;Leader 服务器接收到请求后在进行广播事务 Proposal 之前会为这个事务分配一个 ZXID，再进行广播。&quot;,536870994]],[&quot;^1@&quot;,[637,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[637,&quot;^K&quot;,639,536870994]],[&quot;^1@&quot;,[637,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[637,&quot;^13&quot;,639,536870994]],[&quot;^1@&quot;,[637,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[637,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[637,&quot;^?&quot;,&quot;~u6266bf6d-cfcd-4f58-b482-5c6aa051b758&quot;,536870994]],[&quot;^1@&quot;,[638,&quot;^[&quot;,&quot;缓存验证协议&quot;,536870994]],[&quot;^1@&quot;,[638,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[638,&quot;^K&quot;,680,536870994]],[&quot;^1@&quot;,[638,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[638,&quot;^13&quot;,567,536870994]],[&quot;^1@&quot;,[638,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[638,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[638,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[638,&quot;^?&quot;,&quot;~u6266bf6e-2827-49b5-a8c0-5641e21e3fcf&quot;,536870994]],[&quot;^1@&quot;,[639,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[639,&quot;^[&quot;,&quot;消息广播模式\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[639,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[639,&quot;^K&quot;,605,536870994]],[&quot;^1@&quot;,[639,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[639,&quot;^13&quot;,605,536870994]],[&quot;^1@&quot;,[639,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[639,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[639,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[639,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[639,&quot;^?&quot;,&quot;~u6266bf6d-10e8-4ee7-85ac-b92f8ef7d884&quot;,536870994]],[&quot;^1@&quot;,[640,&quot;^[&quot;,&quot;[ref1](https://www.cnblogs.com/xybaby/p/10124083.html); [ref2](https://zinglix.xyz/2020/06/25/raft/#:~:text=Raft%20%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E6%8B%9C%E5%8D%A0%E5%BA%AD,%E7%9A%84%E8%80%8C%E9%9D%9E%E4%BC%AA%E9%80%A0%E7%9A%84%E3%80%82&amp;text=%E7%AE%97%E6%B3%95%E5%B0%86%E6%9C%BA%E5%99%A8%E5%88%86%E6%88%90%E4%B8%89,%E9%83%BD%E4%B8%8ELeader%20%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E3%80%82); [ref3](http://dockone.io/article/2434665)&quot;,536870994]],[&quot;^1@&quot;,[640,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[640,&quot;^K&quot;,622,536870994]],[&quot;^1@&quot;,[640,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[640,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[640,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[640,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[640,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[640,&quot;^?&quot;,&quot;~u6266bf6e-5e71-438d-b6da-a0229cbe00db&quot;,536870994]],[&quot;^1@&quot;,[641,&quot;^[&quot;,&quot;一致性指“all nodes see the same data at the same time”，即更新操作成功并返回客户端完成后，所有节点在同一时间的数据完全一致。等同于所有节点拥有数据的最新版本。\\n  \\n  有同一份数据的多份副本，我们面临着怎样同步它们的选择，以便让客户端有一致的显示数据。回想 [CAP 理论](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#cap-%E7%90%86%E8%AE%BA)中的一致性定义 ─ 每次访问都能获得最新数据但可能会收到错误响应 #card&quot;,536870994]],[&quot;^1@&quot;,[641,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[641,&quot;^K&quot;,589,536870994]],[&quot;^1@&quot;,[641,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[641,&quot;^13&quot;,589,536870994]],[&quot;^1@&quot;,[641,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[641,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[641,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[641,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[641,&quot;^?&quot;,&quot;~u6266bf6e-4ec2-471d-a7dd-959c16deb47d&quot;,536870994]],[&quot;^1@&quot;,[642,&quot;^[&quot;,&quot;在满足`可用性`的时候，无论访问N1还是N2，都能获取及时的响应。\\n\\n            ![https://gitee.com/sanfene/picgo3/raw/master/20210916133020.png](https://gitee.com/sanfene/picgo3/raw/master/20210916133020.png)\\n\\n            好的，现在有这样的场景：&quot;,536870994]],[&quot;^1@&quot;,[642,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[642,&quot;^K&quot;,699,536870994]],[&quot;^1@&quot;,[642,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[642,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[642,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[642,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[642,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[642,&quot;^?&quot;,&quot;~u6266bf6e-ec1d-4763-957e-468e13248cff&quot;,536870994]],[&quot;^1@&quot;,[643,&quot;^[&quot;,&quot;要求:  1.Termination，有限时间完成 2.Consensus 不同节点结果一致  3.Validity 合法性，决策的记过必须是其他进程提出的提案&quot;,536870994]],[&quot;^1@&quot;,[643,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[643,&quot;^K&quot;,659,536870994]],[&quot;^1@&quot;,[643,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[643,&quot;^13&quot;,659,536870994]],[&quot;^1@&quot;,[643,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[643,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[643,&quot;^?&quot;,&quot;~u6266bf6e-b8c4-4806-9910-ef38b2246949&quot;,536870994]],[&quot;^1@&quot;,[644,&quot;^[&quot;,&quot;接下来：&quot;,536870994]],[&quot;^1@&quot;,[644,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[644,&quot;^K&quot;,616,536870994]],[&quot;^1@&quot;,[644,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[644,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[644,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[644,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[644,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[644,&quot;^?&quot;,&quot;~u6266bf6e-b6a2-4b81-9e47-25e80daf3a6f&quot;,536870994]],[&quot;^1@&quot;,[645,&quot;^[&quot;,&quot;**Learner学习被选定的value**\\n  Learner学习（获取）被选定的value有如下三种方案：  \\n  ![https://upload-images.jianshu.io/upload_images/1752522-0fab48ed2bdf358a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-0fab48ed2bdf358a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&quot;,536870994]],[&quot;^1@&quot;,[645,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[645,&quot;^K&quot;,740,536870994]],[&quot;^1@&quot;,[645,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[645,&quot;^13&quot;,668,536870994]],[&quot;^1@&quot;,[645,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[645,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[645,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[645,&quot;^?&quot;,&quot;~u6266bf6e-2c15-437e-89dd-0aeca7ce805b&quot;,536870994]],[&quot;^1@&quot;,[646,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[646,&quot;^[&quot;,&quot;强一致性算法\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[646,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[646,&quot;^K&quot;,714,536870994]],[&quot;^1@&quot;,[646,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[646,&quot;^13&quot;,741,536870994]],[&quot;^1@&quot;,[646,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[646,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[646,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[646,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[646,&quot;^?&quot;,&quot;~u6266bf6e-4a88-4706-8479-9bc515c7da29&quot;,536870994]],[&quot;^1@&quot;,[647,&quot;^[&quot;,&quot;**Leader election 领导选举**：有且仅有一个leader节点，如果leader宕机，通过选举机制选出新的leader；&quot;,536870994]],[&quot;^1@&quot;,[647,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[647,&quot;^K&quot;,606,536870994]],[&quot;^1@&quot;,[647,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[647,&quot;^13&quot;,606,536870994]],[&quot;^1@&quot;,[647,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[647,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[647,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[647,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[647,&quot;^?&quot;,&quot;~u6266bf6e-fce8-46ac-ba86-cc4d32507424&quot;,536870994]],[&quot;^1@&quot;,[648,&quot;^[&quot;,&quot;在写入后，访问立即可见。数据被同步复制。\\n  \\n  文件系统和关系型数据库（RDBMS）中使用的是此种方式。强一致性在需要记录的系统中运作良好。&quot;,536870994]],[&quot;^1@&quot;,[648,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[648,&quot;^K&quot;,696,536870994]],[&quot;^1@&quot;,[648,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[648,&quot;^13&quot;,696,536870994]],[&quot;^1@&quot;,[648,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[648,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[648,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[648,&quot;^?&quot;,&quot;~u6266bf6e-6f95-40c6-899c-e821050cf654&quot;,536870994]],[&quot;^1@&quot;,[649,&quot;^[&quot;,&quot;执行过程中，所有参与节点都是事务阻塞型的。当参与者占有公共资源时，其他第三方节点访问公共资源不得不处于阻塞状态。&quot;,536870994]],[&quot;^1@&quot;,[649,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[649,&quot;^K&quot;,672,536870994]],[&quot;^1@&quot;,[649,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[649,&quot;^13&quot;,672,536870994]],[&quot;^1@&quot;,[649,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[649,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[649,&quot;^?&quot;,&quot;~u6266bf6e-ca1c-41f0-92d2-561b23055e4d&quot;,536870994]],[&quot;^1@&quot;,[650,&quot;^[&quot;,&quot;[总结 - 三者对比](https://blog.csdn.net/weixin_43705457/article/details/113840487)&quot;,536870994]],[&quot;^1@&quot;,[650,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[650,&quot;^K&quot;,600,536870994]],[&quot;^1@&quot;,[650,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[650,&quot;^13&quot;,646,536870994]],[&quot;^1@&quot;,[650,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[650,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[650,&quot;^?&quot;,&quot;~u6266bf6d-1a17-4cea-a611-149c56bbe9cf&quot;,536870994]],[&quot;^1@&quot;,[651,&quot;^[&quot;,&quot;用户可以选择向 G1 或 G2 发起读操作。不管是哪台服务器，只要收到请求，就必须告诉用户，到底是 v0 还是 v1，否则就不满足可用性。&quot;,536870994]],[&quot;^1@&quot;,[651,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[651,&quot;^K&quot;,621,536870994]],[&quot;^1@&quot;,[651,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[651,&quot;^13&quot;,621,536870994]],[&quot;^1@&quot;,[651,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[651,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[651,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[651,&quot;^?&quot;,&quot;~u6266bf6e-ee09-4f59-8f42-43d7bdc210e5&quot;,536870994]],[&quot;^1@&quot;,[652,&quot;^[&quot;,&quot;**阶段一：CanCommit**\\n  \\n  协调者向所有参与者发送 `CanCommit` 请求，参与者收到请求后会根据自身情况查看是否能执行事务，如果可以则返回 YES 响应并进入预备状态，否则返回 NO&quot;,536870994]],[&quot;^1@&quot;,[652,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[652,&quot;^K&quot;,657,536870994]],[&quot;^1@&quot;,[652,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[652,&quot;^13&quot;,657,536870994]],[&quot;^1@&quot;,[652,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[652,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[652,&quot;^?&quot;,&quot;~u6266bf6e-92bc-4d07-ba47-72a9357b963f&quot;,536870994]],[&quot;^1@&quot;,[653,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[653,&quot;^[&quot;,&quot;## CAP\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[653,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[653,&quot;^14&quot;,2,536870994]],[&quot;^1@&quot;,[653,&quot;^K&quot;,628,536870994]],[&quot;^1@&quot;,[653,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[653,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[653,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[653,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[653,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[653,&quot;^1G&quot;,2,536870994]],[&quot;^1@&quot;,[653,&quot;^15&quot;,&quot;^1H&quot;,536870994]],[&quot;^1@&quot;,[653,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[653,&quot;^?&quot;,&quot;~u6266bf6e-2848-45cb-9d26-66e3c5b9c44b&quot;,536870994]],[&quot;^1@&quot;,[654,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[654,&quot;^[&quot;,&quot;**工作到备用切换（Active-passive）**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[654,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[654,&quot;^K&quot;,710,536870994]],[&quot;^1@&quot;,[654,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[654,&quot;^13&quot;,710,536870994]],[&quot;^1@&quot;,[654,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[654,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[654,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[654,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[654,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[654,&quot;^?&quot;,&quot;~u6266bf6e-d265-4d83-b885-4442574a5773&quot;,536870994]],[&quot;^1@&quot;,[655,&quot;^[&quot;,&quot;所以，[Raft算法核心流程可以归纳为：](https://zinglix.xyz/2020/06/25/raft/#:~:text=Raft%20%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E6%8B%9C%E5%8D%A0%E5%BA%AD,%E7%9A%84%E8%80%8C%E9%9D%9E%E4%BC%AA%E9%80%A0%E7%9A%84%E3%80%82&amp;text=%E7%AE%97%E6%B3%95%E5%B0%86%E6%9C%BA%E5%99%A8%E5%88%86%E6%88%90%E4%B8%89,%E9%83%BD%E4%B8%8ELeader%20%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E3%80%82) #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:18.157Z\\ncard-last-reviewed:: 2022-03-23T13:02:18.162Z\\ncard-last-score:: 3\\nid:: be82f75d-5ea6-4ee9-8607-ec212ccc1773&quot;,536870994]],[&quot;^1@&quot;,[655,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[655,&quot;^K&quot;,606,536870994]],[&quot;^1@&quot;,[655,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[655,&quot;^13&quot;,719,536870994]],[&quot;^1@&quot;,[655,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[655,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[655,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[655,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:18.157Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:18.162Z&quot;,&quot;^1M&quot;,3,&quot;^1S&quot;,&quot;be82f75d-5ea6-4ee9-8607-ec212ccc1773&quot;],536870994]],[&quot;^1@&quot;,[655,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[655,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[655,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[655,&quot;^?&quot;,&quot;~ube82f75d-5ea6-4ee9-8607-ec212ccc1773&quot;,536870994]],[&quot;^1@&quot;,[656,&quot;^[&quot;,&quot;1. Leader总统节点，负责发出提案\\n  2. Follower追随者节点，负责同意Leader发出的提案\\n  3. Candidate候选人，负责争夺Leader&quot;,536870994]],[&quot;^1@&quot;,[656,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[656,&quot;^K&quot;,658,536870994]],[&quot;^1@&quot;,[656,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[656,&quot;^13&quot;,658,536870994]],[&quot;^1@&quot;,[656,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[656,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[656,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[656,&quot;^?&quot;,&quot;~u6266bf6e-cee2-4d62-bc14-dee60ee4ec9e&quot;,536870994]],[&quot;^1@&quot;,[657,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[657,&quot;^[&quot;,&quot;流程\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[657,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[657,&quot;^K&quot;,718,536870994]],[&quot;^1@&quot;,[657,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[657,&quot;^13&quot;,636,536870994]],[&quot;^1@&quot;,[657,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[657,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[657,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[657,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[657,&quot;^?&quot;,&quot;~u6266bf6e-ba3f-4534-9c60-879c441b6b47&quot;,536870994]],[&quot;^1@&quot;,[658,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[658,&quot;^[&quot;,&quot;3个角色\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[658,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[658,&quot;^K&quot;,640,536870994]],[&quot;^1@&quot;,[658,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[658,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[658,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[658,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[658,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[658,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[658,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[658,&quot;^?&quot;,&quot;~u6266bf6e-1639-4af5-9452-6f61abbdd978&quot;,536870994]],[&quot;^1@&quot;,[659,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[659,&quot;^[&quot;,&quot;共识算法就是保证一个集群的多台机器协同工作，在遇到请求时，数据能够保持一致。**即使遇到机器宕机，整个系统仍然能够对外保持服务的可用性**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[659,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[659,&quot;^K&quot;,684,536870994]],[&quot;^1@&quot;,[659,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[659,&quot;^13&quot;,628,536870994]],[&quot;^1@&quot;,[659,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[659,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[659,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[659,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[659,&quot;^?&quot;,&quot;~u6266bf6e-071a-439a-a63a-a6824843bf79&quot;,536870994]],[&quot;^1@&quot;,[660,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[660,&quot;^[&quot;,&quot;Availability. ：**可用性**\\ncard-last-score:: 3\\ncard-repeats:: 1\\ncard-next-schedule:: 2022-03-27T10:20:42.311Z\\ncard-last-interval:: 4\\ncard-ease-factor:: 2.36\\ncard-last-reviewed:: 2022-03-23T10:20:42.318Z\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[660,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[660,&quot;^K&quot;,584,536870994]],[&quot;^1@&quot;,[660,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[660,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[660,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[660,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[660,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1M&quot;,3,&quot;^1N&quot;,1,&quot;^1O&quot;,&quot;2022-03-27T10:20:42.311Z&quot;,&quot;^1P&quot;,4,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:20:42.318Z&quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[660,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1M&quot;,&quot;^1N&quot;,&quot;^1O&quot;,&quot;^1P&quot;,&quot;^1Q&quot;,&quot;^1R&quot;,&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[660,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[660,&quot;^?&quot;,&quot;~u6266bf6e-f1e8-4cca-a051-a55eb4b79260&quot;,536870994]],[&quot;^1@&quot;,[661,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[661,&quot;^[&quot;,&quot;ZAB 协议对于不同阶段的出现的数据不一致的情况做了兼容，保证：\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[661,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[661,&quot;^K&quot;,705,536870994]],[&quot;^1@&quot;,[661,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[661,&quot;^13&quot;,705,536870994]],[&quot;^1@&quot;,[661,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[661,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[661,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[661,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[661,&quot;^?&quot;,&quot;~u6266bf6d-f9bc-4960-8b26-5f97d51ed2e5&quot;,536870994]],[&quot;^1@&quot;,[662,&quot;^[&quot;,&quot;当有超过半数的服务器 ACK 响应后，Leader 就会广播一个 Commit 消息给所有的 Follower 服务器，Follower 接收到后就完成对事务的提交操作。&quot;,536870994]],[&quot;^1@&quot;,[662,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[662,&quot;^K&quot;,613,536870994]],[&quot;^1@&quot;,[662,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[662,&quot;^13&quot;,639,536870994]],[&quot;^1@&quot;,[662,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[662,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[662,&quot;^?&quot;,&quot;~u6266bf6d-fb9b-4f2a-87f3-4459b8bc26e9&quot;,536870994]],[&quot;^1@&quot;,[663,&quot;^[&quot;,&quot;**阶段一：**&quot;,536870994]],[&quot;^1@&quot;,[663,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[663,&quot;^K&quot;,668,536870994]],[&quot;^1@&quot;,[663,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[663,&quot;^13&quot;,668,536870994]],[&quot;^1@&quot;,[663,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[663,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[663,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[663,&quot;^?&quot;,&quot;~u6266bf6e-d25a-4802-a82f-1a24d84805fc&quot;,536870994]],[&quot;^1@&quot;,[664,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[664,&quot;^[&quot;,&quot;潜在问题-**活锁**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[664,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[664,&quot;^K&quot;,617,536870994]],[&quot;^1@&quot;,[664,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[664,&quot;^13&quot;,585,536870994]],[&quot;^1@&quot;,[664,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[664,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[664,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[664,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[664,&quot;^?&quot;,&quot;~u6266bf6e-a648-45c7-901b-db82e22f331a&quot;,536870994]],[&quot;^1@&quot;,[665,&quot;^[&quot;,&quot;2. 如果一个Acceptor收到一个编号为N的Prepare请求，且N**大于**该Acceptor已经**响应过的**所有**Prepare请求**的编号，那么它就会将它已经**接受过的编号最大的提案（如果有的话）**作为响应反馈给Proposer，同时该Acceptor承诺**不再接受**任何**编号小于N的提案**。(acceptor返回)&quot;,536870994]],[&quot;^1@&quot;,[665,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[665,&quot;^K&quot;,734,536870994]],[&quot;^1@&quot;,[665,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[665,&quot;^13&quot;,663,536870994]],[&quot;^1@&quot;,[665,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[665,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[665,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[665,&quot;^?&quot;,&quot;~u6266bf6e-98e5-471e-aee3-671cacd241ea&quot;,536870994]],[&quot;^1@&quot;,[666,&quot;^[&quot;,&quot;在2PC中，只有协调者拥有超时机制，3PC同时在协调者和参与者中都引入超时机制， 主要是避免了参与者在长时间无法与协调者节点通讯（协调者挂掉了）的情况下，无法释放资源的问题，因为参与者自身拥有超时机制会在超时后主动提交释放资源，降低了阻塞时间。由于有第一阶段canCommit的yes才会进入第三阶段，因而该阶段极大概率是commit而不是rollback，因而当协调者挂掉后，默认执行commit是最接近正确的行为。&quot;,536870994]],[&quot;^1@&quot;,[666,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[666,&quot;^K&quot;,690,536870994]],[&quot;^1@&quot;,[666,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[666,&quot;^13&quot;,690,536870994]],[&quot;^1@&quot;,[666,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[666,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[666,&quot;^?&quot;,&quot;~u6266bf6e-26e5-4b6d-b893-4c5395063d7a&quot;,536870994]],[&quot;^1@&quot;,[667,&quot;^[&quot;,&quot;在P2A中，当协调者向参与者发送commit请求之后，发生了局部网络异常或者在发送commit请求过程中协调者发生了故障，这会导致只有一部分参与者接受到commit请求。而在这部分参与者接到commit请求之后就会执行commit操作。但是其他部分未接到commit请求的机器则无法执行事务提交，于是整个分布式系统便出现了数据不一致性的现象。&quot;,536870994]],[&quot;^1@&quot;,[667,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[667,&quot;^K&quot;,743,536870994]],[&quot;^1@&quot;,[667,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[667,&quot;^13&quot;,743,536870994]],[&quot;^1@&quot;,[667,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[667,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[667,&quot;^?&quot;,&quot;~u6266bf6e-fd19-4679-85c2-9cce596a2a71&quot;,536870994]],[&quot;^1@&quot;,[668,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[668,&quot;^[&quot;,&quot;Paxos算法步骤\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:41.130Z\\ncard-last-reviewed:: 2022-03-23T13:02:41.130Z\\ncard-last-score:: 3\\ncollapsed:: true\\nid:: 891a3683-bcb7-4ea8-9583-f5050c12ea9b\\n  Paxos算法分为**两个阶段**。具体如下： #card&quot;,536870994]],[&quot;^1@&quot;,[668,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[668,&quot;^K&quot;,578,536870994]],[&quot;^1@&quot;,[668,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[668,&quot;^13&quot;,599,536870994]],[&quot;^1@&quot;,[668,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[668,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[668,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:41.130Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:41.130Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true,&quot;^1S&quot;,&quot;891a3683-bcb7-4ea8-9583-f5050c12ea9b&quot;],536870994]],[&quot;^1@&quot;,[668,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[668,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[668,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[668,&quot;^?&quot;,&quot;~u891a3683-bcb7-4ea8-9583-f5050c12ea9b&quot;,536870994]],[&quot;^1@&quot;,[669,&quot;^[&quot;,&quot;和raft算法的主要区别：\\n  1. 对于Leader的任期，raft叫做term，而ZAB叫做epoch\\n  2. 在状态复制的过程中，raft的心跳从Leader向Follower发送，而ZAB则相反。&quot;,536870994]],[&quot;^1@&quot;,[669,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[669,&quot;^K&quot;,605,536870994]],[&quot;^1@&quot;,[669,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[669,&quot;^13&quot;,600,536870994]],[&quot;^1@&quot;,[669,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[669,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[669,&quot;^?&quot;,&quot;~u6266bf6d-2f43-4235-88fe-95a319ac63ec&quot;,536870994]],[&quot;^1@&quot;,[670,&quot;^[&quot;,&quot;Leader 绝不会覆盖或删除自己的日志，只会追加 （**Leader Append-Only**）\\n  \\n  第一点主要是因为选举时的限制，根据 Leader Completeness，成为 Leader 的结点里的日志一定拥有所有已被多数节点拥有的日志条目，所以先前的日志条目很可能已经被提交，因此不可以删除之前的日志。&quot;,536870994]],[&quot;^1@&quot;,[670,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[670,&quot;^K&quot;,556,536870994]],[&quot;^1@&quot;,[670,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[670,&quot;^13&quot;,556,536870994]],[&quot;^1@&quot;,[670,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[670,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[670,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[670,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[670,&quot;^?&quot;,&quot;~u6266bf6e-05a2-4b0c-9df4-7550cd05ae8f&quot;,536870994]],[&quot;^1@&quot;,[671,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[671,&quot;^[&quot;,&quot;**双工作切换（Active-active）**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[671,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[671,&quot;^K&quot;,654,536870994]],[&quot;^1@&quot;,[671,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[671,&quot;^13&quot;,710,536870994]],[&quot;^1@&quot;,[671,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[671,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[671,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[671,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[671,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[671,&quot;^?&quot;,&quot;~u6266bf6e-9aaf-4972-9512-a5239252e813&quot;,536870994]],[&quot;^1@&quot;,[672,&quot;^[&quot;,&quot;同步阻塞问题&quot;,536870994]],[&quot;^1@&quot;,[672,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[672,&quot;^K&quot;,569,536870994]],[&quot;^1@&quot;,[672,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[672,&quot;^13&quot;,569,536870994]],[&quot;^1@&quot;,[672,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[672,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[672,&quot;^?&quot;,&quot;~u6266bf6e-5c07-43e9-8eff-d734dd101105&quot;,536870994]],[&quot;^1@&quot;,[673,&quot;^[&quot;,&quot;这个主题进一步探讨了[数据库](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E6%95%B0%E6%8D%AE%E5%BA%93)部分:&quot;,536870994]],[&quot;^1@&quot;,[673,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[673,&quot;^K&quot;,634,536870994]],[&quot;^1@&quot;,[673,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[673,&quot;^13&quot;,634,536870994]],[&quot;^1@&quot;,[673,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[673,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[673,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[673,&quot;^?&quot;,&quot;~u6266bf6e-1cb9-49f9-9e2e-f99928d72a04&quot;,536870994]],[&quot;^1@&quot;,[674,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[674,&quot;^[&quot;,&quot;AP - **牺牲一致性** - BASE\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[674,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[674,&quot;^K&quot;,685,536870994]],[&quot;^1@&quot;,[674,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[674,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[674,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[674,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[674,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[674,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[674,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[674,&quot;^?&quot;,&quot;~u6266bf6e-5151-42ff-bad1-63916dc389d7&quot;,536870994]],[&quot;^1@&quot;,[675,&quot;^[&quot;,&quot;AP wihtout C：要高可用(马上响应)并允许分区，则需放弃一致性。一旦分区发生，节点之间可能会失去联系，为了高可用，每个节点只能用本地数据提供服务，而这样会导致全局数据的不一致性。现在众多的NoSQL都属于此类。&quot;,536870994]],[&quot;^1@&quot;,[675,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[675,&quot;^K&quot;,674,536870994]],[&quot;^1@&quot;,[675,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[675,&quot;^13&quot;,674,536870994]],[&quot;^1@&quot;,[675,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[675,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[675,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[675,&quot;^?&quot;,&quot;~u6266bf6e-f5b2-4221-8da0-9a03819668b2&quot;,536870994]],[&quot;^1@&quot;,[676,&quot;^[&quot;,&quot;**最终一致性**\\n  \\n  最终一致性强调的是系统中所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态。因此，最终一致性的本质是需要系统保证最终数据能够达到一致，而不需要实时保证系统数据的强一致性。\\n  \\n  最终一致性怎么保证呢？\\n  \\n  &gt; 读时修复 : 在读取数据时，检测数据的不一致，进行修复。比如 Cassandra 的 Read Repair 实现，具体来说，在向 Cassandra 系统查询数据的时候，如果检测到不同节点 的副本数据不一致，系统就自动修复数据。写时修复 : 在写入数据，检测数据的不一致时，进行修复。比如 Cassandra 的 Hinted Handoff 实现。具体来说，Cassandra 集群的节点之间远程写数据的时候，如果写失败 就将数据缓存下来，然后定时重传，修复数据的不一致性。异步修复 : 这个是最常用的方式，通过定时对账检测副本数据的一致性，并修复。\\n  &gt; \\n\\n            ![https://gitee.com/sanfene/picgo3/raw/master/20210916133959.png](https://gitee.com/sanfene/picgo3/raw/master/20210916133959.png)&quot;,536870994]],[&quot;^1@&quot;,[676,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[676,&quot;^K&quot;,731,536870994]],[&quot;^1@&quot;,[676,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[676,&quot;^13&quot;,733,536870994]],[&quot;^1@&quot;,[676,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[676,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[676,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[676,&quot;^?&quot;,&quot;~u6266bf6e-1dfc-4112-996b-2e0d1d0d723b&quot;,536870994]],[&quot;^1@&quot;,[677,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[677,&quot;^[&quot;,&quot;总结\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[677,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[677,&quot;^K&quot;,719,536870994]],[&quot;^1@&quot;,[677,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[677,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[677,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[677,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[677,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[677,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[677,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[677,&quot;^?&quot;,&quot;~u6266bf6e-2a69-4f01-a9bf-f9589e1b4f85&quot;,536870994]],[&quot;^1@&quot;,[678,&quot;^[&quot;,&quot;DNS&quot;,536870994]],[&quot;^1@&quot;,[678,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[678,&quot;^K&quot;,582,536870994]],[&quot;^1@&quot;,[678,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[678,&quot;^13&quot;,582,536870994]],[&quot;^1@&quot;,[678,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[678,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[678,&quot;^?&quot;,&quot;~u6266bf6e-a494-4b44-b300-1fbc9aa2cbb6&quot;,536870994]],[&quot;^1@&quot;,[679,&quot;^[&quot;,&quot;1. 注意：V就是收到的**响应**中**编号最大的提案的value**，如果响应中**不包含任何提案**，那么V就由Proposer**自己决定**。&quot;,536870994]],[&quot;^1@&quot;,[679,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[679,&quot;^K&quot;,566,536870994]],[&quot;^1@&quot;,[679,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[679,&quot;^13&quot;,566,536870994]],[&quot;^1@&quot;,[679,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[679,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[679,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[679,&quot;^?&quot;,&quot;~u6266bf6e-8ce0-4fe3-a85f-2b2485a1ec39&quot;,536870994]],[&quot;^1@&quot;,[680,&quot;^[&quot;,&quot;两阶段提交&quot;,536870994]],[&quot;^1@&quot;,[680,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[680,&quot;^K&quot;,567,536870994]],[&quot;^1@&quot;,[680,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[680,&quot;^13&quot;,567,536870994]],[&quot;^1@&quot;,[680,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[680,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[680,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[680,&quot;^?&quot;,&quot;~u6266bf6e-a443-4a86-ad20-338e361f494a&quot;,536870994]],[&quot;^1@&quot;,[681,&quot;^[&quot;,&quot;和2CP一样，3CP还是可能会存在不一致性问题\\n  \\n  比如在 `PreCommit` 阶段，当一个参与者收到了请求之后其他参与者和协调者挂了或者出现了网络分区，这个时候收到消息的参与者都会进行事务提交，这就会出现数据不一致性问题。\\n  \\n  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fc24eaa3-1c59-4061-ba5d-7ba3111fb240/Untitled.png)&quot;,536870994]],[&quot;^1@&quot;,[681,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[681,&quot;^K&quot;,565,536870994]],[&quot;^1@&quot;,[681,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[681,&quot;^13&quot;,565,536870994]],[&quot;^1@&quot;,[681,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[681,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[681,&quot;^?&quot;,&quot;~u6266bf6e-3af9-4155-b11a-b4be67067547&quot;,536870994]],[&quot;^1@&quot;,[682,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[682,&quot;^[&quot;,&quot;流程\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[682,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[682,&quot;^K&quot;,735,536870994]],[&quot;^1@&quot;,[682,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[682,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[682,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[682,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[682,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[682,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[682,&quot;^?&quot;,&quot;~u6266bf6e-50f9-437f-bd1b-00e100817a9a&quot;,536870994]],[&quot;^1@&quot;,[683,&quot;^[&quot;,&quot;public:: true\\ntags:: blog_list_cn\\n\\n&quot;,536870994]],[&quot;^1@&quot;,[683,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[683,&quot;^K&quot;,293,536870994]],[&quot;^1@&quot;,[683,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[683,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[683,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[683,&quot;^12&quot;,548,536870994]],[&quot;^1@&quot;,[683,&quot;^=&quot;,true,536870994]],[&quot;^1@&quot;,[683,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;^1K&quot;,[&quot;~#set&quot;,[&quot;blog_list_cn&quot;]]],536870994]],[&quot;^1@&quot;,[683,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;,&quot;^1K&quot;]],536870994]],[&quot;^1@&quot;,[683,&quot;^M&quot;,548,536870994]],[&quot;^1@&quot;,[683,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[683,&quot;^?&quot;,&quot;~u6266bf6e-ccd1-41f5-be9c-a9cf3ff96cae&quot;,536870994]],[&quot;^1@&quot;,[684,&quot;^[&quot;,&quot;**让几个节点达成一致（get serveral nodes to agree on something）**&quot;,536870994]],[&quot;^1@&quot;,[684,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[684,&quot;^K&quot;,628,536870994]],[&quot;^1@&quot;,[684,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[684,&quot;^13&quot;,628,536870994]],[&quot;^1@&quot;,[684,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[684,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[684,&quot;^?&quot;,&quot;~u6266bf6e-a841-4b50-98f6-d7a0ffaa0710&quot;,536870994]],[&quot;^1@&quot;,[685,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[685,&quot;^[&quot;,&quot;CP - **牺牲可用性**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[685,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[685,&quot;^K&quot;,589,536870994]],[&quot;^1@&quot;,[685,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[685,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[685,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[685,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[685,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[685,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[685,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[685,&quot;^?&quot;,&quot;~u6266bf6e-67e9-4d2e-8a1d-a5da83ff3dc9&quot;,536870994]],[&quot;^1@&quot;,[686,&quot;^[&quot;,&quot;**阶段二：PreCommit**\\n  \\n  协调者根据参与者返回的响应来决定是否可以进行下面的 `PreCommit` 操作。如果上面参与者返回的都是 YES，那么协调者将向所有参与者发送 `PreCommit` 预提交请求，**参与者收到预提交请求后，会进行事务的执行操作，并将 Undo 和 Redo 信息写入事务日志中** ，最后如果参与者顺利执行了事务则给协调者返回成功的 `Ack` 响应。如果在第一阶段协调者收到了 **任何一个 NO** 的信息，或者 **在一定时间内** 并没有收到全部的参与者的响应，那么就会中断事务，它会向所有参与者发送中断请求 `abort`，参与者收到中断请求之后会立即中断事务，或者在一定时间内没有收到协调者的请求，它也会中断事务&quot;,536870994]],[&quot;^1@&quot;,[686,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[686,&quot;^K&quot;,652,536870994]],[&quot;^1@&quot;,[686,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[686,&quot;^13&quot;,657,536870994]],[&quot;^1@&quot;,[686,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[686,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[686,&quot;^?&quot;,&quot;~u6266bf6e-a054-4d71-b328-0927cdd71cc1&quot;,536870994]],[&quot;^1@&quot;,[687,&quot;^[&quot;,&quot;乐观&quot;,536870994]],[&quot;^1@&quot;,[687,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[687,&quot;^K&quot;,593,536870994]],[&quot;^1@&quot;,[687,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[687,&quot;^13&quot;,598,536870994]],[&quot;^1@&quot;,[687,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[687,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[687,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[687,&quot;^?&quot;,&quot;~u6266bf6e-d9f3-40b6-9121-8bd046c332df&quot;,536870994]],[&quot;^1@&quot;,[688,&quot;^[&quot;,&quot;悲观锁&quot;,536870994]],[&quot;^1@&quot;,[688,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[688,&quot;^K&quot;,624,536870994]],[&quot;^1@&quot;,[688,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[688,&quot;^13&quot;,624,536870994]],[&quot;^1@&quot;,[688,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[688,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[688,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[688,&quot;^?&quot;,&quot;~u6266bf6e-9ab5-4f44-b7f1-0b2ad52c4552&quot;,536870994]],[&quot;^1@&quot;,[689,&quot;^[&quot;,&quot;在双工作切换中，双方都在管控流量，在它们之间分散负载。\\n  \\n  如果是外网服务器，DNS 将需要对两方都了解。如果是内网服务器，应用程序逻辑将需要对两方都了解。\\n  \\n  双工作切换也可以称为主主切换。&quot;,536870994]],[&quot;^1@&quot;,[689,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[689,&quot;^K&quot;,671,536870994]],[&quot;^1@&quot;,[689,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[689,&quot;^13&quot;,671,536870994]],[&quot;^1@&quot;,[689,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[689,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[689,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[689,&quot;^?&quot;,&quot;~u6266bf6e-0cf2-49d1-8d58-c8212dfcb123&quot;,536870994]],[&quot;^1@&quot;,[690,&quot;^[&quot;,&quot;引入超时机制。&quot;,536870994]],[&quot;^1@&quot;,[690,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[690,&quot;^K&quot;,724,536870994]],[&quot;^1@&quot;,[690,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[690,&quot;^13&quot;,614,536870994]],[&quot;^1@&quot;,[690,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[690,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[690,&quot;^?&quot;,&quot;~u6266bf6e-5d0c-421a-a873-dc97af3511ce&quot;,536870994]],[&quot;^1@&quot;,[691,&quot;^[&quot;,&quot;三阶段提交（three-phase commit）&quot;,536870994]],[&quot;^1@&quot;,[691,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[691,&quot;^K&quot;,636,536870994]],[&quot;^1@&quot;,[691,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[691,&quot;^13&quot;,636,536870994]],[&quot;^1@&quot;,[691,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[691,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[691,&quot;^?&quot;,&quot;~u6266bf6e-3c84-4cc0-a30b-d8f229f3094d&quot;,536870994]],[&quot;^1@&quot;,[692,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[692,&quot;^[&quot;,&quot;**最终一致性**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[692,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[692,&quot;^K&quot;,580,536870994]],[&quot;^1@&quot;,[692,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[692,&quot;^13&quot;,576,536870994]],[&quot;^1@&quot;,[692,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[692,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[692,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[692,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[692,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[692,&quot;^?&quot;,&quot;~u6266bf6e-936d-4767-b34e-336d19aabce9&quot;,536870994]],[&quot;^1@&quot;,[693,&quot;^[&quot;,&quot;G1 和 G2 是两台跨区的服务器。G1 向 G2 发送一条消息，G2 可能无法收到。系统设计的时候，必须考虑到这种情况。&quot;,536870994]],[&quot;^1@&quot;,[693,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[693,&quot;^K&quot;,571,536870994]],[&quot;^1@&quot;,[693,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[693,&quot;^13&quot;,584,536870994]],[&quot;^1@&quot;,[693,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[693,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[693,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[693,&quot;^?&quot;,&quot;~u6266bf6e-7c6e-47a2-9619-3c3385560aa5&quot;,536870994]],[&quot;^1@&quot;,[694,&quot;^[&quot;,&quot;让几个节点达成一致 ：[一致性算法]&quot;,536870994]],[&quot;^1@&quot;,[694,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[694,&quot;^K&quot;,576,536870994]],[&quot;^1@&quot;,[694,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[694,&quot;^13&quot;,589,536870994]],[&quot;^1@&quot;,[694,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[694,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[694,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[694,&quot;^?&quot;,&quot;~u6266bf6e-3a39-4c01-a8bc-01b389c7ae5b&quot;,536870994]],[&quot;^1@&quot;,[695,&quot;^[&quot;,&quot;**阶段一prepare：提交事务请求（”投票阶段“）**\\n  \\n  proposer：发送提案和编号到acceptor试探是否获取多数接受者的支持\\n  acceptor：保留接受到的提案的最大编号和接受的最大提案，时刻更新当前的最大提案号，不接受下雨最大提案号的提案（一般来说，算法当中，越是后提交的，即新的提案，编号越大，使用时间戳等方式）\\n  \\n  当要执行一个分布式事务的时候，事务发起者首先向协调者发起事务请求，然后协调者会给所有参与者发送 `prepare` 请求（其中包括事务内容）告诉参与者你们需要执行事务了，如果能执行我发的事务内容那么就先执行但不提交，执行后请给我回复。然后参与者收到 `prepare` 消息后，他们会开始执行事务（但不提交），并将 `Undo` 和 `Redo` 信息记入事务日志中，之后参与者就向协调者反馈是否准备好了&quot;,536870994]],[&quot;^1@&quot;,[695,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[695,&quot;^K&quot;,627,536870994]],[&quot;^1@&quot;,[695,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[695,&quot;^13&quot;,682,536870994]],[&quot;^1@&quot;,[695,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[695,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[695,&quot;^?&quot;,&quot;~u6266bf6e-60e2-460e-93b4-4b5cf9912aa8&quot;,536870994]],[&quot;^1@&quot;,[696,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[696,&quot;^[&quot;,&quot;**强一致性**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[696,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[696,&quot;^K&quot;,576,536870994]],[&quot;^1@&quot;,[696,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[696,&quot;^13&quot;,576,536870994]],[&quot;^1@&quot;,[696,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[696,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[696,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[696,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[696,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[696,&quot;^?&quot;,&quot;~u6266bf6e-69a5-4083-a511-224fdcda7230&quot;,536870994]],[&quot;^1@&quot;,[697,&quot;^[&quot;,&quot;只在 Leader 服务器上**提出**的事务，要丢弃&quot;,536870994]],[&quot;^1@&quot;,[697,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[697,&quot;^K&quot;,577,536870994]],[&quot;^1@&quot;,[697,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[697,&quot;^13&quot;,661,536870994]],[&quot;^1@&quot;,[697,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[697,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[697,&quot;^?&quot;,&quot;~u6266bf6d-c8f3-4de8-ab6a-b29d40ccbe5a&quot;,536870994]],[&quot;^1@&quot;,[698,&quot;^[&quot;,&quot;Web 缓存&quot;,536870994]],[&quot;^1@&quot;,[698,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[698,&quot;^K&quot;,723,536870994]],[&quot;^1@&quot;,[698,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[698,&quot;^13&quot;,557,536870994]],[&quot;^1@&quot;,[698,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[698,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[698,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[698,&quot;^?&quot;,&quot;~u6266bf6e-9759-4ae4-8ad7-04631b17b3c4&quot;,536870994]],[&quot;^1@&quot;,[699,&quot;^[&quot;,&quot;在满足`一致性` 的时候，N1和N2的数据要求值一样的，D1=D2。&quot;,536870994]],[&quot;^1@&quot;,[699,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[699,&quot;^K&quot;,562,536870994]],[&quot;^1@&quot;,[699,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[699,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[699,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[699,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[699,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[699,&quot;^?&quot;,&quot;~u6266bf6e-9907-4bf3-b9e0-2cfa6038c194&quot;,536870994]],[&quot;^1@&quot;,[700,&quot;^[&quot;,&quot;日志同步\\n  \\n  日志同步这一过程由一个称为 AppendEntries 的 RPC 调用实现，Leader 会给每个 Follower 发送该 RPC 以追加日志，请求中除了当前任期 term、Leader 的 id 和已提交的日志 index，还有将要追加的日志列表（空则成为心跳包），前一个日志的 index 和 term。\\n  \\n  当接收到该请求后，会先检查 term，如果请求中的 term 比自己的小说明已过期，拒绝请求。之后会对比先前日志的 index 和 term，如果一致，那么由前提可知前面的日志均相同，那么就可以从此处更新日志，将请求中的所有日志写入自己的日志列表中，否则返回 false。如果发生 index 相同但 term 不同则清空后续所有的日志，以 Leader 为准。最后检查已提交的日志 index，对可提交的日志进行提交操作。\\n  \\n  对于 Leader 来说会维护 nextIndex[] 和 matchIndex[] 两个数组，分别记录了每个 Follower 下一个将要发送的日志 index 和已经匹配上的日志 index。每次成为 Leader 都会初始化这两个数组，前者初始化为 Leader 最后一条日志的 index 加 1，后者初始化为 0。每次发送 RPC 时会发送 nextIndex[i] 及之后的日志，成功则更新两个数组，否则减少 nextIndex[i] 的值重试，重复这一过程直至成功。\\n  \\n  &gt; 这里减少 nextIndex 的值有不同的策略，可以每次减一，也可以减一个较大的值，或者是跨任期减少，用于快速找到和该结点相匹配的日志条目。实际中还有可能会定期存储日志，所以当前日志列表中并不会太大，可以完整打包发给对方，这一做法比较适合新加入集群的结点。\\n  &gt; \\n  &gt; \\n  &gt; ![https://zinglix.xyz/img/in-post/raft/4.png](https://zinglix.xyz/img/in-post/raft/4.png)\\n  &gt;&quot;,536870994]],[&quot;^1@&quot;,[700,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[700,&quot;^K&quot;,556,536870994]],[&quot;^1@&quot;,[700,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[700,&quot;^13&quot;,553,536870994]],[&quot;^1@&quot;,[700,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[700,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[700,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[700,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[700,&quot;^?&quot;,&quot;~u6266bf6e-b5bb-4b06-9233-40537535470c&quot;,536870994]],[&quot;^1@&quot;,[701,&quot;^[&quot;,&quot;**Log replication 日志复制**：leader从客户端接收数据更新/删除请求，然后日志复制到follower节点，从而保证集群数据的一致性；&quot;,536870994]],[&quot;^1@&quot;,[701,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[701,&quot;^K&quot;,647,536870994]],[&quot;^1@&quot;,[701,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[701,&quot;^13&quot;,606,536870994]],[&quot;^1@&quot;,[701,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[701,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[701,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[701,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[701,&quot;^?&quot;,&quot;~u6266bf6e-be39-47e8-95c3-c6b40197f22b&quot;,536870994]],[&quot;^1@&quot;,[702,&quot;^[&quot;,&quot;分布式数据库&quot;,536870994]],[&quot;^1@&quot;,[702,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[702,&quot;^K&quot;,573,536870994]],[&quot;^1@&quot;,[702,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[702,&quot;^13&quot;,573,536870994]],[&quot;^1@&quot;,[702,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[702,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[702,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[702,&quot;^?&quot;,&quot;~u6266bf6e-b339-4984-8e8e-c1f2a653a9f9&quot;,536870994]],[&quot;^1@&quot;,[703,&quot;^[&quot;,&quot;在写入之后，访问可能看到，也可能看不到（写入数据）。尽力优化之让其能访问最新数据。\\n  \\n  这种方式可以 memcached 等系统中看到。弱一致性在 VoIP，视频聊天和实时多人游戏等真实用例中表现不错。打个比方，如果你在通话中丢失信号几秒钟时间，当重新连接时你是听不到这几秒钟所说的话的。&quot;,536870994]],[&quot;^1@&quot;,[703,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[703,&quot;^K&quot;,580,536870994]],[&quot;^1@&quot;,[703,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[703,&quot;^13&quot;,580,536870994]],[&quot;^1@&quot;,[703,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[703,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[703,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[703,&quot;^?&quot;,&quot;~u6266bf6e-7ead-4dd8-9278-80ceec6217e1&quot;,536870994]],[&quot;^1@&quot;,[704,&quot;^[&quot;,&quot;xFS 文件系统&quot;,536870994]],[&quot;^1@&quot;,[704,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[704,&quot;^K&quot;,631,536870994]],[&quot;^1@&quot;,[704,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[704,&quot;^13&quot;,623,536870994]],[&quot;^1@&quot;,[704,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[704,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[704,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[704,&quot;^?&quot;,&quot;~u6266bf6e-f41a-418a-ac3d-3b5c0b6fdc5b&quot;,536870994]],[&quot;^1@&quot;,[705,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[705,&quot;^[&quot;,&quot;崩溃恢复模式\\ncollapsed:: true\\n  \\n  重新选举出新的 Leader 服务器，选举完成后 Follower 服务器在再去同步 Leader 的数据。&quot;,536870994]],[&quot;^1@&quot;,[705,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[705,&quot;^K&quot;,639,536870994]],[&quot;^1@&quot;,[705,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[705,&quot;^13&quot;,605,536870994]],[&quot;^1@&quot;,[705,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[705,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[705,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[705,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[705,&quot;^?&quot;,&quot;~u6266bf6d-1c99-488b-a718-37beec617b67&quot;,536870994]],[&quot;^1@&quot;,[706,&quot;^[&quot;,&quot;如果新写入数据在能被复制到备用系统之前，工作系统出现了故障，则有可能会丢失数据。&quot;,536870994]],[&quot;^1@&quot;,[706,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[706,&quot;^K&quot;,635,536870994]],[&quot;^1@&quot;,[706,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[706,&quot;^13&quot;,721,536870994]],[&quot;^1@&quot;,[706,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[706,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[706,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[706,&quot;^?&quot;,&quot;~u6266bf6e-d710-4a40-9df0-b833faa2f29a&quot;,536870994]],[&quot;^1@&quot;,[707,&quot;^[&quot;,&quot;|  |  | Paxos | Raft | Zab |\\n  | --- | --- | --- | --- | --- |\\n  |  |  | Paxos--&gt;分布式的一致性状态机系统 | 简化Paxos | ZAB--&gt;高可用的分布式数据主备系统 |\\n  | Leader选举 | 如何选举 |  | 时间戳 |  |\\n  |  | 选举的信息 |  |  |  |\\n  |  | 选举的触发 |  |  |  |\\n  | 上一轮次的数据 | 如何处理上一轮未提交的日志 |  |  |  |\\n  |  | 脑裂问题 | 允许多主，不过可能出现活锁问题 | 不会出现，只有在获得大于二分之一结点数量的同意时操作才有效 | 不会出现，只有在获得大于二分之一结点数量的同意时操作才有效 |\\n  | 请求处理过程 | 一般流程 |  |  |  |\\n  |  | 日志的连续性 |  |  |  |\\n  |  | 请求的顺序性（异常时的安全性保证） |  |  |  |&quot;,536870994]],[&quot;^1@&quot;,[707,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[707,&quot;^K&quot;,650,536870994]],[&quot;^1@&quot;,[707,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[707,&quot;^13&quot;,650,536870994]],[&quot;^1@&quot;,[707,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[707,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[707,&quot;^?&quot;,&quot;~u6266bf6d-732e-4864-8e43-d706dcda2ec5&quot;,536870994]],[&quot;^1@&quot;,[708,&quot;^[&quot;,&quot;3PC，是 Three-Phase-Comimit 的缩写，即「**三阶段提交**」，是二阶段的改进版，将二阶段提交协议的“提交事务请求”过程一分为二。&quot;,536870994]],[&quot;^1@&quot;,[708,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[708,&quot;^K&quot;,718,536870994]],[&quot;^1@&quot;,[708,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[708,&quot;^13&quot;,718,536870994]],[&quot;^1@&quot;,[708,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[708,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[708,&quot;^?&quot;,&quot;~u6266bf6e-9668-41b6-88be-53c872a01b78&quot;,536870994]],[&quot;^1@&quot;,[709,&quot;^[&quot;,&quot;[主─从复制](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6)&quot;,536870994]],[&quot;^1@&quot;,[709,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[709,&quot;^K&quot;,673,536870994]],[&quot;^1@&quot;,[709,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[709,&quot;^13&quot;,673,536870994]],[&quot;^1@&quot;,[709,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[709,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[709,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[709,&quot;^?&quot;,&quot;~u6266bf6e-034c-499d-a3e0-eb43b753e0c7&quot;,536870994]],[&quot;^1@&quot;,[710,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[710,&quot;^[&quot;,&quot;**故障切换** (fail-over)\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[710,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[710,&quot;^K&quot;,579,536870994]],[&quot;^1@&quot;,[710,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[710,&quot;^13&quot;,579,536870994]],[&quot;^1@&quot;,[710,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[710,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[710,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[710,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[710,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[710,&quot;^?&quot;,&quot;~u6266bf6e-793b-4b5b-b261-08e90871d1c0&quot;,536870994]],[&quot;^1@&quot;,[711,&quot;^[&quot;,&quot;Leader 服务器会为每个 Follower 服务器都各自分配一个单独的队列，然后将需要广播的事务 Proposal 依次放入这些队列中去，并根据 FIFO 策略进行消息的发送。&quot;,536870994]],[&quot;^1@&quot;,[711,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[711,&quot;^K&quot;,637,536870994]],[&quot;^1@&quot;,[711,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[711,&quot;^13&quot;,639,536870994]],[&quot;^1@&quot;,[711,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[711,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[711,&quot;^?&quot;,&quot;~u6266bf6d-23db-4328-a861-6de777bf5f26&quot;,536870994]],[&quot;^1@&quot;,[712,&quot;^[&quot;,&quot;DNS&quot;,536870994]],[&quot;^1@&quot;,[712,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[712,&quot;^K&quot;,698,536870994]],[&quot;^1@&quot;,[712,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[712,&quot;^13&quot;,557,536870994]],[&quot;^1@&quot;,[712,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[712,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[712,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[712,&quot;^?&quot;,&quot;~u6266bf6e-624c-40ee-af07-0752d8106725&quot;,536870994]],[&quot;^1@&quot;,[713,&quot;^[&quot;,&quot;定义：两阶段提交（two-phase commit） 是一种用于实现跨多个节点的原子事务提交的算法，即确保所有节点提交或所有节点中止。&quot;,536870994]],[&quot;^1@&quot;,[713,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[713,&quot;^K&quot;,620,536870994]],[&quot;^1@&quot;,[713,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[713,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[713,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[713,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[713,&quot;^?&quot;,&quot;~u6266bf6e-f6b6-4185-8f21-8c20f838754e&quot;,536870994]],[&quot;^1@&quot;,[714,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[714,&quot;^[&quot;,&quot;弱一致性算法\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[714,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[714,&quot;^K&quot;,636,536870994]],[&quot;^1@&quot;,[714,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[714,&quot;^13&quot;,741,536870994]],[&quot;^1@&quot;,[714,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[714,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[714,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[714,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[714,&quot;^?&quot;,&quot;~u6266bf6e-9458-4ac0-80a3-c11906ae20a5&quot;,536870994]],[&quot;^1@&quot;,[715,&quot;^[&quot;,&quot;少数分区不可用&quot;,536870994]],[&quot;^1@&quot;,[715,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[715,&quot;^K&quot;,688,536870994]],[&quot;^1@&quot;,[715,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[715,&quot;^13&quot;,624,536870994]],[&quot;^1@&quot;,[715,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[715,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[715,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[715,&quot;^?&quot;,&quot;~u6266bf6e-0e7c-4cf5-83f2-6490adfdd07f&quot;,536870994]],[&quot;^1@&quot;,[716,&quot;^[&quot;,&quot;绝大部分协议&quot;,536870994]],[&quot;^1@&quot;,[716,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[716,&quot;^K&quot;,610,536870994]],[&quot;^1@&quot;,[716,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[716,&quot;^13&quot;,573,536870994]],[&quot;^1@&quot;,[716,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[716,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[716,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[716,&quot;^?&quot;,&quot;~u6266bf6e-3e69-4576-8465-d44dc0aee2c5&quot;,536870994]],[&quot;^1@&quot;,[717,&quot;^[&quot;,&quot;**来源及延伸阅读**[Transactions across data centers](http://snarfed.org/transactions_across_datacenters_io.html)&quot;,536870994]],[&quot;^1@&quot;,[717,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[717,&quot;^K&quot;,694,536870994]],[&quot;^1@&quot;,[717,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[717,&quot;^13&quot;,589,536870994]],[&quot;^1@&quot;,[717,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[717,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[717,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[717,&quot;^?&quot;,&quot;~u6266bf6e-d2b9-46f2-b042-0652a81ed662&quot;,536870994]],[&quot;^1@&quot;,[718,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[718,&quot;^[&quot;,&quot;定义\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[718,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[718,&quot;^K&quot;,691,536870994]],[&quot;^1@&quot;,[718,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[718,&quot;^13&quot;,636,536870994]],[&quot;^1@&quot;,[718,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[718,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[718,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[718,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[718,&quot;^?&quot;,&quot;~u6266bf6e-18c7-4f46-a86a-da39dc2c81e7&quot;,536870994]],[&quot;^1@&quot;,[719,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[719,&quot;^[&quot;,&quot;算法步骤\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[719,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[719,&quot;^K&quot;,658,536870994]],[&quot;^1@&quot;,[719,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[719,&quot;^13&quot;,588,536870994]],[&quot;^1@&quot;,[719,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[719,&quot;^12&quot;,549,536870994]],[&quot;^1@&quot;,[719,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[719,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[719,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[719,&quot;^?&quot;,&quot;~u6266bf6e-6e81-4cb7-9b9c-abc4a235ab2f&quot;,536870994]],[&quot;^1@&quot;,[720,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[720,&quot;^[&quot;,&quot;改进\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[720,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[720,&quot;^K&quot;,682,536870994]],[&quot;^1@&quot;,[720,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[720,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[720,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[720,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[720,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[720,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[720,&quot;^?&quot;,&quot;~u6266bf6e-1cd0-4ddc-bbcc-84f2cb258acc&quot;,536870994]],[&quot;^1@&quot;,[721,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[721,&quot;^[&quot;,&quot;**缺陷：故障切换**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[721,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[721,&quot;^K&quot;,671,536870994]],[&quot;^1@&quot;,[721,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[721,&quot;^13&quot;,710,536870994]],[&quot;^1@&quot;,[721,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[721,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[721,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[721,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[721,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[721,&quot;^?&quot;,&quot;~u6266bf6e-e682-4db4-9267-538482e4af5e&quot;,536870994]],[&quot;^1@&quot;,[722,&quot;^[&quot;,&quot;对于一个可用性的分布式系统，每一个非故障的节点必须对每一个请求作出响应。如果不考虑一致性，这个是很好实现的，立即返回本地节点的数据即可，而不需要等到数据一致才返回。&quot;,536870994]],[&quot;^1@&quot;,[722,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[722,&quot;^K&quot;,651,536870994]],[&quot;^1@&quot;,[722,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[722,&quot;^13&quot;,621,536870994]],[&quot;^1@&quot;,[722,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[722,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[722,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[722,&quot;^?&quot;,&quot;~u6266bf6e-bfca-40db-ab67-ee46e84bd73d&quot;,536870994]],[&quot;^1@&quot;,[723,&quot;^[&quot;,&quot;Coda&quot;,536870994]],[&quot;^1@&quot;,[723,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[723,&quot;^K&quot;,557,536870994]],[&quot;^1@&quot;,[723,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[723,&quot;^13&quot;,557,536870994]],[&quot;^1@&quot;,[723,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[723,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[723,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[723,&quot;^?&quot;,&quot;~u6266bf6e-e3e3-43cf-b07e-5fa36753996a&quot;,536870994]],[&quot;^1@&quot;,[724,&quot;^[&quot;,&quot;在第一阶段和第二阶段中插入一个准备阶段，&quot;,536870994]],[&quot;^1@&quot;,[724,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[724,&quot;^K&quot;,614,536870994]],[&quot;^1@&quot;,[724,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[724,&quot;^13&quot;,614,536870994]],[&quot;^1@&quot;,[724,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[724,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[724,&quot;^?&quot;,&quot;~u6266bf6e-b9be-4517-a487-2673c898c47e&quot;,536870994]],[&quot;^1@&quot;,[725,&quot;^[&quot;,&quot;&quot;,536870994]],[&quot;^1@&quot;,[725,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[725,&quot;^K&quot;,741,536870994]],[&quot;^1@&quot;,[725,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[725,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[725,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[725,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[725,&quot;^?&quot;,&quot;~u6266bf6d-3626-4c28-9011-a4287a552507&quot;,536870994]],[&quot;^1@&quot;,[726,&quot;^[&quot;,&quot;![image.png](../assets/image_1648690654883_0.png)&quot;,536870994]],[&quot;^1@&quot;,[726,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[726,&quot;^K&quot;,662,536870994]],[&quot;^1@&quot;,[726,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[726,&quot;^13&quot;,639,536870994]],[&quot;^1@&quot;,[726,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[726,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[726,&quot;^?&quot;,&quot;~u6266bf6d-e8ec-4a8e-a608-27fa7a3ebba8&quot;,536870994]],[&quot;^1@&quot;,[727,&quot;^[&quot;,&quot;1. Client用户，类似社会民众，负责提出建议\\n 2. Propser议员，类似基层人大代表，负责帮Client上交提案\\n 3. Acceptor投票者，类似全国人大代表，负责为提案投票，**不同意比自己以前接收过的提案编号要小的提案，其他提案都同意**，例如A以前给N号提案表决过，那么再收到小于等于N号的提案时就直接拒绝了\\n 4. Learner提案接受者，类似记录被通过提案的记录员，负责记录提案&quot;,536870994]],[&quot;^1@&quot;,[727,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[727,&quot;^K&quot;,578,536870994]],[&quot;^1@&quot;,[727,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[727,&quot;^13&quot;,578,536870994]],[&quot;^1@&quot;,[727,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[727,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[727,&quot;^?&quot;,&quot;~u6266bf6e-b006-453c-a9cd-2aab79412c41&quot;,536870994]],[&quot;^1@&quot;,[728,&quot;^[&quot;,&quot;&quot;,536870994]],[&quot;^1@&quot;,[728,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[728,&quot;^K&quot;,569,536870994]],[&quot;^1@&quot;,[728,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[728,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[728,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[728,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[728,&quot;^?&quot;,&quot;~u6266bf6e-0c09-4a25-a6b6-d9b14f61c2bb&quot;,536870994]],[&quot;^1@&quot;,[729,&quot;^[&quot;,&quot;集群数据库&quot;,536870994]],[&quot;^1@&quot;,[729,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[729,&quot;^K&quot;,609,536870994]],[&quot;^1@&quot;,[729,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[729,&quot;^13&quot;,623,536870994]],[&quot;^1@&quot;,[729,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[729,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[729,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[729,&quot;^?&quot;,&quot;~u6266bf6e-454c-405e-91eb-867d3837911d&quot;,536870994]],[&quot;^1@&quot;,[730,&quot;^[&quot;,&quot;步骤：\\n  1. 集群启动，如下图所示（这里设置集群有20个节点）\\n  \\n  ![https://pic3.zhimg.com/v2-b246affb04dd4a8d8ada2309be2aa03e_r.jpg](https://pic3.zhimg.com/v2-b246affb04dd4a8d8ada2309be2aa03e_r.jpg)\\n  \\n  2. 某节点收到数据改动，并将改动传播给其他4个节点，传播路径表示为较粗的4条线\\n  \\n  ![https://pic4.zhimg.com/v2-4d20a1caeb116d252573364af1684063_r.jpg](https://pic4.zhimg.com/v2-4d20a1caeb116d252573364af1684063_r.jpg)\\n  \\n  3. 收到数据改动的节点重复上面的过程直到所有的节点都被感染\\n  \\n  ![https://pic3.zhimg.com/v2-1984160f78595b28e0da899365cde26e_r.jpg](https://pic3.zhimg.com/v2-1984160f78595b28e0da899365cde26e_r.jpg)&quot;,536870994]],[&quot;^1@&quot;,[730,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[730,&quot;^K&quot;,612,536870994]],[&quot;^1@&quot;,[730,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[730,&quot;^13&quot;,737,536870994]],[&quot;^1@&quot;,[730,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[730,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[730,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[730,&quot;^?&quot;,&quot;~u6266bf6e-f2ec-481c-a946-b827059f84d3&quot;,536870994]],[&quot;^1@&quot;,[731,&quot;^[&quot;,&quot;**软状态**\\n  \\n  软状态指允许系统中的数据存在中间状态（**CAP 理论中的数据不一致**），并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延时。&quot;,536870994]],[&quot;^1@&quot;,[731,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[731,&quot;^K&quot;,596,536870994]],[&quot;^1@&quot;,[731,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[731,&quot;^13&quot;,733,536870994]],[&quot;^1@&quot;,[731,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[731,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[731,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[731,&quot;^?&quot;,&quot;~u6266bf6e-0258-4823-8893-b2e1154f80f5&quot;,536870994]],[&quot;^1@&quot;,[732,&quot;^[&quot;,&quot;首先，我们得知道，分布式系统，是避免不了分区的，分区容错性是一定要满足的，我们看看在满足分区容错的基础上，能不能同时满足`一致性`和`可用性`&quot;,536870994]],[&quot;^1@&quot;,[732,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[732,&quot;^K&quot;,587,536870994]],[&quot;^1@&quot;,[732,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[732,&quot;^13&quot;,587,536870994]],[&quot;^1@&quot;,[732,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[732,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[732,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[732,&quot;^?&quot;,&quot;~u6266bf6e-d595-4cf8-adaa-c4940a2420d3&quot;,536870994]],[&quot;^1@&quot;,[733,&quot;^[&quot;,&quot;**[BASE 理论 延伸](https://www.1024sou.com/article/189463.html)**\\n  \\n  **BASE** 是 **Basically Available（基本可用）** 、**Soft-state（软状态）** 和 **Eventually Consistent（最终一致性）** 三个短语的缩写。\\n  \\n  核心思想是：即使无法做到强一致性（Strong consistency），但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性（Eventual consistency）。\\n  \\n  BASE 理论是对 CAP 中一致性 C 和可用性 A 权衡的结果，其来源于对大规模互联网系统分布式实践的总结，是基于 CAP 定理逐步演化而来的，它大大降低了我们对系统的要求。&quot;,536870994]],[&quot;^1@&quot;,[733,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[733,&quot;^K&quot;,598,536870994]],[&quot;^1@&quot;,[733,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[733,&quot;^13&quot;,674,536870994]],[&quot;^1@&quot;,[733,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[733,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[733,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[733,&quot;^?&quot;,&quot;~u6266bf6e-f417-48bb-b317-2938df4df900&quot;,536870994]],[&quot;^1@&quot;,[734,&quot;^[&quot;,&quot;1. Proposer选择一个**提案编号N**，然后向**半数以上**的Acceptor发送编号为N的**Prepare请求**。(Proposer发送)&quot;,536870994]],[&quot;^1@&quot;,[734,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[734,&quot;^K&quot;,663,536870994]],[&quot;^1@&quot;,[734,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[734,&quot;^13&quot;,663,536870994]],[&quot;^1@&quot;,[734,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[734,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[734,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[734,&quot;^?&quot;,&quot;~u6266bf6e-af5b-41ba-a38c-09acb8a10916&quot;,536870994]],[&quot;^1@&quot;,[735,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[735,&quot;^[&quot;,&quot;Why\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[735,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[735,&quot;^K&quot;,713,536870994]],[&quot;^1@&quot;,[735,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[735,&quot;^13&quot;,620,536870994]],[&quot;^1@&quot;,[735,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[735,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[735,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[735,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[735,&quot;^?&quot;,&quot;~u6266bf6e-0601-48ca-8630-b8b31bffd8a7&quot;,536870994]],[&quot;^1@&quot;,[736,&quot;^[&quot;,&quot;2. 如果Acceptor收到一个针对编号为N的提案的Accept请求，只要该Acceptor**没有**对编号**大于N**的**Prepare请求**做出过**响应**，它就**接受该提案**。\\n ![image.png](../assets/image_1648031704867_0.png)&quot;,536870994]],[&quot;^1@&quot;,[736,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[736,&quot;^K&quot;,566,536870994]],[&quot;^1@&quot;,[736,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[736,&quot;^13&quot;,740,536870994]],[&quot;^1@&quot;,[736,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[736,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[736,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[736,&quot;^?&quot;,&quot;~u6266bf6e-6a58-4ed3-831e-ef5ecbc357d6&quot;,536870994]],[&quot;^1@&quot;,[737,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[737,&quot;^[&quot;,&quot;Gossip #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:03:28.571Z\\ncard-last-reviewed:: 2022-03-23T13:03:28.572Z\\ncard-last-score:: 3\\ncollapsed:: true\\nid:: e277caf0-6bd3-4587-9e97-f482642a7b49&quot;,536870994]],[&quot;^1@&quot;,[737,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[737,&quot;^K&quot;,678,536870994]],[&quot;^1@&quot;,[737,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[737,&quot;^13&quot;,582,536870994]],[&quot;^1@&quot;,[737,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[737,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[737,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:03:28.571Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:03:28.572Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true,&quot;^1S&quot;,&quot;e277caf0-6bd3-4587-9e97-f482642a7b49&quot;],536870994]],[&quot;^1@&quot;,[737,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;,&quot;^1S&quot;]],536870994]],[&quot;^1@&quot;,[737,&quot;^M&quot;,2,536870994]],[&quot;^1@&quot;,[737,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[737,&quot;^?&quot;,&quot;~ue277caf0-6bd3-4587-9e97-f482642a7b49&quot;,536870994]],[&quot;^1@&quot;,[738,&quot;^[&quot;,&quot;在写入后，访问最终能看到写入数据（通常在数毫秒内）。数据被异步复制。\\n  \\n  DNS 和 email 等系统使用的是此种方式。最终一致性在高可用性系统中效果不错。&quot;,536870994]],[&quot;^1@&quot;,[738,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[738,&quot;^K&quot;,692,536870994]],[&quot;^1@&quot;,[738,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[738,&quot;^13&quot;,692,536870994]],[&quot;^1@&quot;,[738,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[738,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[738,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[738,&quot;^?&quot;,&quot;~u6266bf6e-c5da-489c-9708-2c307424abd5&quot;,536870994]],[&quot;^1@&quot;,[739,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[739,&quot;^[&quot;,&quot;CA - **牺牲分区**\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[739,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[739,&quot;^K&quot;,674,536870994]],[&quot;^1@&quot;,[739,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[739,&quot;^13&quot;,611,536870994]],[&quot;^1@&quot;,[739,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[739,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[739,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[739,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[739,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[739,&quot;^?&quot;,&quot;~u6266bf6e-6ab8-40e2-8ca7-485657572b92&quot;,536870994]],[&quot;^1@&quot;,[740,&quot;^[&quot;,&quot;**阶段二：**&quot;,536870994]],[&quot;^1@&quot;,[740,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[740,&quot;^K&quot;,663,536870994]],[&quot;^1@&quot;,[740,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[740,&quot;^13&quot;,668,536870994]],[&quot;^1@&quot;,[740,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[740,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[740,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[740,&quot;^?&quot;,&quot;~u6266bf6e-2512-4c65-baa0-19b006a59091&quot;,536870994]],[&quot;^1@&quot;,[741,&quot;^T&quot;,true,536870994]],[&quot;^1@&quot;,[741,&quot;^[&quot;,&quot;## Consensus Algorithms\\ncollapsed:: true&quot;,536870994]],[&quot;^1@&quot;,[741,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[741,&quot;^14&quot;,2,536870994]],[&quot;^1@&quot;,[741,&quot;^K&quot;,653,536870994]],[&quot;^1@&quot;,[741,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[741,&quot;^13&quot;,293,536870994]],[&quot;^1@&quot;,[741,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[741,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536870994]],[&quot;^1@&quot;,[741,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536870994]],[&quot;^1@&quot;,[741,&quot;^1G&quot;,2,536870994]],[&quot;^1@&quot;,[741,&quot;^15&quot;,&quot;^1H&quot;,536870994]],[&quot;^1@&quot;,[741,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[741,&quot;^?&quot;,&quot;~u6266bf6e-4902-42f7-b6fa-80d14b76b256&quot;,536870994]],[&quot;^1@&quot;,[742,&quot;^[&quot;,&quot;到期/租赁&quot;,536870994]],[&quot;^1@&quot;,[742,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[742,&quot;^K&quot;,598,536870994]],[&quot;^1@&quot;,[742,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[742,&quot;^13&quot;,598,536870994]],[&quot;^1@&quot;,[742,&quot;^12&quot;,2,536870994]],[&quot;^1@&quot;,[742,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[742,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[742,&quot;^?&quot;,&quot;~u6266bf6e-cabe-44e2-befd-6d676af3499b&quot;,536870994]],[&quot;^1@&quot;,[743,&quot;^[&quot;,&quot;数据不一致&quot;,536870994]],[&quot;^1@&quot;,[743,&quot;^X&quot;,&quot;^1D&quot;,536870994]],[&quot;^1@&quot;,[743,&quot;^K&quot;,615,536870994]],[&quot;^1@&quot;,[743,&quot;^17&quot;,293,536870994]],[&quot;^1@&quot;,[743,&quot;^13&quot;,569,536870994]],[&quot;^1@&quot;,[743,&quot;^12&quot;,293,536870994]],[&quot;^1@&quot;,[743,&quot;^1E&quot;,true,536870994]],[&quot;^1@&quot;,[743,&quot;^?&quot;,&quot;~u6266bf6e-6363-43f3-a437-c108cce02b8d&quot;,536870994]],[&quot;^1@&quot;,[1872,&quot;^[&quot;,&quot;OLTP 系统通常==面向最终用户==，这意味着系统可能会收到==大量的请求==。为了处理负载，应用程序在每个查询中通常只访问少量的记录。应用程序使用某种键来请求记录，存储引擎使用索引来查找所请求的键的数据。硬盘查找时间往往是这里的瓶颈。&quot;,536871046]],[&quot;^1@&quot;,[1872,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1872,&quot;^K&quot;,1879,536871046]],[&quot;^1@&quot;,[1872,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1872,&quot;^13&quot;,1879,536871046]],[&quot;^1@&quot;,[1872,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1872,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1872,&quot;^?&quot;,&quot;~u6266bf71-19e1-4ce7-bcce-0c1d9a1ab511&quot;,536871046]],[&quot;^1@&quot;,[1873,&quot;^T&quot;,true,536871046]],[&quot;^1@&quot;,[1873,&quot;^[&quot;,&quot;OLAP - OnLine Analytice Processing\\ncollapsed:: true&quot;,536871046]],[&quot;^1@&quot;,[1873,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1873,&quot;^K&quot;,1879,536871046]],[&quot;^1@&quot;,[1873,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1873,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1873,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1873,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871046]],[&quot;^1@&quot;,[1873,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871046]],[&quot;^1@&quot;,[1873,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1873,&quot;^?&quot;,&quot;~u6266bf71-27e8-40be-aeba-6aaab28f4855&quot;,536871046]],[&quot;^1@&quot;,[1874,&quot;^T&quot;,true,536871046]],[&quot;^1@&quot;,[1874,&quot;^[&quot;,&quot;## (from DDIA) storage engines fall into two broad categories:  OLTP &amp;  OLAP :\\ncollapsed:: true&quot;,536871046]],[&quot;^1@&quot;,[1874,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1874,&quot;^14&quot;,2,536871046]],[&quot;^1@&quot;,[1874,&quot;^K&quot;,1877,536871046]],[&quot;^1@&quot;,[1874,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1874,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1874,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1874,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871046]],[&quot;^1@&quot;,[1874,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871046]],[&quot;^1@&quot;,[1874,&quot;^1G&quot;,2,536871046]],[&quot;^1@&quot;,[1874,&quot;^15&quot;,&quot;^1H&quot;,536871046]],[&quot;^1@&quot;,[1874,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1874,&quot;^?&quot;,&quot;~u6266bf71-69b2-48e2-af05-f6f47904a508&quot;,536871046]],[&quot;^1@&quot;,[1875,&quot;^[&quot;,&quot;数据仓库和类似的分析系统会低调一些，因为它们==主要由业务分析人员使用，而不是最终用户。==它们的查询量要比 OLTP 系统少得多，但通常每个查询开销高昂，需要在短时间内扫描数百万条记录。硬盘带宽（而不是查找时间）往往是瓶颈，列式存储是针对这种工作负载的日益流行的解决方案。&quot;,536871046]],[&quot;^1@&quot;,[1875,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1875,&quot;^K&quot;,1873,536871046]],[&quot;^1@&quot;,[1875,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1875,&quot;^13&quot;,1873,536871046]],[&quot;^1@&quot;,[1875,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1875,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1875,&quot;^?&quot;,&quot;~u6266bf71-1ef2-4ed6-9d97-e928b834db02&quot;,536871046]],[&quot;^1@&quot;,[1876,&quot;^[&quot;,&quot;日志结构的存储引擎是相对较新的技术。他们的主要想法是，通过系统性地将随机访问写入转换为硬盘上的顺序写入，由于硬盘驱动器和固态硬盘的性能特点，可以实现更高的写入吞吐量。&quot;,536871046]],[&quot;^1@&quot;,[1876,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1876,&quot;^K&quot;,1886,536871046]],[&quot;^1@&quot;,[1876,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1876,&quot;^13&quot;,1886,536871046]],[&quot;^1@&quot;,[1876,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1876,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1876,&quot;^?&quot;,&quot;~u6266bf71-ef6a-4c3c-881c-78669a665fc8&quot;,536871046]],[&quot;^1@&quot;,[1877,&quot;^[&quot;,&quot;&quot;,536871046]],[&quot;^1@&quot;,[1877,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1877,&quot;^K&quot;,1880,536871046]],[&quot;^1@&quot;,[1877,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1877,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1877,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1877,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1877,&quot;^?&quot;,&quot;~u6266bf71-9bf4-4f8a-9599-d368b7f428f5&quot;,536871046]],[&quot;^1@&quot;,[1878,&quot;^[&quot;,&quot;就地更新学派：将硬盘视为一组可以覆写的固定大小的页面。 B 树是这种理念的典范，用在所有主要的关系数据库和许多非关系型数据库中。&quot;,536871046]],[&quot;^1@&quot;,[1878,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1878,&quot;^K&quot;,1886,536871046]],[&quot;^1@&quot;,[1878,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1878,&quot;^13&quot;,1884,536871046]],[&quot;^1@&quot;,[1878,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1878,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1878,&quot;^?&quot;,&quot;~u6266bf71-6f9a-4f7d-b3ef-75d60f2f11dc&quot;,536871046]],[&quot;^1@&quot;,[1879,&quot;^[&quot;,&quot;OLTP - OnLine Transaction Processing&quot;,536871046]],[&quot;^1@&quot;,[1879,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1879,&quot;^K&quot;,1874,536871046]],[&quot;^1@&quot;,[1879,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1879,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1879,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1879,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1879,&quot;^?&quot;,&quot;~u6266bf71-8589-4047-be12-4bfbf4419405&quot;,536871046]],[&quot;^1@&quot;,[1880,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536871046]],[&quot;^1@&quot;,[1880,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1880,&quot;^K&quot;,296,536871046]],[&quot;^1@&quot;,[1880,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1880,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1880,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1880,&quot;^=&quot;,true,536871046]],[&quot;^1@&quot;,[1880,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871046]],[&quot;^1@&quot;,[1880,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536871046]],[&quot;^1@&quot;,[1880,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1880,&quot;^?&quot;,&quot;~u6266bf71-a1fa-411e-a88c-ab85bb209696&quot;,536871046]],[&quot;^1@&quot;,[1881,&quot;^[&quot;,&quot;[geeks](https://www.geeksforgeeks.org/difference-between-olap-and-oltp-in-dbms/)&quot;,536871046]],[&quot;^1@&quot;,[1881,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1881,&quot;^K&quot;,1885,536871046]],[&quot;^1@&quot;,[1881,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1881,&quot;^13&quot;,1885,536871046]],[&quot;^1@&quot;,[1881,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1881,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1881,&quot;^?&quot;,&quot;~u6266bf71-7aee-47cd-b65c-fcd400028795&quot;,536871046]],[&quot;^1@&quot;,[1882,&quot;^[&quot;,&quot;https://www.51cto.com/article/649855.html\\n![image.png](../assets/image_1650426580243_0.png)&quot;,536871046]],[&quot;^1@&quot;,[1882,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1882,&quot;^K&quot;,1881,536871046]],[&quot;^1@&quot;,[1882,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1882,&quot;^13&quot;,1885,536871046]],[&quot;^1@&quot;,[1882,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1882,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1882,&quot;^?&quot;,&quot;~u6266bf71-79b8-4e3b-9ff7-753f2ea76db7&quot;,536871046]],[&quot;^1@&quot;,[1883,&quot;^[&quot;,&quot;&quot;,536871046]],[&quot;^1@&quot;,[1883,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1883,&quot;^K&quot;,1873,536871046]],[&quot;^1@&quot;,[1883,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1883,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1883,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1883,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1883,&quot;^?&quot;,&quot;~u6266bf71-ccf1-4f26-be80-8c9eb72b2358&quot;,536871046]],[&quot;^1@&quot;,[1884,&quot;^T&quot;,true,536871046]],[&quot;^1@&quot;,[1884,&quot;^[&quot;,&quot;OLTP 的 两派主流思想/存储引擎 two main schools of thought/storage  engines:  ==log-structured   VS   page-oriented==\\ncollapsed:: true&quot;,536871046]],[&quot;^1@&quot;,[1884,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1884,&quot;^K&quot;,1872,536871046]],[&quot;^1@&quot;,[1884,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1884,&quot;^13&quot;,1879,536871046]],[&quot;^1@&quot;,[1884,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1884,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871046]],[&quot;^1@&quot;,[1884,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871046]],[&quot;^1@&quot;,[1884,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1884,&quot;^?&quot;,&quot;~u6266bf71-4715-4ea4-a1d8-49ad91d72c79&quot;,536871046]],[&quot;^1@&quot;,[1885,&quot;^T&quot;,true,536871046]],[&quot;^1@&quot;,[1885,&quot;^[&quot;,&quot;总结：\\ncollapsed:: true&quot;,536871046]],[&quot;^1@&quot;,[1885,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1885,&quot;^K&quot;,1883,536871046]],[&quot;^1@&quot;,[1885,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1885,&quot;^13&quot;,296,536871046]],[&quot;^1@&quot;,[1885,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1885,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871046]],[&quot;^1@&quot;,[1885,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871046]],[&quot;^1@&quot;,[1885,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1885,&quot;^?&quot;,&quot;~u6266bf71-9e87-4189-a2f4-a16620dd4480&quot;,536871046]],[&quot;^1@&quot;,[1886,&quot;^T&quot;,true,536871046]],[&quot;^1@&quot;,[1886,&quot;^[&quot;,&quot;日志结构学派：只允许追加到文件和删除过时的文件，但不会更新已经写入的文件。Bitcask、SSTables、LSM 树、LevelDB、Cassandra、HBase、Lucene 等都属于这个类别。\\ncollapsed:: true&quot;,536871046]],[&quot;^1@&quot;,[1886,&quot;^X&quot;,&quot;^1D&quot;,536871046]],[&quot;^1@&quot;,[1886,&quot;^K&quot;,1884,536871046]],[&quot;^1@&quot;,[1886,&quot;^17&quot;,296,536871046]],[&quot;^1@&quot;,[1886,&quot;^13&quot;,1884,536871046]],[&quot;^1@&quot;,[1886,&quot;^12&quot;,296,536871046]],[&quot;^1@&quot;,[1886,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871046]],[&quot;^1@&quot;,[1886,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871046]],[&quot;^1@&quot;,[1886,&quot;^1E&quot;,true,536871046]],[&quot;^1@&quot;,[1886,&quot;^?&quot;,&quot;~u6266bf71-4ba7-4a84-ac5d-aeaee5f85b72&quot;,536871046]],[&quot;^1@&quot;,[1912,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536871052]],[&quot;^1@&quot;,[1912,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1912,&quot;^K&quot;,226,536871052]],[&quot;^1@&quot;,[1912,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1912,&quot;^13&quot;,226,536871052]],[&quot;^1@&quot;,[1912,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1912,&quot;^=&quot;,true,536871052]],[&quot;^1@&quot;,[1912,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871052]],[&quot;^1@&quot;,[1912,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536871052]],[&quot;^1@&quot;,[1912,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1912,&quot;^?&quot;,&quot;~u6266bf71-9c15-4f71-a6e1-7dffe30468f5&quot;,536871052]],[&quot;^1@&quot;,[1913,&quot;^[&quot;,&quot;Google:&quot;,536871052]],[&quot;^1@&quot;,[1913,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1913,&quot;^K&quot;,1912,536871052]],[&quot;^1@&quot;,[1913,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1913,&quot;^13&quot;,226,536871052]],[&quot;^1@&quot;,[1913,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1913,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1913,&quot;^?&quot;,&quot;~u6266bf71-7c6d-4529-ba01-5e5da146b77c&quot;,536871052]],[&quot;^1@&quot;,[1914,&quot;^[&quot;,&quot;[[MapReduce]]&quot;,536871052]],[&quot;^1@&quot;,[1914,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1914,&quot;^K&quot;,1913,536871052]],[&quot;^1@&quot;,[1914,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1914,&quot;^13&quot;,1913,536871052]],[&quot;^1@&quot;,[1914,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1914,&quot;^12&quot;,1911,536871052]],[&quot;^1@&quot;,[1914,&quot;^M&quot;,1911,536871052]],[&quot;^1@&quot;,[1914,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1914,&quot;^?&quot;,&quot;~u6266bf71-3028-4438-bc4f-d6fd37754f16&quot;,536871052]],[&quot;^1@&quot;,[1915,&quot;^[&quot;,&quot;[[Bigtable]]&quot;,536871052]],[&quot;^1@&quot;,[1915,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1915,&quot;^K&quot;,1914,536871052]],[&quot;^1@&quot;,[1915,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1915,&quot;^13&quot;,1913,536871052]],[&quot;^1@&quot;,[1915,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1915,&quot;^12&quot;,244,536871052]],[&quot;^1@&quot;,[1915,&quot;^M&quot;,244,536871052]],[&quot;^1@&quot;,[1915,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1915,&quot;^?&quot;,&quot;~u6266bf71-b989-41c2-81f9-e8bf0f3964d0&quot;,536871052]],[&quot;^1@&quot;,[1916,&quot;^[&quot;,&quot;[[GFS]]&quot;,536871052]],[&quot;^1@&quot;,[1916,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1916,&quot;^K&quot;,1915,536871052]],[&quot;^1@&quot;,[1916,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1916,&quot;^13&quot;,1913,536871052]],[&quot;^1@&quot;,[1916,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1916,&quot;^12&quot;,1069,536871052]],[&quot;^1@&quot;,[1916,&quot;^M&quot;,1069,536871052]],[&quot;^1@&quot;,[1916,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1916,&quot;^?&quot;,&quot;~u6266bf71-d308-473c-a1d2-921e25d987d6&quot;,536871052]],[&quot;^1@&quot;,[1917,&quot;^[&quot;,&quot;&quot;,536871052]],[&quot;^1@&quot;,[1917,&quot;^X&quot;,&quot;^1D&quot;,536871052]],[&quot;^1@&quot;,[1917,&quot;^K&quot;,1916,536871052]],[&quot;^1@&quot;,[1917,&quot;^17&quot;,226,536871052]],[&quot;^1@&quot;,[1917,&quot;^13&quot;,1913,536871052]],[&quot;^1@&quot;,[1917,&quot;^12&quot;,226,536871052]],[&quot;^1@&quot;,[1917,&quot;^1E&quot;,true,536871052]],[&quot;^1@&quot;,[1917,&quot;^?&quot;,&quot;~u6266bf71-67d8-4e02-973e-3b7e5e65a4dd&quot;,536871052]],[&quot;^1@&quot;,[1921,&quot;^[&quot;,&quot;[[MIT 6.824]]\\nid:: 45a7cf89-ac31-4278-aa18-600aa7961c10&quot;,536871054]],[&quot;^1@&quot;,[1921,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1921,&quot;^K&quot;,1922,536871054]],[&quot;^1@&quot;,[1921,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1921,&quot;^13&quot;,1931,536871054]],[&quot;^1@&quot;,[1921,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1921,&quot;^12&quot;,1919,536871054]],[&quot;^1@&quot;,[1921,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;45a7cf89-ac31-4278-aa18-600aa7961c10&quot;],536871054]],[&quot;^1@&quot;,[1921,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1921,&quot;^M&quot;,1919,536871054]],[&quot;^1@&quot;,[1921,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1921,&quot;^?&quot;,&quot;~u45a7cf89-ac31-4278-aa18-600aa7961c10&quot;,536871054]],[&quot;^1@&quot;,[1922,&quot;^[&quot;,&quot;( according to courses demands: code private only articles)\\nid:: 2d36123b-254f-43e2-8566-7142592cb881&quot;,536871054]],[&quot;^1@&quot;,[1922,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1922,&quot;^K&quot;,1931,536871054]],[&quot;^1@&quot;,[1922,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1922,&quot;^13&quot;,1931,536871054]],[&quot;^1@&quot;,[1922,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1922,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;2d36123b-254f-43e2-8566-7142592cb881&quot;],536871054]],[&quot;^1@&quot;,[1922,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1922,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1922,&quot;^?&quot;,&quot;~u2d36123b-254f-43e2-8566-7142592cb881&quot;,536871054]],[&quot;^1@&quot;,[1923,&quot;^[&quot;,&quot;&quot;,536871054]],[&quot;^1@&quot;,[1923,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1923,&quot;^K&quot;,1930,536871054]],[&quot;^1@&quot;,[1923,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1923,&quot;^13&quot;,1930,536871054]],[&quot;^1@&quot;,[1923,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1923,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1923,&quot;^?&quot;,&quot;~u6266bf71-a9be-435b-beb7-d8fc7e1dcfd7&quot;,536871054]],[&quot;^1@&quot;,[1924,&quot;^T&quot;,false,536872848]],[&quot;^1@&quot;,[1924,&quot;^[&quot;,&quot;### Open source:\\ncollapsed:: true&quot;,536871054]],[&quot;^1@&quot;,[1924,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1924,&quot;^14&quot;,3,536871054]],[&quot;^1@&quot;,[1924,&quot;^K&quot;,1932,536871054]],[&quot;^1@&quot;,[1924,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1924,&quot;^13&quot;,224,536871054]],[&quot;^1@&quot;,[1924,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1924,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871054]],[&quot;^1@&quot;,[1924,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871054]],[&quot;^1@&quot;,[1924,&quot;^1G&quot;,3,536871054]],[&quot;^1@&quot;,[1924,&quot;^15&quot;,&quot;^1H&quot;,536871054]],[&quot;^1@&quot;,[1924,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1924,&quot;^?&quot;,&quot;~u6266bf71-4c5b-4607-a78a-4b05c6e2bf71&quot;,536871054]],[&quot;^1@&quot;,[1925,&quot;^[&quot;,&quot;[[CMU 15-445]]\\nid:: b076e46c-e4cf-4fc7-81d6-5692ffd3f620&quot;,536871054]],[&quot;^1@&quot;,[1925,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1925,&quot;^K&quot;,1921,536871054]],[&quot;^1@&quot;,[1925,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1925,&quot;^13&quot;,1931,536871054]],[&quot;^1@&quot;,[1925,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1925,&quot;^12&quot;,1920,536871054]],[&quot;^1@&quot;,[1925,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;b076e46c-e4cf-4fc7-81d6-5692ffd3f620&quot;],536871054]],[&quot;^1@&quot;,[1925,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1925,&quot;^M&quot;,1920,536871054]],[&quot;^1@&quot;,[1925,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1925,&quot;^?&quot;,&quot;~ub076e46c-e4cf-4fc7-81d6-5692ffd3f620&quot;,536871054]],[&quot;^1@&quot;,[1926,&quot;^[&quot;,&quot;id:: e1c0ea16-0752-48cf-ade0-cab75dee467d&quot;,536871054]],[&quot;^1@&quot;,[1926,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1926,&quot;^K&quot;,1928,536871054]],[&quot;^1@&quot;,[1926,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1926,&quot;^13&quot;,1934,536871054]],[&quot;^1@&quot;,[1926,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1926,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;e1c0ea16-0752-48cf-ade0-cab75dee467d&quot;],536871054]],[&quot;^1@&quot;,[1926,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1926,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1926,&quot;^?&quot;,&quot;~ue1c0ea16-0752-48cf-ade0-cab75dee467d&quot;,536871054]],[&quot;^1@&quot;,[1927,&quot;^[&quot;,&quot;(Blog) [My Blog Template](https://github.com/wwShuang/wwShuang.github.io)\\nid:: 6fd75a39-06fb-4c40-9a1d-c32d67f0c48f&quot;,536871054]],[&quot;^1@&quot;,[1927,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1927,&quot;^K&quot;,1934,536871054]],[&quot;^1@&quot;,[1927,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1927,&quot;^13&quot;,1934,536871054]],[&quot;^1@&quot;,[1927,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1927,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;6fd75a39-06fb-4c40-9a1d-c32d67f0c48f&quot;],536871054]],[&quot;^1@&quot;,[1927,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1927,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1927,&quot;^?&quot;,&quot;~u6fd75a39-06fb-4c40-9a1d-c32d67f0c48f&quot;,536871054]],[&quot;^1@&quot;,[1928,&quot;^[&quot;,&quot;(Golang)\\nid:: aed2b367-940a-4399-bd83-273cd0a4f86b&quot;,536871054]],[&quot;^1@&quot;,[1928,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1928,&quot;^K&quot;,1933,536871054]],[&quot;^1@&quot;,[1928,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1928,&quot;^13&quot;,1934,536871054]],[&quot;^1@&quot;,[1928,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1928,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;aed2b367-940a-4399-bd83-273cd0a4f86b&quot;],536871054]],[&quot;^1@&quot;,[1928,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1928,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1928,&quot;^?&quot;,&quot;~uaed2b367-940a-4399-bd83-273cd0a4f86b&quot;,536871054]],[&quot;^1@&quot;,[1929,&quot;^[&quot;,&quot;(C++)\\nid:: 8d0214f0-bbc3-4c28-801b-1ffa432cd8f4&quot;,536871054]],[&quot;^1@&quot;,[1929,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1929,&quot;^K&quot;,1927,536871054]],[&quot;^1@&quot;,[1929,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1929,&quot;^13&quot;,1934,536871054]],[&quot;^1@&quot;,[1929,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1929,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;8d0214f0-bbc3-4c28-801b-1ffa432cd8f4&quot;],536871054]],[&quot;^1@&quot;,[1929,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1929,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1929,&quot;^?&quot;,&quot;~u8d0214f0-bbc3-4c28-801b-1ffa432cd8f4&quot;,536871054]],[&quot;^1@&quot;,[1930,&quot;^T&quot;,false,536873585]],[&quot;^1@&quot;,[1930,&quot;^[&quot;,&quot;Logseq:\\ncollapsed:: true&quot;,536871054]],[&quot;^1@&quot;,[1930,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1930,&quot;^K&quot;,1924,536871054]],[&quot;^1@&quot;,[1930,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1930,&quot;^13&quot;,1924,536871054]],[&quot;^1@&quot;,[1930,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1930,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871054]],[&quot;^1@&quot;,[1930,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871054]],[&quot;^1@&quot;,[1930,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1930,&quot;^?&quot;,&quot;~u6266bf71-2ded-4363-b61e-71f5d027ed3c&quot;,536871054]],[&quot;^1@&quot;,[1931,&quot;^T&quot;,false,536872857]],[&quot;^1@&quot;,[1931,&quot;^[&quot;,&quot;### Courses:\\nid:: 4f2326f8-9797-4650-b481-337b96f0894b\\ncollapsed:: true&quot;,536871054]],[&quot;^1@&quot;,[1931,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1931,&quot;^14&quot;,3,536871054]],[&quot;^1@&quot;,[1931,&quot;^K&quot;,1934,536871054]],[&quot;^1@&quot;,[1931,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1931,&quot;^13&quot;,224,536871054]],[&quot;^1@&quot;,[1931,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1931,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;4f2326f8-9797-4650-b481-337b96f0894b&quot;,&quot;^1I&quot;,true],536871054]],[&quot;^1@&quot;,[1931,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;,&quot;^1I&quot;]],536871054]],[&quot;^1@&quot;,[1931,&quot;^1G&quot;,3,536871054]],[&quot;^1@&quot;,[1931,&quot;^15&quot;,&quot;^1H&quot;,536871054]],[&quot;^1@&quot;,[1931,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1931,&quot;^?&quot;,&quot;~u4f2326f8-9797-4650-b481-337b96f0894b&quot;,536871054]],[&quot;^1@&quot;,[1932,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536871054]],[&quot;^1@&quot;,[1932,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1932,&quot;^K&quot;,224,536871054]],[&quot;^1@&quot;,[1932,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1932,&quot;^13&quot;,224,536871054]],[&quot;^1@&quot;,[1932,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1932,&quot;^=&quot;,true,536871054]],[&quot;^1@&quot;,[1932,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871054]],[&quot;^1@&quot;,[1932,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536871054]],[&quot;^1@&quot;,[1932,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1932,&quot;^?&quot;,&quot;~u6266bf71-5ac0-4514-879e-3020019d9e50&quot;,536871054]],[&quot;^1@&quot;,[1933,&quot;^[&quot;,&quot;(Java)\\nid:: 6cb44030-4c4d-4212-a589-11e1f9474f61&quot;,536871054]],[&quot;^1@&quot;,[1933,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1933,&quot;^K&quot;,1929,536871054]],[&quot;^1@&quot;,[1933,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1933,&quot;^13&quot;,1934,536871054]],[&quot;^1@&quot;,[1933,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1933,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;6cb44030-4c4d-4212-a589-11e1f9474f61&quot;],536871054]],[&quot;^1@&quot;,[1933,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1933,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1933,&quot;^?&quot;,&quot;~u6cb44030-4c4d-4212-a589-11e1f9474f61&quot;,536871054]],[&quot;^1@&quot;,[1934,&quot;^[&quot;,&quot;### Toys (GitHub repo):\\nid:: ceeb70ff-2661-4485-885e-f1af13916543&quot;,536871054]],[&quot;^1@&quot;,[1934,&quot;^X&quot;,&quot;^1D&quot;,536871054]],[&quot;^1@&quot;,[1934,&quot;^14&quot;,3,536871054]],[&quot;^1@&quot;,[1934,&quot;^K&quot;,1924,536871054]],[&quot;^1@&quot;,[1934,&quot;^17&quot;,224,536871054]],[&quot;^1@&quot;,[1934,&quot;^13&quot;,224,536871054]],[&quot;^1@&quot;,[1934,&quot;^12&quot;,224,536871054]],[&quot;^1@&quot;,[1934,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1S&quot;,&quot;ceeb70ff-2661-4485-885e-f1af13916543&quot;],536871054]],[&quot;^1@&quot;,[1934,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1S&quot;]],536871054]],[&quot;^1@&quot;,[1934,&quot;^1G&quot;,3,536871054]],[&quot;^1@&quot;,[1934,&quot;^15&quot;,&quot;^1H&quot;,536871054]],[&quot;^1@&quot;,[1934,&quot;^1E&quot;,true,536871054]],[&quot;^1@&quot;,[1934,&quot;^?&quot;,&quot;~uceeb70ff-2661-4485-885e-f1af13916543&quot;,536871054]],[&quot;^1@&quot;,[3107,&quot;^[&quot;,&quot;1 [[Compiled languages &amp; Interpreted languages]]&quot;,536871092]],[&quot;^1@&quot;,[3107,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3107,&quot;^K&quot;,3330,536871092]],[&quot;^1@&quot;,[3107,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3107,&quot;^13&quot;,3330,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,745,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3107,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3107,&quot;^M&quot;,745,536871092]],[&quot;^1@&quot;,[3107,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3107,&quot;^?&quot;,&quot;~u6266bf74-98c0-46a6-a17e-d82e6744fd86&quot;,536871092]],[&quot;^1@&quot;,[3108,&quot;^[&quot;,&quot;Raft将共识问题分解三个子问题： #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:53.027Z\\ncard-last-reviewed:: 2022-03-23T13:02:53.027Z\\ncard-last-score:: 3&quot;,536871092]],[&quot;^1@&quot;,[3108,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3108,&quot;^K&quot;,3155,536871092]],[&quot;^1@&quot;,[3108,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3108,&quot;^13&quot;,3155,536871092]],[&quot;^1@&quot;,[3108,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3108,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3108,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3108,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:53.027Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:53.027Z&quot;,&quot;^1M&quot;,3],536871092]],[&quot;^1@&quot;,[3108,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;]],536871092]],[&quot;^1@&quot;,[3108,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3108,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3108,&quot;^?&quot;,&quot;~u6266bf74-8f8a-45bd-b136-b9c82fdc1847&quot;,536871092]],[&quot;^1@&quot;,[3109,&quot;^[&quot;,&quot;步骤：\\n  1. 集群启动，如下图所示（这里设置集群有20个节点）\\n  \\n  ![https://pic3.zhimg.com/v2-b246affb04dd4a8d8ada2309be2aa03e_r.jpg](https://pic3.zhimg.com/v2-b246affb04dd4a8d8ada2309be2aa03e_r.jpg)\\n  \\n  2. 某节点收到数据改动，并将改动传播给其他4个节点，传播路径表示为较粗的4条线\\n  \\n  ![https://pic4.zhimg.com/v2-4d20a1caeb116d252573364af1684063_r.jpg](https://pic4.zhimg.com/v2-4d20a1caeb116d252573364af1684063_r.jpg)\\n  \\n  3. 收到数据改动的节点重复上面的过程直到所有的节点都被感染\\n  \\n  ![https://pic3.zhimg.com/v2-1984160f78595b28e0da899365cde26e_r.jpg](https://pic3.zhimg.com/v2-1984160f78595b28e0da899365cde26e_r.jpg)&quot;,536871092]],[&quot;^1@&quot;,[3109,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3109,&quot;^K&quot;,3312,536871092]],[&quot;^1@&quot;,[3109,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3109,&quot;^13&quot;,3234,536871092]],[&quot;^1@&quot;,[3109,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3109,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3109,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3109,&quot;^?&quot;,&quot;~u6266bf74-f320-4262-9567-5126d44cb826&quot;,536871092]],[&quot;^1@&quot;,[3110,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3110,&quot;^[&quot;,&quot;CAP 举例\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3110,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3110,&quot;^K&quot;,3231,536871092]],[&quot;^1@&quot;,[3110,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3110,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3110,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3110,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3110,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3110,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3110,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3110,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3110,&quot;^?&quot;,&quot;~u6266bf75-7e2e-4b4a-954b-8e7cbc2f740f&quot;,536871092]],[&quot;^1@&quot;,[3111,&quot;^[&quot;,&quot;[[PKM]]&quot;,536871092]],[&quot;^1@&quot;,[3111,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3111,&quot;^K&quot;,3209,536871092]],[&quot;^1@&quot;,[3111,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3111,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3111,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3111,&quot;^12&quot;,1889,536871092]],[&quot;^1@&quot;,[3111,&quot;^M&quot;,1889,536871092]],[&quot;^1@&quot;,[3111,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3111,&quot;^?&quot;,&quot;~u6266bf75-83d4-46a1-8838-3f66e0225832&quot;,536871092]],[&quot;^1@&quot;,[3112,&quot;^[&quot;,&quot;在2PC中，只有协调者拥有超时机制，3PC同时在协调者和参与者中都引入超时机制， 主要是避免了参与者在长时间无法与协调者节点通讯（协调者挂掉了）的情况下，无法释放资源的问题，因为参与者自身拥有超时机制会在超时后主动提交释放资源，降低了阻塞时间。由于有第一阶段canCommit的yes才会进入第三阶段，因而该阶段极大概率是commit而不是rollback，因而当协调者挂掉后，默认执行commit是最接近正确的行为。&quot;,536871092]],[&quot;^1@&quot;,[3112,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3112,&quot;^K&quot;,3228,536871092]],[&quot;^1@&quot;,[3112,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3112,&quot;^13&quot;,3228,536871092]],[&quot;^1@&quot;,[3112,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3112,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3112,&quot;^?&quot;,&quot;~u6266bf74-b485-4a86-9283-6753ddae3cb6&quot;,536871092]],[&quot;^1@&quot;,[3113,&quot;^[&quot;,&quot;在满足`一致性` 的时候，N1和N2的数据要求值一样的，D1=D2。&quot;,536871092]],[&quot;^1@&quot;,[3113,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3113,&quot;^K&quot;,3301,536871092]],[&quot;^1@&quot;,[3113,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3113,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3113,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3113,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3113,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3113,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3113,&quot;^?&quot;,&quot;~u6266bf75-2171-491a-b746-5b2f4562d80a&quot;,536871092]],[&quot;^1@&quot;,[3114,&quot;^[&quot;,&quot;[[I/O 多路复用]]&quot;,536871092]],[&quot;^1@&quot;,[3114,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3114,&quot;^K&quot;,3171,536871092]],[&quot;^1@&quot;,[3114,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3114,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3114,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3114,&quot;^12&quot;,1569,536871092]],[&quot;^1@&quot;,[3114,&quot;^12&quot;,1570,536871092]],[&quot;^1@&quot;,[3114,&quot;^M&quot;,1569,536871092]],[&quot;^1@&quot;,[3114,&quot;^M&quot;,1570,536871092]],[&quot;^1@&quot;,[3114,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3114,&quot;^?&quot;,&quot;~u6266bf75-4308-4f2b-9bdd-ea6af74b9d8d&quot;,536871092]],[&quot;^1@&quot;,[3115,&quot;^[&quot;,&quot;集群数据库&quot;,536871092]],[&quot;^1@&quot;,[3115,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3115,&quot;^K&quot;,3284,536871092]],[&quot;^1@&quot;,[3115,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3115,&quot;^13&quot;,3339,536871092]],[&quot;^1@&quot;,[3115,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3115,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3115,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3115,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3115,&quot;^?&quot;,&quot;~u6266bf74-8a03-4667-b10f-e0e99eb8a235&quot;,536871092]],[&quot;^1@&quot;,[3116,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3116,&quot;^[&quot;,&quot;[[CAP]]\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3116,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3116,&quot;^K&quot;,3121,536871092]],[&quot;^1@&quot;,[3116,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3116,&quot;^13&quot;,3247,536871092]],[&quot;^1@&quot;,[3116,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3116,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3116,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3116,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3116,&quot;^M&quot;,544,536871092]],[&quot;^1@&quot;,[3116,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3116,&quot;^?&quot;,&quot;~u6266bf75-425f-4d12-a7bd-03fe176a79a8&quot;,536871092]],[&quot;^1@&quot;,[3117,&quot;^[&quot;,&quot;共识算法就是保证一个集群的多台机器协同工作，在遇到请求时，数据能够保持一致。**即使遇到机器宕机，整个系统仍然能够对外保持服务的可用性**\\n  \\n  要求:  1.Termination，有限时间完成 2.Consensus 不同节点结果一致  3.Validity 合法性，决策的记过必须是其他进程提出的提案&quot;,536871092]],[&quot;^1@&quot;,[3117,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3117,&quot;^K&quot;,3153,536871092]],[&quot;^1@&quot;,[3117,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3117,&quot;^13&quot;,3153,536871092]],[&quot;^1@&quot;,[3117,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3117,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3117,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3117,&quot;^?&quot;,&quot;~u6266bf75-2975-45d4-a486-b2f9a6ce4a38&quot;,536871092]],[&quot;^1@&quot;,[3118,&quot;^[&quot;,&quot;若Proposer故障，没关系，再从集群中选出Proposer即可&quot;,536871092]],[&quot;^1@&quot;,[3118,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3118,&quot;^K&quot;,3267,536871092]],[&quot;^1@&quot;,[3118,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3118,&quot;^13&quot;,3135,536871092]],[&quot;^1@&quot;,[3118,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3118,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3118,&quot;^?&quot;,&quot;~u6266bf74-3952-43d1-afbc-5e97d429984f&quot;,536871092]],[&quot;^1@&quot;,[3119,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3119,&quot;^[&quot;,&quot;**再次选举**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3119,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3119,&quot;^K&quot;,3133,536871092]],[&quot;^1@&quot;,[3119,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3119,&quot;^13&quot;,3276,536871092]],[&quot;^1@&quot;,[3119,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3119,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3119,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3119,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3119,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3119,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3119,&quot;^?&quot;,&quot;~u6266bf74-0494-45ee-b283-f90660e61fa6&quot;,536871092]],[&quot;^1@&quot;,[3120,&quot;^[&quot;,&quot;2. 如果Acceptor收到一个针对编号为N的提案的Accept请求，只要该Acceptor**没有**对编号**大于N**的**Prepare请求**做出过**响应**，它就**接受该提案**。\\n ![image.png](../assets/image_1648031704867_0.png)&quot;,536871092]],[&quot;^1@&quot;,[3120,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3120,&quot;^K&quot;,3189,536871092]],[&quot;^1@&quot;,[3120,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3120,&quot;^13&quot;,3265,536871092]],[&quot;^1@&quot;,[3120,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3120,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3120,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3120,&quot;^?&quot;,&quot;~u6266bf74-3136-4d1e-b21f-fa626a362fe8&quot;,536871092]],[&quot;^1@&quot;,[3121,&quot;^[&quot;,&quot;[[CAP理论 &amp; 一致性算法]]&quot;,536871092]],[&quot;^1@&quot;,[3121,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3121,&quot;^K&quot;,3247,536871092]],[&quot;^1@&quot;,[3121,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3121,&quot;^13&quot;,3247,536871092]],[&quot;^1@&quot;,[3121,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3121,&quot;^12&quot;,293,536871092]],[&quot;^1@&quot;,[3121,&quot;^M&quot;,293,536871092]],[&quot;^1@&quot;,[3121,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3121,&quot;^?&quot;,&quot;~u6266bf75-bd82-42ff-bb45-cd101cc82139&quot;,536871092]],[&quot;^1@&quot;,[3122,&quot;^[&quot;,&quot;和2CP一样，3CP还是可能会存在不一致性问题\\n  \\n  比如在 `PreCommit` 阶段，当一个参与者收到了请求之后其他参与者和协调者挂了或者出现了网络分区，这个时候收到消息的参与者都会进行事务提交，这就会出现数据不一致性问题。\\n  \\n  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fc24eaa3-1c59-4061-ba5d-7ba3111fb240/Untitled.png)&quot;,536871092]],[&quot;^1@&quot;,[3122,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3122,&quot;^K&quot;,3253,536871092]],[&quot;^1@&quot;,[3122,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3122,&quot;^13&quot;,3253,536871092]],[&quot;^1@&quot;,[3122,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3122,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3122,&quot;^?&quot;,&quot;~u6266bf74-e71a-46fb-9acf-cc68ba4f5165&quot;,536871092]],[&quot;^1@&quot;,[3123,&quot;^[&quot;,&quot;[总结 - 三者对比](https://blog.csdn.net/weixin_43705457/article/details/113840487)&quot;,536871092]],[&quot;^1@&quot;,[3123,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3123,&quot;^K&quot;,3270,536871092]],[&quot;^1@&quot;,[3123,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3123,&quot;^13&quot;,3245,536871092]],[&quot;^1@&quot;,[3123,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3123,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3123,&quot;^?&quot;,&quot;~u6266bf74-da26-4b25-a588-446226856895&quot;,536871092]],[&quot;^1@&quot;,[3124,&quot;^[&quot;,&quot;日志同步\\n  \\n  日志同步这一过程由一个称为 AppendEntries 的 RPC 调用实现，Leader 会给每个 Follower 发送该 RPC 以追加日志，请求中除了当前任期 term、Leader 的 id 和已提交的日志 index，还有将要追加的日志列表（空则成为心跳包），前一个日志的 index 和 term。\\n  \\n  当接收到该请求后，会先检查 term，如果请求中的 term 比自己的小说明已过期，拒绝请求。之后会对比先前日志的 index 和 term，如果一致，那么由前提可知前面的日志均相同，那么就可以从此处更新日志，将请求中的所有日志写入自己的日志列表中，否则返回 false。如果发生 index 相同但 term 不同则清空后续所有的日志，以 Leader 为准。最后检查已提交的日志 index，对可提交的日志进行提交操作。\\n  \\n  对于 Leader 来说会维护 nextIndex[] 和 matchIndex[] 两个数组，分别记录了每个 Follower 下一个将要发送的日志 index 和已经匹配上的日志 index。每次成为 Leader 都会初始化这两个数组，前者初始化为 Leader 最后一条日志的 index 加 1，后者初始化为 0。每次发送 RPC 时会发送 nextIndex[i] 及之后的日志，成功则更新两个数组，否则减少 nextIndex[i] 的值重试，重复这一过程直至成功。\\n  \\n  &gt; 这里减少 nextIndex 的值有不同的策略，可以每次减一，也可以减一个较大的值，或者是跨任期减少，用于快速找到和该结点相匹配的日志条目。实际中还有可能会定期存储日志，所以当前日志列表中并不会太大，可以完整打包发给对方，这一做法比较适合新加入集群的结点。\\n  &gt; \\n  &gt; \\n  &gt; ![https://zinglix.xyz/img/in-post/raft/4.png](https://zinglix.xyz/img/in-post/raft/4.png)\\n  &gt;&quot;,536871092]],[&quot;^1@&quot;,[3124,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3124,&quot;^K&quot;,3321,536871092]],[&quot;^1@&quot;,[3124,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3124,&quot;^13&quot;,3328,536871092]],[&quot;^1@&quot;,[3124,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3124,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3124,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3124,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3124,&quot;^?&quot;,&quot;~u6266bf74-4fa2-4359-9b96-f51bc3917a64&quot;,536871092]],[&quot;^1@&quot;,[3125,&quot;^[&quot;,&quot;[[MySQL]]&quot;,536871092]],[&quot;^1@&quot;,[3125,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3125,&quot;^K&quot;,3246,536871092]],[&quot;^1@&quot;,[3125,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3125,&quot;^13&quot;,3236,536871092]],[&quot;^1@&quot;,[3125,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3125,&quot;^12&quot;,1734,536871092]],[&quot;^1@&quot;,[3125,&quot;^M&quot;,1734,536871092]],[&quot;^1@&quot;,[3125,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3125,&quot;^?&quot;,&quot;~u6266bf75-0d07-4ece-9ba4-63a9b5d9a51c&quot;,536871092]],[&quot;^1@&quot;,[3126,&quot;^[&quot;,&quot;分布式数据库&quot;,536871092]],[&quot;^1@&quot;,[3126,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3126,&quot;^K&quot;,3158,536871092]],[&quot;^1@&quot;,[3126,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3126,&quot;^13&quot;,3158,536871092]],[&quot;^1@&quot;,[3126,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3126,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3126,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3126,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3126,&quot;^?&quot;,&quot;~u6266bf74-bb37-4e68-b029-757e23e278fe&quot;,536871092]],[&quot;^1@&quot;,[3127,&quot;^[&quot;,&quot;数据不一致&quot;,536871092]],[&quot;^1@&quot;,[3127,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3127,&quot;^K&quot;,3249,536871092]],[&quot;^1@&quot;,[3127,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3127,&quot;^13&quot;,3172,536871092]],[&quot;^1@&quot;,[3127,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3127,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3127,&quot;^?&quot;,&quot;~u6266bf74-f645-403a-b10c-ab26c8b707b4&quot;,536871092]],[&quot;^1@&quot;,[3128,&quot;^[&quot;,&quot;Java is a general-purpose, concurrent, class-based, object-oriented programming language that is designed to minimize implementation dependencies. It relies on a Java virtual machine to be secure and highly portable. It is bundled with an extensive library designed to provide a full abstraction of the underlying platform. Java is a statically typed object-oriented language that uses a syntax similar to (but incompatible with) C++. It includes a documentation system called Javadoc.&quot;,536871092]],[&quot;^1@&quot;,[3128,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3128,&quot;^K&quot;,3200,536871092]],[&quot;^1@&quot;,[3128,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3128,&quot;^13&quot;,3244,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3128,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3128,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3128,&quot;^?&quot;,&quot;~u6266bf74-a2d8-4b91-a94f-a626627b84e9&quot;,536871092]],[&quot;^1@&quot;,[3129,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3129,&quot;^[&quot;,&quot;Partition tolerance. **分区容错性** #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:24:01.033Z\\ncard-last-reviewed:: 2022-03-23T10:24:01.034Z\\ncard-last-score:: 3\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3129,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3129,&quot;^K&quot;,3110,536871092]],[&quot;^1@&quot;,[3129,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3129,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3129,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3129,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3129,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3129,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:24:01.033Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:24:01.034Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3129,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3129,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3129,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3129,&quot;^?&quot;,&quot;~u6266bf74-5a85-4f9f-801c-5489f09b2050&quot;,536871092]],[&quot;^1@&quot;,[3130,&quot;^[&quot;,&quot;[[LevelDB]]&quot;,536871092]],[&quot;^1@&quot;,[3130,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3130,&quot;^K&quot;,3322,536871092]],[&quot;^1@&quot;,[3130,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3130,&quot;^13&quot;,3236,536871092]],[&quot;^1@&quot;,[3130,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3130,&quot;^12&quot;,1633,536871092]],[&quot;^1@&quot;,[3130,&quot;^M&quot;,1633,536871092]],[&quot;^1@&quot;,[3130,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3130,&quot;^?&quot;,&quot;~u6266bf75-da4d-47dd-8276-fdb571f226e9&quot;,536871092]],[&quot;^1@&quot;,[3131,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3131,&quot;^[&quot;,&quot;Consensus Algorithms\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3131,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3131,&quot;^K&quot;,3116,536871092]],[&quot;^1@&quot;,[3131,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3131,&quot;^13&quot;,3247,536871092]],[&quot;^1@&quot;,[3131,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3131,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3131,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3131,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3131,&quot;^?&quot;,&quot;~u6266bf74-ef24-4cec-b2f6-8479a5f21345&quot;,536871092]],[&quot;^1@&quot;,[3132,&quot;^[&quot;,&quot;改进\\n  \\n  相比一阶段协议，分两步可以让事务先执行然后再提交，让事务在提交前尽可能地完成所有能完成的工作，这样，最后的提交阶段将是耗时极短，耗时极短意味着操作失败的可能性也就降低。&quot;,536871092]],[&quot;^1@&quot;,[3132,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3132,&quot;^K&quot;,3335,536871092]],[&quot;^1@&quot;,[3132,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3132,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3132,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3132,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3132,&quot;^?&quot;,&quot;~u6266bf74-0ac6-4848-9d45-dc9e5d48f0b9&quot;,536871092]],[&quot;^1@&quot;,[3133,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3133,&quot;^[&quot;,&quot;**初次选举**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3133,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3133,&quot;^K&quot;,3276,536871092]],[&quot;^1@&quot;,[3133,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3133,&quot;^13&quot;,3276,536871092]],[&quot;^1@&quot;,[3133,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3133,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3133,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3133,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3133,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3133,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3133,&quot;^?&quot;,&quot;~u6266bf74-2e72-45b7-a333-48af956a76c4&quot;,536871092]],[&quot;^1@&quot;,[3134,&quot;^[&quot;,&quot;[[System Design]]&quot;,536871092]],[&quot;^1@&quot;,[3134,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3134,&quot;^K&quot;,3298,536871092]],[&quot;^1@&quot;,[3134,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3134,&quot;^13&quot;,3229,536871092]],[&quot;^1@&quot;,[3134,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3134,&quot;^12&quot;,2502,536871092]],[&quot;^1@&quot;,[3134,&quot;^M&quot;,2502,536871092]],[&quot;^1@&quot;,[3134,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3134,&quot;^?&quot;,&quot;~u6266bf74-1388-4e7f-9b19-59d8d373115c&quot;,536871092]],[&quot;^1@&quot;,[3135,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3135,&quot;^[&quot;,&quot;节点故障\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3135,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3135,&quot;^K&quot;,3332,536871092]],[&quot;^1@&quot;,[3135,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3135,&quot;^13&quot;,3332,536871092]],[&quot;^1@&quot;,[3135,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3135,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3135,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3135,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3135,&quot;^?&quot;,&quot;~u6266bf74-36bc-44ed-a723-cff84819c7fc&quot;,536871092]],[&quot;^1@&quot;,[3136,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3136,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3136,&quot;^K&quot;,3320,536871092]],[&quot;^1@&quot;,[3136,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3136,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3136,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3136,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3136,&quot;^?&quot;,&quot;~u6266bf75-f2fd-45e5-9f5a-00a046009e82&quot;,536871092]],[&quot;^1@&quot;,[3137,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3137,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3137,&quot;^K&quot;,3282,536871092]],[&quot;^1@&quot;,[3137,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3137,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3137,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3137,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3137,&quot;^?&quot;,&quot;~u6266bf75-c5f1-404d-97cc-3f0c446d50c0&quot;,536871092]],[&quot;^1@&quot;,[3138,&quot;^[&quot;,&quot;CH 8 [[VFS]]&quot;,536871092]],[&quot;^1@&quot;,[3138,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3138,&quot;^K&quot;,3282,536871092]],[&quot;^1@&quot;,[3138,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3138,&quot;^13&quot;,3282,536871092]],[&quot;^1@&quot;,[3138,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3138,&quot;^12&quot;,2946,536871092]],[&quot;^1@&quot;,[3138,&quot;^M&quot;,2946,536871092]],[&quot;^1@&quot;,[3138,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3138,&quot;^?&quot;,&quot;~u6266bf75-2d7f-4368-a7b5-f5b1d60d9a15&quot;,536871092]],[&quot;^1@&quot;,[3139,&quot;^[&quot;,&quot;执行过程中，所有参与节点都是事务阻塞型的。当参与者占有公共资源时，其他第三方节点访问公共资源不得不处于阻塞状态。&quot;,536871092]],[&quot;^1@&quot;,[3139,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3139,&quot;^K&quot;,3318,536871092]],[&quot;^1@&quot;,[3139,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3139,&quot;^13&quot;,3318,536871092]],[&quot;^1@&quot;,[3139,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3139,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3139,&quot;^?&quot;,&quot;~u6266bf74-1d10-4d56-8f41-09f39fbe9844&quot;,536871092]],[&quot;^1@&quot;,[3140,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3140,&quot;^[&quot;,&quot;消息广播模式\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3140,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3140,&quot;^K&quot;,3278,536871092]],[&quot;^1@&quot;,[3140,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3140,&quot;^13&quot;,3278,536871092]],[&quot;^1@&quot;,[3140,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3140,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3140,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3140,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3140,&quot;^?&quot;,&quot;~u6266bf74-4246-428d-b0a4-e13acf788677&quot;,536871092]],[&quot;^1@&quot;,[3141,&quot;^[&quot;,&quot;和raft算法的主要区别：\\n  1. 对于Leader的任期，raft叫做term，而ZAB叫做epoch\\n  2. 在状态复制的过程中，raft的心跳从Leader向Follower发送，而ZAB则相反。&quot;,536871092]],[&quot;^1@&quot;,[3141,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3141,&quot;^K&quot;,3278,536871092]],[&quot;^1@&quot;,[3141,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3141,&quot;^13&quot;,3270,536871092]],[&quot;^1@&quot;,[3141,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3141,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3141,&quot;^?&quot;,&quot;~u6266bf74-0bb3-4ada-a858-c484019e01b0&quot;,536871092]],[&quot;^1@&quot;,[3142,&quot;^[&quot;,&quot;在算法刚开始时，所有结点都是 Follower，每个结点都会有一个定时器，每次收到来自 Leader 的信息就会更新该定时器。\\n  \\n  如果定时器超时，说明一段时间内没有收到 Leader 的消息，那么就可以认为 Leader 已死或者不存在，那么该结点就会转变成 Candidate，意思为准备竞争成为 Leader。\\n  \\n  成为 Candidate 后结点会向所有其他结点发送请求投票的请求（RequestVote），其他结点在收到请求后会判断是否可以投给他并返回结果。Candidate 如果收到了半数以上的投票就可以成为 Leader，成为之后会立即并在任期内定期发送一个心跳信息通知其他所有结点新的 Leader 信息，并用来重置定时器，避免其他结点再次成为 Candidate。\\n  \\n  如果 Candidate 在一定时间内没有获得足够的投票，那么就会进行一轮新的选举，直到其成为 Leader,或者其他结点成为了新的 Leader，自己变成 Follower。&quot;,536871092]],[&quot;^1@&quot;,[3142,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3142,&quot;^K&quot;,3133,536871092]],[&quot;^1@&quot;,[3142,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3142,&quot;^13&quot;,3133,536871092]],[&quot;^1@&quot;,[3142,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3142,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3142,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3142,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3142,&quot;^?&quot;,&quot;~u6266bf74-9e25-41f5-b4fb-360ccd6c92ca&quot;,536871092]],[&quot;^1@&quot;,[3143,&quot;^[&quot;,&quot;**主─从复制和主─主复制**\\n  \\n  这个主题进一步探讨了[数据库](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E6%95%B0%E6%8D%AE%E5%BA%93)部分:&quot;,536871092]],[&quot;^1@&quot;,[3143,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3143,&quot;^K&quot;,3205,536871092]],[&quot;^1@&quot;,[3143,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3143,&quot;^13&quot;,3205,536871092]],[&quot;^1@&quot;,[3143,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3143,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3143,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3143,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3143,&quot;^?&quot;,&quot;~u6266bf74-7e3b-4e14-9687-23c3866b462e&quot;,536871092]],[&quot;^1@&quot;,[3144,&quot;^[&quot;,&quot;1. Client用户，类似社会民众，负责提出建议\\n 2. Propser议员，类似基层人大代表，负责帮Client上交提案\\n 3. Acceptor投票者，类似全国人大代表，负责为提案投票，**不同意比自己以前接收过的提案编号要小的提案，其他提案都同意**，例如A以前给N号提案表决过，那么再收到小于等于N号的提案时就直接拒绝了\\n 4. Learner提案接受者，类似记录被通过提案的记录员，负责记录提案&quot;,536871092]],[&quot;^1@&quot;,[3144,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3144,&quot;^K&quot;,3222,536871092]],[&quot;^1@&quot;,[3144,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3144,&quot;^13&quot;,3222,536871092]],[&quot;^1@&quot;,[3144,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3144,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3144,&quot;^?&quot;,&quot;~u6266bf74-d5c3-40f9-ab02-dfa4bf9e5dd8&quot;,536871092]],[&quot;^1@&quot;,[3145,&quot;^[&quot;,&quot;[主─主复制](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E4%B8%BB%E4%B8%BB%E5%A4%8D%E5%88%B6)&quot;,536871092]],[&quot;^1@&quot;,[3145,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3145,&quot;^K&quot;,3272,536871092]],[&quot;^1@&quot;,[3145,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3145,&quot;^13&quot;,3143,536871092]],[&quot;^1@&quot;,[3145,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3145,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3145,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3145,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3145,&quot;^?&quot;,&quot;~u6266bf74-6ab9-434b-8205-7042ee8cc3d8&quot;,536871092]],[&quot;^1@&quot;,[3146,&quot;^[&quot;,&quot;Coda&quot;,536871092]],[&quot;^1@&quot;,[3146,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3146,&quot;^K&quot;,3317,536871092]],[&quot;^1@&quot;,[3146,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3146,&quot;^13&quot;,3317,536871092]],[&quot;^1@&quot;,[3146,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3146,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3146,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3146,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3146,&quot;^?&quot;,&quot;~u6266bf74-635b-4a9d-a74a-f6dae513ad93&quot;,536871092]],[&quot;^1@&quot;,[3147,&quot;^[&quot;,&quot;说明：Paxos算法不容易实现，Raft算法是对Paxos算法的简化和改进；两者区别在于如何选出领导者并保持安全。[[$red]]==在Raft中，只有最新的服务器才能成为领导者，而Paxos允许任何服务器成为领导者==。然而，这种灵活性伴随着额外的复杂性。&quot;,536871092]],[&quot;^1@&quot;,[3147,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3147,&quot;^K&quot;,3187,536871092]],[&quot;^1@&quot;,[3147,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3147,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3147,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3147,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3147,&quot;^M&quot;,549,536871092]],[&quot;^1@&quot;,[3147,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3147,&quot;^?&quot;,&quot;~u6266bf74-4ec1-4324-be74-458c436f0ac3&quot;,536871092]],[&quot;^1@&quot;,[3148,&quot;^[&quot;,&quot;**Safety 安全性**：通过安全性原则来处理一些特殊case，保证Raft算法的完备性。&quot;,536871092]],[&quot;^1@&quot;,[3148,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3148,&quot;^K&quot;,3315,536871092]],[&quot;^1@&quot;,[3148,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3148,&quot;^13&quot;,3108,536871092]],[&quot;^1@&quot;,[3148,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3148,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3148,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3148,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3148,&quot;^?&quot;,&quot;~u6266bf74-86f5-4b94-a893-71576792f2fc&quot;,536871092]],[&quot;^1@&quot;,[3149,&quot;^[&quot;,&quot;[[系统调用总结]]&quot;,536871092]],[&quot;^1@&quot;,[3149,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3149,&quot;^K&quot;,3180,536871092]],[&quot;^1@&quot;,[3149,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3149,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3149,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3149,&quot;^12&quot;,3100,536871092]],[&quot;^1@&quot;,[3149,&quot;^M&quot;,3100,536871092]],[&quot;^1@&quot;,[3149,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3149,&quot;^?&quot;,&quot;~u6266bf75-1e75-4702-abe1-82c165bb4f4e&quot;,536871092]],[&quot;^1@&quot;,[3150,&quot;^[&quot;,&quot;[[linux常用命令总结]]&quot;,536871092]],[&quot;^1@&quot;,[3150,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3150,&quot;^K&quot;,3149,536871092]],[&quot;^1@&quot;,[3150,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3150,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3150,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3150,&quot;^12&quot;,3095,536871092]],[&quot;^1@&quot;,[3150,&quot;^M&quot;,3095,536871092]],[&quot;^1@&quot;,[3150,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3150,&quot;^?&quot;,&quot;~u6266bf75-f995-4b83-a71f-87a377041ced&quot;,536871092]],[&quot;^1@&quot;,[3151,&quot;^[&quot;,&quot;保证`可用性`：立即响应，可用性得到了保证，但是此时响应的数据和D1不一致，`一致性`无法保证。&quot;,536871092]],[&quot;^1@&quot;,[3151,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3151,&quot;^K&quot;,3251,536871092]],[&quot;^1@&quot;,[3151,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3151,&quot;^13&quot;,3336,536871092]],[&quot;^1@&quot;,[3151,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3151,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3151,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3151,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3151,&quot;^?&quot;,&quot;~u6266bf75-7070-45b9-923e-4944692fad15&quot;,536871092]],[&quot;^1@&quot;,[3152,&quot;^[&quot;,&quot;[[Git]] [[Vim]]&quot;,536871092]],[&quot;^1@&quot;,[3152,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3152,&quot;^K&quot;,3289,536871092]],[&quot;^1@&quot;,[3152,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3152,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3152,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3152,&quot;^12&quot;,1074,536871092]],[&quot;^1@&quot;,[3152,&quot;^12&quot;,3101,536871092]],[&quot;^1@&quot;,[3152,&quot;^M&quot;,1074,536871092]],[&quot;^1@&quot;,[3152,&quot;^M&quot;,3101,536871092]],[&quot;^1@&quot;,[3152,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3152,&quot;^?&quot;,&quot;~u6266bf75-52c7-4309-8c7d-662b6ca28bce&quot;,536871092]],[&quot;^1@&quot;,[3153,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3153,&quot;^[&quot;,&quot;共识：目标只是 **让几个节点达成一致（get serveral nodes to agree on something）**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3153,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3153,&quot;^K&quot;,3116,536871092]],[&quot;^1@&quot;,[3153,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3153,&quot;^13&quot;,3116,536871092]],[&quot;^1@&quot;,[3153,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3153,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3153,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3153,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3153,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3153,&quot;^?&quot;,&quot;~u6266bf75-d9a6-4009-a8e6-1986dc715332&quot;,536871092]],[&quot;^1@&quot;,[3154,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3154,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3154,&quot;^K&quot;,3232,536871092]],[&quot;^1@&quot;,[3154,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3154,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3154,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3154,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3154,&quot;^?&quot;,&quot;~u6266bf75-2214-4d4b-933e-292dad655335&quot;,536871092]],[&quot;^1@&quot;,[3155,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3155,&quot;^[&quot;,&quot;算法步骤\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3155,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3155,&quot;^K&quot;,3184,536871092]],[&quot;^1@&quot;,[3155,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3155,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3155,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3155,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3155,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3155,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3155,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3155,&quot;^?&quot;,&quot;~u6266bf74-253b-458e-a9e6-1172c7a20db1&quot;,536871092]],[&quot;^1@&quot;,[3156,&quot;^[&quot;,&quot;[分布式存储测试](https://blog.csdn.net/qq_33932782/article/details/79662598)&quot;,536871092]],[&quot;^1@&quot;,[3156,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3156,&quot;^K&quot;,3152,536871092]],[&quot;^1@&quot;,[3156,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3156,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3156,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3156,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3156,&quot;^?&quot;,&quot;~u6266bf75-75a9-43f6-b1df-81b95b018932&quot;,536871092]],[&quot;^1@&quot;,[3157,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3157,&quot;^[&quot;,&quot;2PC\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3157,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3157,&quot;^K&quot;,3131,536871092]],[&quot;^1@&quot;,[3157,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3157,&quot;^13&quot;,3131,536871092]],[&quot;^1@&quot;,[3157,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3157,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3157,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3157,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3157,&quot;^?&quot;,&quot;~u6266bf74-bb9f-45e7-adb9-d6b55017f75b&quot;,536871092]],[&quot;^1@&quot;,[3158,&quot;^[&quot;,&quot;举例：&quot;,536871092]],[&quot;^1@&quot;,[3158,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3158,&quot;^K&quot;,3239,536871092]],[&quot;^1@&quot;,[3158,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3158,&quot;^13&quot;,3239,536871092]],[&quot;^1@&quot;,[3158,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3158,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3158,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3158,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3158,&quot;^?&quot;,&quot;~u6266bf74-1959-4839-a895-643badb2b379&quot;,536871092]],[&quot;^1@&quot;,[3159,&quot;^[&quot;,&quot;[[Map Reduce]]&quot;,536871092]],[&quot;^1@&quot;,[3159,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3159,&quot;^K&quot;,3165,536871092]],[&quot;^1@&quot;,[3159,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3159,&quot;^13&quot;,3165,536871092]],[&quot;^1@&quot;,[3159,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3159,&quot;^12&quot;,1655,536871092]],[&quot;^1@&quot;,[3159,&quot;^M&quot;,1655,536871092]],[&quot;^1@&quot;,[3159,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3159,&quot;^?&quot;,&quot;~u6266bf74-6f26-46b7-8fff-aab21809e23e&quot;,536871092]],[&quot;^1@&quot;,[3160,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3160,&quot;^[&quot;,&quot;**故障切换**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3160,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3160,&quot;^K&quot;,3163,536871092]],[&quot;^1@&quot;,[3160,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3160,&quot;^13&quot;,3163,536871092]],[&quot;^1@&quot;,[3160,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3160,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3160,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3160,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3160,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3160,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3160,&quot;^?&quot;,&quot;~u6266bf74-bab2-431c-aca8-b4002ade28b1&quot;,536871092]],[&quot;^1@&quot;,[3161,&quot;^[&quot;,&quot;比如一个服务有3个节点，中国，美国，新加坡，如果数据只有一份，如果数据只在中国，那么美国用户访问数据流程是“美国节点-&gt;中国节点-&gt;中国数据“来实现的。这时如果美国和中国之间的网络断/高延时了，即出现分区，美国用户就没法访问到该数据。为了解决这个问题，目前都是每个节点都有一份数据备份，即中国，美国，新加坡都有一份数据，这样美国节点和中国节点哪怕临时中断，美国用户还是可以访问美国的数据。但是数据分处不同地区，需要同步，但同步有延时，数据可能不一致。要保障一致，那就必须等写操作在所有节点完成才读，这个时间又是不确定的，又会带来可用性问题，这就是C，A，P不可兼得即CAP理论\\n  \\n  ![https://pic4.zhimg.com/v2-356f6445dc951696887537b6e56c0847_r.jpg](https://pic4.zhimg.com/v2-356f6445dc951696887537b6e56c0847_r.jpg)&quot;,536871092]],[&quot;^1@&quot;,[3161,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3161,&quot;^K&quot;,3110,536871092]],[&quot;^1@&quot;,[3161,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3161,&quot;^13&quot;,3110,536871092]],[&quot;^1@&quot;,[3161,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3161,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3161,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3161,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3161,&quot;^?&quot;,&quot;~u6266bf75-81d1-4280-ab16-f614834e9aa3&quot;,536871092]],[&quot;^1@&quot;,[3162,&quot;^[&quot;,&quot;**缺陷：故障切换**&quot;,536871092]],[&quot;^1@&quot;,[3162,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3162,&quot;^K&quot;,3255,536871092]],[&quot;^1@&quot;,[3162,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3162,&quot;^13&quot;,3160,536871092]],[&quot;^1@&quot;,[3162,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3162,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3162,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3162,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3162,&quot;^?&quot;,&quot;~u6266bf74-1f7e-449a-8236-7b1814945d6f&quot;,536871092]],[&quot;^1@&quot;,[3163,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3163,&quot;^[&quot;,&quot;Availability. ：**可用性**\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:20:42.311Z\\ncard-last-reviewed:: 2022-03-23T10:20:42.318Z\\ncard-last-score:: 3\\ncollapsed:: true\\n  \\n  可用性指“Reads and writes always succeed”，意思是只要收到用户的请求，服务器就必须给出回应（不管对错，都要回应一下）。\\n  \\n  用户可以选择向 G1 或 G2 发起读操作。不管是哪台服务器，只要收到请求，就必须告诉用户，到底是 v0 还是 v1，否则就不满足可用性。\\n  \\n  对于一个可用性的分布式系统，每一个非故障的节点必须对每一个请求作出响应。如果不考虑一致性，这个是很好实现的，立即返回本地节点的数据即可，而不需要等到数据一致才返回。\\n  \\n  有两种支持高可用性的模式: **故障切换（fail-over）和复制（replication）**。 #card&quot;,536871092]],[&quot;^1@&quot;,[3163,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3163,&quot;^K&quot;,3129,536871092]],[&quot;^1@&quot;,[3163,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3163,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3163,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3163,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3163,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3163,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:20:42.311Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:20:42.318Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3163,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3163,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3163,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3163,&quot;^?&quot;,&quot;~u6266bf74-5213-4a00-a58c-655682704180&quot;,536871092]],[&quot;^1@&quot;,[3164,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3164,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3164,&quot;^K&quot;,3204,536871092]],[&quot;^1@&quot;,[3164,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3164,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3164,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3164,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3164,&quot;^?&quot;,&quot;~u6266bf75-b7a4-4477-b3a9-cbb982c5037b&quot;,536871092]],[&quot;^1@&quot;,[3165,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3165,&quot;^[&quot;,&quot;(Big Three):\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3165,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3165,&quot;^K&quot;,3298,536871092]],[&quot;^1@&quot;,[3165,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3165,&quot;^13&quot;,3298,536871092]],[&quot;^1@&quot;,[3165,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3165,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3165,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3165,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3165,&quot;^?&quot;,&quot;~u6266bf74-5f56-4d21-b1a4-6fd20c955661&quot;,536871092]],[&quot;^1@&quot;,[3166,&quot;^[&quot;,&quot;[[$red]]==在任意分区网络故障的情况下系统仍能继续运行(“the system continues to operate despite arbitrary message loss or failure of part of the system”)== = 分布式系统在遇到任何网络分区故障的时候，仍然能够对外提供满足一致性和可用性的服务。&quot;,536871092]],[&quot;^1@&quot;,[3166,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3166,&quot;^K&quot;,3129,536871092]],[&quot;^1@&quot;,[3166,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3166,&quot;^13&quot;,3129,536871092]],[&quot;^1@&quot;,[3166,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3166,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3166,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3166,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3166,&quot;^M&quot;,549,536871092]],[&quot;^1@&quot;,[3166,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3166,&quot;^?&quot;,&quot;~u6266bf74-1e84-4816-b6e4-5be5e3254e44&quot;,536871092]],[&quot;^1@&quot;,[3167,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3167,&quot;^[&quot;,&quot;[[进制 &amp; 编码（基础）]]\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3167,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3167,&quot;^K&quot;,3164,536871092]],[&quot;^1@&quot;,[3167,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3167,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3167,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3167,&quot;^12&quot;,3104,536871092]],[&quot;^1@&quot;,[3167,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3167,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3167,&quot;^M&quot;,3104,536871092]],[&quot;^1@&quot;,[3167,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3167,&quot;^?&quot;,&quot;~u6266bf75-2c12-4b1d-8b2e-7ae5ab07f153&quot;,536871092]],[&quot;^1@&quot;,[3168,&quot;^[&quot;,&quot;1. Proposer选择一个**提案编号N**，然后向**半数以上**的Acceptor发送编号为N的**Prepare请求**。(Proposer发送)&quot;,536871092]],[&quot;^1@&quot;,[3168,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3168,&quot;^K&quot;,3216,536871092]],[&quot;^1@&quot;,[3168,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3168,&quot;^13&quot;,3216,536871092]],[&quot;^1@&quot;,[3168,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3168,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3168,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3168,&quot;^?&quot;,&quot;~u6266bf74-5b13-4b81-9501-d08b947a63a5&quot;,536871092]],[&quot;^1@&quot;,[3169,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3169,&quot;^[&quot;,&quot;ZAB 协议对于不同阶段的出现的数据不一致的情况做了兼容，保证：\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3169,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3169,&quot;^K&quot;,3213,536871092]],[&quot;^1@&quot;,[3169,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3169,&quot;^13&quot;,3213,536871092]],[&quot;^1@&quot;,[3169,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3169,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3169,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3169,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3169,&quot;^?&quot;,&quot;~u6266bf74-15ff-4988-9371-eb3cc8118004&quot;,536871092]],[&quot;^1@&quot;,[3170,&quot;^[&quot;,&quot;DNS&quot;,536871092]],[&quot;^1@&quot;,[3170,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3170,&quot;^K&quot;,3283,536871092]],[&quot;^1@&quot;,[3170,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3170,&quot;^13&quot;,3283,536871092]],[&quot;^1@&quot;,[3170,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3170,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3170,&quot;^?&quot;,&quot;~u6266bf74-eb41-47d8-9a86-1b0fbc397316&quot;,536871092]],[&quot;^1@&quot;,[3171,&quot;^[&quot;,&quot;[[Socket]]&quot;,536871092]],[&quot;^1@&quot;,[3171,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3171,&quot;^K&quot;,3167,536871092]],[&quot;^1@&quot;,[3171,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3171,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3171,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3171,&quot;^12&quot;,2444,536871092]],[&quot;^1@&quot;,[3171,&quot;^M&quot;,2444,536871092]],[&quot;^1@&quot;,[3171,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3171,&quot;^?&quot;,&quot;~u6266bf75-87b0-4c97-8f22-dbd12dca8d50&quot;,536871092]],[&quot;^1@&quot;,[3172,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3172,&quot;^[&quot;,&quot;缺陷\\ncollapsed:: true\\n  \\n  ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3abef756-e657-4fbb-9836-7e2162665034/Untitled.png)&quot;,536871092]],[&quot;^1@&quot;,[3172,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3172,&quot;^K&quot;,3132,536871092]],[&quot;^1@&quot;,[3172,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3172,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3172,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3172,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3172,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3172,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3172,&quot;^?&quot;,&quot;~u6266bf74-1845-4645-9708-07c77238dc79&quot;,536871092]],[&quot;^1@&quot;,[3173,&quot;^[&quot;,&quot;**阶段二 commit：执行事务提交**\\n  \\n  proposer：如果收到大多数的回复，则可准备发送带有提案号的接收消息。如果收到的回复不带有新的提案，则说明锁定成功，使用自己的提案；如果收到的回复带有新的内容，则替换为编号更大的提案；如果没有收到足够多的请求，则再次发出请求\\n  acceptor：接受消息后，如果发现提案号不小于已接受的最大提案号，则接受该提案，并更新最大提案号\\n  \\n  协调者根据各参与者的反馈情况决定最终是否可以提交事务，如果反馈都是 Yes，发送提交`commit`请求，参与者提交成功后返回 `Ack` 消息，协调者接收后就完成了。如果反馈是 No 或者超时未反馈，发送 `Rollback` 请求，利用阶段一记录表的 `Undo` 信息执行回滚，并反馈给协调者`Ack` ，中断消息\\n  \\n\\n    一旦多数接受了共同的提案值，则形成决议，成为最终确认的提案\\n\\n    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e7ec5e8-6612-448f-8441-045fe01b44b3/Untitled.png)&quot;,536871092]],[&quot;^1@&quot;,[3173,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3173,&quot;^K&quot;,3256,536871092]],[&quot;^1@&quot;,[3173,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3173,&quot;^13&quot;,3335,536871092]],[&quot;^1@&quot;,[3173,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3173,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3173,&quot;^?&quot;,&quot;~u6266bf74-4fc1-4815-9924-26ea11730941&quot;,536871092]],[&quot;^1@&quot;,[3174,&quot;^[&quot;,&quot;Why\\n  \\n  在于只有一个阶段的话，在多提案+多接收者情况下，无法确认是否获得通过的提案是最终结果，可能还有后续的提案继续提交通过。\\n  所以引入新的一个阶段，在proposer前一阶段拿到反馈后，判断这个提案是否被大多数接受，需要对其进行最终确认&quot;,536871092]],[&quot;^1@&quot;,[3174,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3174,&quot;^K&quot;,3258,536871092]],[&quot;^1@&quot;,[3174,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3174,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3174,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3174,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3174,&quot;^?&quot;,&quot;~u6266bf74-e84c-460e-8f96-93cdc9f9164b&quot;,536871092]],[&quot;^1@&quot;,[3175,&quot;^[&quot;,&quot;**功能上的损失**：在一个电商网站上，正常情况下，用户可以顺利完成每一笔订单。但是到了大促期间，为了保护购物系统的稳定性，部分消费者可能会被引导到一个降级页面。&quot;,536871092]],[&quot;^1@&quot;,[3175,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3175,&quot;^K&quot;,3241,536871092]],[&quot;^1@&quot;,[3175,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3175,&quot;^13&quot;,3280,536871092]],[&quot;^1@&quot;,[3175,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3175,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3175,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3175,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3175,&quot;^?&quot;,&quot;~u6266bf74-444c-43de-9333-f69fde9a5d03&quot;,536871092]],[&quot;^1@&quot;,[3176,&quot;^[&quot;,&quot;**让几个节点达成一致 ：** [一致性算法](https://www.notion.so/Distribute-System-Design-aef162f1736b4f6ea3abd54aa7f05fe1)\\n\\n        **来源及延伸阅读**[Transactions across data centers](http://snarfed.org/transactions_across_datacenters_io.html)\\n\\n\\n    ****权衡三者的关键点取决于业务：****&quot;,536871092]],[&quot;^1@&quot;,[3176,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3176,&quot;^K&quot;,3210,536871092]],[&quot;^1@&quot;,[3176,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3176,&quot;^13&quot;,3224,536871092]],[&quot;^1@&quot;,[3176,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3176,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3176,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3176,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3176,&quot;^?&quot;,&quot;~u6266bf74-d302-4485-86b8-62ca308fc114&quot;,536871092]],[&quot;^1@&quot;,[3177,&quot;^[&quot;,&quot;实现方式：&quot;,536871092]],[&quot;^1@&quot;,[3177,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3177,&quot;^K&quot;,3339,536871092]],[&quot;^1@&quot;,[3177,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3177,&quot;^13&quot;,3279,536871092]],[&quot;^1@&quot;,[3177,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3177,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3177,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3177,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3177,&quot;^?&quot;,&quot;~u6266bf74-f38f-4cdb-8feb-4a51acff9ee0&quot;,536871092]],[&quot;^1@&quot;,[3178,&quot;^[&quot;,&quot;所以，[Raft算法核心流程可以归纳为：](https://zinglix.xyz/2020/06/25/raft/#:~:text=Raft%20%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E6%8B%9C%E5%8D%A0%E5%BA%AD,%E7%9A%84%E8%80%8C%E9%9D%9E%E4%BC%AA%E9%80%A0%E7%9A%84%E3%80%82&amp;text=%E7%AE%97%E6%B3%95%E5%B0%86%E6%9C%BA%E5%99%A8%E5%88%86%E6%88%90%E4%B8%89,%E9%83%BD%E4%B8%8ELeader%20%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E3%80%82) #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:18.157Z\\ncard-last-reviewed:: 2022-03-23T13:02:18.162Z\\ncard-last-score:: 3&quot;,536871092]],[&quot;^1@&quot;,[3178,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3178,&quot;^K&quot;,3108,536871092]],[&quot;^1@&quot;,[3178,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3178,&quot;^13&quot;,3155,536871092]],[&quot;^1@&quot;,[3178,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3178,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3178,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3178,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:18.157Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:18.162Z&quot;,&quot;^1M&quot;,3],536871092]],[&quot;^1@&quot;,[3178,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;]],536871092]],[&quot;^1@&quot;,[3178,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3178,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3178,&quot;^?&quot;,&quot;~u6266bf74-be2b-4f6f-8674-cb3c82097a53&quot;,536871092]],[&quot;^1@&quot;,[3179,&quot;^[&quot;,&quot;实现方式：&quot;,536871092]],[&quot;^1@&quot;,[3179,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3179,&quot;^K&quot;,3317,536871092]],[&quot;^1@&quot;,[3179,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3179,&quot;^13&quot;,3207,536871092]],[&quot;^1@&quot;,[3179,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3179,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3179,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3179,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3179,&quot;^?&quot;,&quot;~u6266bf74-07c6-4ffe-8adc-43d6e1381c98&quot;,536871092]],[&quot;^1@&quot;,[3180,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3180,&quot;^[&quot;,&quot;📗  Linux\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3180,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3180,&quot;^K&quot;,3333,536871092]],[&quot;^1@&quot;,[3180,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3180,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3180,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3180,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3180,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3180,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3180,&quot;^?&quot;,&quot;~u6266bf75-4180-4727-8fb9-bf08ca9fccf8&quot;,536871092]],[&quot;^1@&quot;,[3181,&quot;^[&quot;,&quot;**最终一致性**\\n  \\n  在写入后，访问最终能看到写入数据（通常在数毫秒内）。数据被异步复制。\\n  \\n  DNS 和 email 等系统使用的是此种方式。最终一致性在高可用性系统中效果不错。&quot;,536871092]],[&quot;^1@&quot;,[3181,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3181,&quot;^K&quot;,3300,536871092]],[&quot;^1@&quot;,[3181,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3181,&quot;^13&quot;,3210,536871092]],[&quot;^1@&quot;,[3181,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3181,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3181,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3181,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3181,&quot;^?&quot;,&quot;~u6266bf74-062d-4c98-86ea-6d21fea49239&quot;,536871092]],[&quot;^1@&quot;,[3182,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3182,&quot;^[&quot;,&quot;定义\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3182,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3182,&quot;^K&quot;,3219,536871092]],[&quot;^1@&quot;,[3182,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3182,&quot;^13&quot;,3273,536871092]],[&quot;^1@&quot;,[3182,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3182,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3182,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3182,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3182,&quot;^?&quot;,&quot;~u6266bf74-51a4-40bb-a6db-1d8b7df0676d&quot;,536871092]],[&quot;^1@&quot;,[3183,&quot;^[&quot;,&quot;## MAIN (public)&quot;,536871092]],[&quot;^1@&quot;,[3183,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3183,&quot;^14&quot;,2,536871092]],[&quot;^1@&quot;,[3183,&quot;^K&quot;,3136,536871092]],[&quot;^1@&quot;,[3183,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3183,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3183,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3183,&quot;^1G&quot;,2,536871092]],[&quot;^1@&quot;,[3183,&quot;^15&quot;,&quot;^1H&quot;,536871092]],[&quot;^1@&quot;,[3183,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3183,&quot;^?&quot;,&quot;~u6266bf75-f904-4fc4-a3b9-8eddc78a86d7&quot;,536871092]],[&quot;^1@&quot;,[3184,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3184,&quot;^[&quot;,&quot;3个角色\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3184,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3184,&quot;^K&quot;,3323,536871092]],[&quot;^1@&quot;,[3184,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3184,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3184,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3184,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3184,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3184,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3184,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3184,&quot;^?&quot;,&quot;~u6266bf74-e7dc-4bca-b4dd-80b7ace3afdc&quot;,536871092]],[&quot;^1@&quot;,[3185,&quot;^[&quot;,&quot;Leader 绝不会覆盖或删除自己的日志，只会追加 （**Leader Append-Only**）\\n  \\n  第一点主要是因为选举时的限制，根据 Leader Completeness，成为 Leader 的结点里的日志一定拥有所有已被多数节点拥有的日志条目，所以先前的日志条目很可能已经被提交，因此不可以删除之前的日志。&quot;,536871092]],[&quot;^1@&quot;,[3185,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3185,&quot;^K&quot;,3321,536871092]],[&quot;^1@&quot;,[3185,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3185,&quot;^13&quot;,3321,536871092]],[&quot;^1@&quot;,[3185,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3185,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3185,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3185,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3185,&quot;^?&quot;,&quot;~u6266bf74-2a12-4432-86f2-89d37adb80e9&quot;,536871092]],[&quot;^1@&quot;,[3186,&quot;^[&quot;,&quot;首先，我们得知道，分布式系统，是避免不了分区的，分区容错性是一定要满足的，我们看看在满足分区容错的基础上，能不能同时满足`一致性`和`可用性`&quot;,536871092]],[&quot;^1@&quot;,[3186,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3186,&quot;^K&quot;,3268,536871092]],[&quot;^1@&quot;,[3186,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3186,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3186,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3186,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3186,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3186,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3186,&quot;^?&quot;,&quot;~u6266bf75-66e4-490b-a68c-6c327fe9de6b&quot;,536871092]],[&quot;^1@&quot;,[3187,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3187,&quot;^[&quot;,&quot;总结\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3187,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3187,&quot;^K&quot;,3155,536871092]],[&quot;^1@&quot;,[3187,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3187,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3187,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3187,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3187,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3187,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3187,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3187,&quot;^?&quot;,&quot;~u6266bf74-9997-4b1c-8dc4-06a713978d8a&quot;,536871092]],[&quot;^1@&quot;,[3188,&quot;^[&quot;,&quot;[[GFS]], [[HDFS]]&quot;,536871092]],[&quot;^1@&quot;,[3188,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3188,&quot;^K&quot;,3159,536871092]],[&quot;^1@&quot;,[3188,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3188,&quot;^13&quot;,3165,536871092]],[&quot;^1@&quot;,[3188,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3188,&quot;^12&quot;,1069,536871092]],[&quot;^1@&quot;,[3188,&quot;^12&quot;,1113,536871092]],[&quot;^1@&quot;,[3188,&quot;^M&quot;,1069,536871092]],[&quot;^1@&quot;,[3188,&quot;^M&quot;,1113,536871092]],[&quot;^1@&quot;,[3188,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3188,&quot;^?&quot;,&quot;~u6266bf74-23d3-4581-ad83-14ca2b4e227f&quot;,536871092]],[&quot;^1@&quot;,[3189,&quot;^[&quot;,&quot;1. 如果Proposer收到**半数以上**Acceptor对其发出的编号为N的Prepare请求的**响应**，那么它就会发送一个针对**[N,V]提案**的**Accept请求**给**半数以上**的Acceptor。&quot;,536871092]],[&quot;^1@&quot;,[3189,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3189,&quot;^K&quot;,3265,536871092]],[&quot;^1@&quot;,[3189,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3189,&quot;^13&quot;,3265,536871092]],[&quot;^1@&quot;,[3189,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3189,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3189,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3189,&quot;^?&quot;,&quot;~u6266bf74-1229-4d8c-a37e-aaa1c8600189&quot;,536871092]],[&quot;^1@&quot;,[3190,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3190,&quot;^[&quot;,&quot;Book: \\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3190,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3190,&quot;^K&quot;,3194,536871092]],[&quot;^1@&quot;,[3190,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3190,&quot;^13&quot;,3229,536871092]],[&quot;^1@&quot;,[3190,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3190,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3190,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3190,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3190,&quot;^?&quot;,&quot;~u6266bf75-3a34-4cd1-9fd3-a34421a5b4ed&quot;,536871092]],[&quot;^1@&quot;,[3191,&quot;^[&quot;,&quot;由于协调者的重要性，一旦协调者发生故障，参与者会一直阻塞下去。尤其在第二阶段，协调者发生故障，那么所有的 参与者 还都处于锁定事务资源的状态中，而无法继续完成事务操。尽管协调者挂掉后可以重新选举一个协调者，但是无法解决因为协调者宕机导致的参与者处于阻塞状态的问题。&quot;,536871092]],[&quot;^1@&quot;,[3191,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3191,&quot;^K&quot;,3249,536871092]],[&quot;^1@&quot;,[3191,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3191,&quot;^13&quot;,3249,536871092]],[&quot;^1@&quot;,[3191,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3191,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3191,&quot;^?&quot;,&quot;~u6266bf74-01c8-4a4b-be89-0c7c94e8ef1f&quot;,536871092]],[&quot;^1@&quot;,[3192,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3192,&quot;^[&quot;,&quot;潜在问题-**活锁**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3192,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3192,&quot;^K&quot;,3135,536871092]],[&quot;^1@&quot;,[3192,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3192,&quot;^13&quot;,3332,536871092]],[&quot;^1@&quot;,[3192,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3192,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3192,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3192,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3192,&quot;^?&quot;,&quot;~u6266bf74-9c4d-4528-a1b6-a3b86432dfb4&quot;,536871092]],[&quot;^1@&quot;,[3193,&quot;^[&quot;,&quot;**阶段三：DoCommit**\\n  \\n  这个阶段其实和 `2PC` 的第二阶段差不多，如果协调者收到了所有参与者在 `PreCommit` 阶段的 YES 响应，那么协调者将会给所有参与者发送 `DoCommit` 请求，**参与者收到 DoCommit 请求后则会进行事务的提交工作**，完成后则会给协调者返回响应，协调者收到所有参与者返回的事务提交成功的响应之后则完成事务。若协调者在 `PreCommit` 阶段 **收到了任何一个 NO 或者在一定时间内没有收到所有参与者的响应** ，那么就会进行中断请求的发送，参与者收到中断请求后则会 **通过上面记录的回滚日志** 来进行事务的回滚操作，并向协调者反馈回滚状况，协调者收到参与者返回的消息后，中断事务。&quot;,536871092]],[&quot;^1@&quot;,[3193,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3193,&quot;^K&quot;,3259,536871092]],[&quot;^1@&quot;,[3193,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3193,&quot;^13&quot;,3288,536871092]],[&quot;^1@&quot;,[3193,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3193,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3193,&quot;^?&quot;,&quot;~u6266bf74-20a0-4b61-ac89-8481e19de217&quot;,536871092]],[&quot;^1@&quot;,[3194,&quot;^[&quot;,&quot;ref:&quot;,536871092]],[&quot;^1@&quot;,[3194,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3194,&quot;^K&quot;,3229,536871092]],[&quot;^1@&quot;,[3194,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3194,&quot;^13&quot;,3229,536871092]],[&quot;^1@&quot;,[3194,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3194,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3194,&quot;^?&quot;,&quot;~u6266bf75-2d12-4eef-8215-39163125730d&quot;,536871092]],[&quot;^1@&quot;,[3195,&quot;^[&quot;,&quot;同步&quot;,536871092]],[&quot;^1@&quot;,[3195,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3195,&quot;^K&quot;,3245,536871092]],[&quot;^1@&quot;,[3195,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3195,&quot;^13&quot;,3245,536871092]],[&quot;^1@&quot;,[3195,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3195,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3195,&quot;^?&quot;,&quot;~u6266bf74-73f5-4614-8b30-1a3688c13188&quot;,536871092]],[&quot;^1@&quot;,[3196,&quot;^[&quot;,&quot;**强一致性**\\n  \\n  在写入后，访问立即可见。数据被同步复制。\\n  \\n  文件系统和关系型数据库（RDBMS）中使用的是此种方式。强一致性在需要记录的系统中运作良好。&quot;,536871092]],[&quot;^1@&quot;,[3196,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3196,&quot;^K&quot;,3210,536871092]],[&quot;^1@&quot;,[3196,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3196,&quot;^13&quot;,3210,536871092]],[&quot;^1@&quot;,[3196,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3196,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3196,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3196,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3196,&quot;^?&quot;,&quot;~u6266bf74-2920-486a-8d51-36e808c2a634&quot;,536871092]],[&quot;^1@&quot;,[3197,&quot;^[&quot;,&quot;只在 Leader 服务器上**提出**的事务，要丢弃&quot;,536871092]],[&quot;^1@&quot;,[3197,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3197,&quot;^K&quot;,3292,536871092]],[&quot;^1@&quot;,[3197,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3197,&quot;^13&quot;,3169,536871092]],[&quot;^1@&quot;,[3197,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3197,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3197,&quot;^?&quot;,&quot;~u6266bf74-0d0a-4b1e-9772-65dd9759f74e&quot;,536871092]],[&quot;^1@&quot;,[3198,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3198,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3198,&quot;^K&quot;,3172,536871092]],[&quot;^1@&quot;,[3198,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3198,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3198,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3198,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3198,&quot;^?&quot;,&quot;~u6266bf74-0250-4dff-920a-4ba4f96b36a5&quot;,536871092]],[&quot;^1@&quot;,[3199,&quot;^[&quot;,&quot;**Learner学习被选定的value**\\n  Learner学习（获取）被选定的value有如下三种方案：  \\n  ![https://upload-images.jianshu.io/upload_images/1752522-0fab48ed2bdf358a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-0fab48ed2bdf358a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&quot;,536871092]],[&quot;^1@&quot;,[3199,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3199,&quot;^K&quot;,3265,536871092]],[&quot;^1@&quot;,[3199,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3199,&quot;^13&quot;,3290,536871092]],[&quot;^1@&quot;,[3199,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3199,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3199,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3199,&quot;^?&quot;,&quot;~u6266bf74-a10f-4d44-b758-97abe7617337&quot;,536871092]],[&quot;^1@&quot;,[3200,&quot;^[&quot;,&quot;C++ was designed for systems and applications programming (i.e. infrastructure programming), extending the procedural programming language C, which was designed for efficient execution. To C, C++ added support for object-oriented programming, exception handling, lifetime-based resource management (RAII), generic programming, template metaprogramming, and the C++ Standard Library which includes generic containers and algorithms (the Standard Template Library or STL), and many other general purpose facilities.&quot;,536871092]],[&quot;^1@&quot;,[3200,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3200,&quot;^K&quot;,3244,536871092]],[&quot;^1@&quot;,[3200,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3200,&quot;^13&quot;,3244,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3200,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3200,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3200,&quot;^?&quot;,&quot;~u6266bf74-da0c-495c-8173-ceb1b2068d65&quot;,536871092]],[&quot;^1@&quot;,[3201,&quot;^[&quot;,&quot;[[硬件结构]]&quot;,536871092]],[&quot;^1@&quot;,[3201,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3201,&quot;^K&quot;,3333,536871092]],[&quot;^1@&quot;,[3201,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3201,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3201,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3201,&quot;^12&quot;,3102,536871092]],[&quot;^1@&quot;,[3201,&quot;^M&quot;,3102,536871092]],[&quot;^1@&quot;,[3201,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3201,&quot;^?&quot;,&quot;~u6266bf75-c9cd-484e-9d1c-f37e83111c3c&quot;,536871092]],[&quot;^1@&quot;,[3202,&quot;^[&quot;,&quot;public:: true\\n\\n&quot;,536871092]],[&quot;^1@&quot;,[3202,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3202,&quot;^K&quot;,11,536871092]],[&quot;^1@&quot;,[3202,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3202,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3202,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3202,&quot;^=&quot;,true,536871092]],[&quot;^1@&quot;,[3202,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536871092]],[&quot;^1@&quot;,[3202,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;]],536871092]],[&quot;^1@&quot;,[3202,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3202,&quot;^?&quot;,&quot;~u6266bf75-2155-4184-aff3-377b40ca3446&quot;,536871092]],[&quot;^1@&quot;,[3203,&quot;^[&quot;,&quot;1. 注意：V就是收到的**响应**中**编号最大的提案的value**，如果响应中**不包含任何提案**，那么V就由Proposer**自己决定**。&quot;,536871092]],[&quot;^1@&quot;,[3203,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3203,&quot;^K&quot;,3189,536871092]],[&quot;^1@&quot;,[3203,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3203,&quot;^13&quot;,3189,536871092]],[&quot;^1@&quot;,[3203,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3203,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3203,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3203,&quot;^?&quot;,&quot;~u6266bf74-8920-4a7b-a9d3-7832a4b5547c&quot;,536871092]],[&quot;^1@&quot;,[3204,&quot;^[&quot;,&quot;[[文件系统]]&quot;,536871092]],[&quot;^1@&quot;,[3204,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3204,&quot;^K&quot;,3237,536871092]],[&quot;^1@&quot;,[3204,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3204,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3204,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3204,&quot;^12&quot;,3099,536871092]],[&quot;^1@&quot;,[3204,&quot;^M&quot;,3099,536871092]],[&quot;^1@&quot;,[3204,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3204,&quot;^?&quot;,&quot;~u6266bf75-e174-4445-a0c6-da157a25ef90&quot;,536871092]],[&quot;^1@&quot;,[3205,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3205,&quot;^[&quot;,&quot;**复制**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3205,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3205,&quot;^K&quot;,3160,536871092]],[&quot;^1@&quot;,[3205,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3205,&quot;^13&quot;,3163,536871092]],[&quot;^1@&quot;,[3205,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3205,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3205,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3205,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3205,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3205,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3205,&quot;^?&quot;,&quot;~u6266bf74-07a3-46a3-884d-45af44a8b973&quot;,536871092]],[&quot;^1@&quot;,[3206,&quot;^[&quot;,&quot;|  |  | Paxos | Raft | Zab |\\n  | --- | --- | --- | --- | --- |\\n  |  |  | Paxos--&gt;分布式的一致性状态机系统 | 简化Paxos | ZAB--&gt;高可用的分布式数据主备系统 |\\n  | Leader选举 | 如何选举 |  | 时间戳 |  |\\n  |  | 选举的信息 |  |  |  |\\n  |  | 选举的触发 |  |  |  |\\n  | 上一轮次的数据 | 如何处理上一轮未提交的日志 |  |  |  |\\n  |  | 脑裂问题 | 允许多主，不过可能出现活锁问题 | 不会出现，只有在获得大于二分之一结点数量的同意时操作才有效 | 不会出现，只有在获得大于二分之一结点数量的同意时操作才有效 |\\n  | 请求处理过程 | 一般流程 |  |  |  |\\n  |  | 日志的连续性 |  |  |  |\\n  |  | 请求的顺序性（异常时的安全性保证） |  |  |  |&quot;,536871092]],[&quot;^1@&quot;,[3206,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3206,&quot;^K&quot;,3123,536871092]],[&quot;^1@&quot;,[3206,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3206,&quot;^13&quot;,3123,536871092]],[&quot;^1@&quot;,[3206,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3206,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3206,&quot;^?&quot;,&quot;~u6266bf74-11ad-4f46-8350-27060cb87c20&quot;,536871092]],[&quot;^1@&quot;,[3207,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3207,&quot;^[&quot;,&quot;AP - ****牺牲一致性**** base\\ncollapsed:: true\\n  \\n  AP wihtout C：要高可用(马上响应)并允许分区，则需放弃一致性。一旦分区发生，节点之间可能会失去联系，为了高可用，每个节点只能用本地数据提供服务，而这样会导致全局数据的不一致性。现在众多的NoSQL都属于此类。\\n  \\n  响应节点上可用数据的最近版本可能并不是最新的。当分区解析完后，写入（操作）可能需要一些时间来传播。\\n  \\n  如果业务需求允许[最终一致性](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7)，或当有外部故障时要求系统继续运行，AP 是一个不错的选择。&quot;,536871092]],[&quot;^1@&quot;,[3207,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3207,&quot;^K&quot;,3239,536871092]],[&quot;^1@&quot;,[3207,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3207,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3207,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3207,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3207,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3207,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3207,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3207,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3207,&quot;^?&quot;,&quot;~u6266bf74-9b50-45c0-836d-d95f26ba0ba2&quot;,536871092]],[&quot;^1@&quot;,[3208,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3208,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3208,&quot;^K&quot;,3275,536871092]],[&quot;^1@&quot;,[3208,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3208,&quot;^13&quot;,3275,536871092]],[&quot;^1@&quot;,[3208,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3208,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3208,&quot;^?&quot;,&quot;~u6266bf74-7dd4-4368-a890-1166dc97ed8d&quot;,536871092]],[&quot;^1@&quot;,[3209,&quot;^T&quot;,false,536872944]],[&quot;^1@&quot;,[3209,&quot;^[&quot;,&quot;## PKM (pirvate)\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3209,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3209,&quot;^14&quot;,2,536871092]],[&quot;^1@&quot;,[3209,&quot;^K&quot;,3262,536871092]],[&quot;^1@&quot;,[3209,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3209,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3209,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3209,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3209,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3209,&quot;^1G&quot;,2,536871092]],[&quot;^1@&quot;,[3209,&quot;^15&quot;,&quot;^1H&quot;,536871092]],[&quot;^1@&quot;,[3209,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3209,&quot;^?&quot;,&quot;~u6266bf75-c458-4b09-8572-2f83d9dd267f&quot;,536871092]],[&quot;^1@&quot;,[3210,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3210,&quot;^[&quot;,&quot;三类一致性：\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3210,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3210,&quot;^K&quot;,3224,536871092]],[&quot;^1@&quot;,[3210,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3210,&quot;^13&quot;,3224,536871092]],[&quot;^1@&quot;,[3210,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3210,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3210,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3210,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3210,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3210,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3210,&quot;^?&quot;,&quot;~u6266bf74-3085-44d1-ac12-3db1776ae353&quot;,536871092]],[&quot;^1@&quot;,[3211,&quot;^[&quot;,&quot;绝大部分协议&quot;,536871092]],[&quot;^1@&quot;,[3211,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3211,&quot;^K&quot;,3314,536871092]],[&quot;^1@&quot;,[3211,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3211,&quot;^13&quot;,3158,536871092]],[&quot;^1@&quot;,[3211,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3211,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3211,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3211,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3211,&quot;^?&quot;,&quot;~u6266bf74-4269-451e-a81d-d25c7739a244&quot;,536871092]],[&quot;^1@&quot;,[3212,&quot;^[&quot;,&quot;**阶段一：CanCommit**\\n  \\n  协调者向所有参与者发送 `CanCommit` 请求，参与者收到请求后会根据自身情况查看是否能执行事务，如果可以则返回 YES 响应并进入预备状态，否则返回 NO&quot;,536871092]],[&quot;^1@&quot;,[3212,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3212,&quot;^K&quot;,3288,536871092]],[&quot;^1@&quot;,[3212,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3212,&quot;^13&quot;,3288,536871092]],[&quot;^1@&quot;,[3212,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3212,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3212,&quot;^?&quot;,&quot;~u6266bf74-d896-443c-8814-b824d5274e94&quot;,536871092]],[&quot;^1@&quot;,[3213,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3213,&quot;^[&quot;,&quot;崩溃恢复模式\\ncollapsed:: true\\n  \\n  重新选举出新的 Leader 服务器，选举完成后 Follower 服务器在再去同步 Leader 的数据。&quot;,536871092]],[&quot;^1@&quot;,[3213,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3213,&quot;^K&quot;,3140,536871092]],[&quot;^1@&quot;,[3213,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3213,&quot;^13&quot;,3278,536871092]],[&quot;^1@&quot;,[3213,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3213,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3213,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3213,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3213,&quot;^?&quot;,&quot;~u6266bf74-777a-4831-8b1d-cc4b4be58feb&quot;,536871092]],[&quot;^1@&quot;,[3214,&quot;^[&quot;,&quot;在P2A中，当协调者向参与者发送commit请求之后，发生了局部网络异常或者在发送commit请求过程中协调者发生了故障，这会导致只有一部分参与者接受到commit请求。而在这部分参与者接到commit请求之后就会执行commit操作。但是其他部分未接到commit请求的机器则无法执行事务提交，于是整个分布式系统便出现了数据不一致性的现象。&quot;,536871092]],[&quot;^1@&quot;,[3214,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3214,&quot;^K&quot;,3127,536871092]],[&quot;^1@&quot;,[3214,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3214,&quot;^13&quot;,3127,536871092]],[&quot;^1@&quot;,[3214,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3214,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3214,&quot;^?&quot;,&quot;~u6266bf74-0770-41af-90b4-39ec9bd11144&quot;,536871092]],[&quot;^1@&quot;,[3215,&quot;^[&quot;,&quot;**Leader election 领导选举**：有且仅有一个leader节点，如果leader宕机，通过选举机制选出新的leader；&quot;,536871092]],[&quot;^1@&quot;,[3215,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3215,&quot;^K&quot;,3108,536871092]],[&quot;^1@&quot;,[3215,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3215,&quot;^13&quot;,3108,536871092]],[&quot;^1@&quot;,[3215,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3215,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3215,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3215,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3215,&quot;^?&quot;,&quot;~u6266bf74-a893-43fb-a851-6d42905df3c4&quot;,536871092]],[&quot;^1@&quot;,[3216,&quot;^[&quot;,&quot;**阶段一：**&quot;,536871092]],[&quot;^1@&quot;,[3216,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3216,&quot;^K&quot;,3290,536871092]],[&quot;^1@&quot;,[3216,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3216,&quot;^13&quot;,3290,536871092]],[&quot;^1@&quot;,[3216,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3216,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3216,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3216,&quot;^?&quot;,&quot;~u6266bf74-547f-4ed1-b339-b38b9bb45eb7&quot;,536871092]],[&quot;^1@&quot;,[3217,&quot;^[&quot;,&quot;**最终一致性**\\n  \\n  最终一致性强调的是系统中所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态。因此，最终一致性的本质是需要系统保证最终数据能够达到一致，而不需要实时保证系统数据的强一致性。\\n  \\n  最终一致性怎么保证呢？\\n  \\n  &gt; 读时修复 : 在读取数据时，检测数据的不一致，进行修复。比如 Cassandra 的 Read Repair 实现，具体来说，在向 Cassandra 系统查询数据的时候，如果检测到不同节点 的副本数据不一致，系统就自动修复数据。写时修复 : 在写入数据，检测数据的不一致时，进行修复。比如 Cassandra 的 Hinted Handoff 实现。具体来说，Cassandra 集群的节点之间远程写数据的时候，如果写失败 就将数据缓存下来，然后定时重传，修复数据的不一致性。异步修复 : 这个是最常用的方式，通过定时对账检测副本数据的一致性，并修复。\\n  &gt; \\n\\n            ![https://gitee.com/sanfene/picgo3/raw/master/20210916133959.png](https://gitee.com/sanfene/picgo3/raw/master/20210916133959.png)&quot;,536871092]],[&quot;^1@&quot;,[3217,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3217,&quot;^K&quot;,3324,536871092]],[&quot;^1@&quot;,[3217,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3217,&quot;^13&quot;,3326,536871092]],[&quot;^1@&quot;,[3217,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3217,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3217,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3217,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3217,&quot;^?&quot;,&quot;~u6266bf74-b879-4137-92df-6a776be0cc8b&quot;,536871092]],[&quot;^1@&quot;,[3218,&quot;^[&quot;,&quot;[[Blogs]]&quot;,536871092]],[&quot;^1@&quot;,[3218,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3218,&quot;^K&quot;,3183,536871092]],[&quot;^1@&quot;,[3218,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3218,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3218,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3218,&quot;^12&quot;,225,536871092]],[&quot;^1@&quot;,[3218,&quot;^M&quot;,225,536871092]],[&quot;^1@&quot;,[3218,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3218,&quot;^?&quot;,&quot;~u6266bf75-0ede-47fa-9f7a-b0968a56da4b&quot;,536871092]],[&quot;^1@&quot;,[3219,&quot;^[&quot;,&quot;三阶段提交（three-phase commit）&quot;,536871092]],[&quot;^1@&quot;,[3219,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3219,&quot;^K&quot;,3273,536871092]],[&quot;^1@&quot;,[3219,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3219,&quot;^13&quot;,3273,536871092]],[&quot;^1@&quot;,[3219,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3219,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3219,&quot;^?&quot;,&quot;~u6266bf74-4d3b-450e-9225-3c5e83ecefe7&quot;,536871092]],[&quot;^1@&quot;,[3220,&quot;^[&quot;,&quot;[[进程&amp;线程]]&quot;,536871092]],[&quot;^1@&quot;,[3220,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3220,&quot;^K&quot;,3201,536871092]],[&quot;^1@&quot;,[3220,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3220,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3220,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3220,&quot;^12&quot;,3103,536871092]],[&quot;^1@&quot;,[3220,&quot;^M&quot;,3103,536871092]],[&quot;^1@&quot;,[3220,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3220,&quot;^?&quot;,&quot;~u6266bf75-92bb-42c1-993b-38c97189ced1&quot;,536871092]],[&quot;^1@&quot;,[3221,&quot;^[&quot;,&quot;[[Computer Network]]&quot;,536871092]],[&quot;^1@&quot;,[3221,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3221,&quot;^K&quot;,3271,536871092]],[&quot;^1@&quot;,[3221,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3221,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3221,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3221,&quot;^12&quot;,3006,536871092]],[&quot;^1@&quot;,[3221,&quot;^M&quot;,3006,536871092]],[&quot;^1@&quot;,[3221,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3221,&quot;^?&quot;,&quot;~u6266bf75-a97c-4889-ab67-d8cc38cb909a&quot;,536871092]],[&quot;^1@&quot;,[3222,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3222,&quot;^[&quot;,&quot;四个角色 - 一个进程可能**同时充当多种角色**\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3222,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3222,&quot;^K&quot;,3295,536871092]],[&quot;^1@&quot;,[3222,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3222,&quot;^13&quot;,3281,536871092]],[&quot;^1@&quot;,[3222,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3222,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3222,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3222,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3222,&quot;^?&quot;,&quot;~u6266bf74-83e8-460d-b477-bb600b394547&quot;,536871092]],[&quot;^1@&quot;,[3223,&quot;^[&quot;,&quot;Web 缓存&quot;,536871092]],[&quot;^1@&quot;,[3223,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3223,&quot;^K&quot;,3146,536871092]],[&quot;^1@&quot;,[3223,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3223,&quot;^13&quot;,3317,536871092]],[&quot;^1@&quot;,[3223,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3223,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3223,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3223,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3223,&quot;^?&quot;,&quot;~u6266bf74-4de2-4dc2-a192-ab3172c3db91&quot;,536871092]],[&quot;^1@&quot;,[3224,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3224,&quot;^[&quot;,&quot;consistency：**一致性**\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:27:25.475Z\\ncard-last-reviewed:: 2022-03-23T10:27:25.476Z\\ncard-last-score:: 3\\ncollapsed:: true\\n  \\n  一致性指“all nodes see the same data at the same time”，即更新操作成功并返回客户端完成后，所有节点在同一时间的数据完全一致。等同于所有节点拥有数据的最新版本。\\n  \\n  有同一份数据的多份副本，我们面临着怎样同步它们的选择，以便让客户端有一致的显示数据。回想 [CAP 理论](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#cap-%E7%90%86%E8%AE%BA)中的一致性定义 ─ 每次访问都能获得最新数据但可能会收到错误响应 #card&quot;,536871092]],[&quot;^1@&quot;,[3224,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3224,&quot;^K&quot;,3163,536871092]],[&quot;^1@&quot;,[3224,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3224,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3224,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3224,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3224,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3224,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:27:25.475Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:27:25.476Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3224,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3224,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3224,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3224,&quot;^?&quot;,&quot;~u6266bf74-5c21-407c-9a6e-0e91efc77ef5&quot;,536871092]],[&quot;^1@&quot;,[3225,&quot;^[&quot;,&quot;[[DDIA]]&quot;,536871092]],[&quot;^1@&quot;,[3225,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3225,&quot;^K&quot;,3190,536871092]],[&quot;^1@&quot;,[3225,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3225,&quot;^13&quot;,3190,536871092]],[&quot;^1@&quot;,[3225,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3225,&quot;^12&quot;,84,536871092]],[&quot;^1@&quot;,[3225,&quot;^M&quot;,84,536871092]],[&quot;^1@&quot;,[3225,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3225,&quot;^?&quot;,&quot;~u6266bf75-4d67-42d8-98b2-9fd2c00ac3c3&quot;,536871092]],[&quot;^1@&quot;,[3226,&quot;^[&quot;,&quot;两阶段提交&quot;,536871092]],[&quot;^1@&quot;,[3226,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3226,&quot;^K&quot;,3177,536871092]],[&quot;^1@&quot;,[3226,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3226,&quot;^13&quot;,3177,536871092]],[&quot;^1@&quot;,[3226,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3226,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3226,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3226,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3226,&quot;^?&quot;,&quot;~u6266bf74-9f36-4135-924f-e6088765e5f9&quot;,536871092]],[&quot;^1@&quot;,[3227,&quot;^[&quot;,&quot;假设系统有多个Proposer，他们不断向Acceptor发出提案，还没等到上一个提案达到多数派下一个提案又来了，就会导致Acceptor放弃当前提案转向处理下一个提案，于是所有提案都别想通过了。&quot;,536871092]],[&quot;^1@&quot;,[3227,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3227,&quot;^K&quot;,3192,536871092]],[&quot;^1@&quot;,[3227,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3227,&quot;^13&quot;,3192,536871092]],[&quot;^1@&quot;,[3227,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3227,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3227,&quot;^?&quot;,&quot;~u6266bf74-8109-477d-baad-c75f79760a9a&quot;,536871092]],[&quot;^1@&quot;,[3228,&quot;^[&quot;,&quot;引入超时机制。&quot;,536871092]],[&quot;^1@&quot;,[3228,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3228,&quot;^K&quot;,3303,536871092]],[&quot;^1@&quot;,[3228,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3228,&quot;^13&quot;,3337,536871092]],[&quot;^1@&quot;,[3228,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3228,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3228,&quot;^?&quot;,&quot;~u6266bf74-178c-4d37-80a1-0e934e1c49f8&quot;,536871092]],[&quot;^1@&quot;,[3229,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3229,&quot;^[&quot;,&quot;📗  Distribute &amp; System Design\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3229,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3229,&quot;^K&quot;,3236,536871092]],[&quot;^1@&quot;,[3229,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3229,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3229,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3229,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3229,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3229,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3229,&quot;^?&quot;,&quot;~u6266bf75-dee7-4520-ac4f-2c94a5a9d6d8&quot;,536871092]],[&quot;^1@&quot;,[3230,&quot;^[&quot;,&quot;大多数分布式系统都分布在多个子网络。每个子网络就叫做一个区（partition）。分区容错的意思是，区间通信可能失败。比如，一台服务器放在中国，另一台服务器放在美国，这就是两个区，它们之间可能无法通信。\\n  G1 和 G2 是两台跨区的服务器。G1 向 G2 发送一条消息，G2 可能无法收到。系统设计的时候，必须考虑到这种情况。&quot;,536871092]],[&quot;^1@&quot;,[3230,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3230,&quot;^K&quot;,3166,536871092]],[&quot;^1@&quot;,[3230,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3230,&quot;^13&quot;,3129,536871092]],[&quot;^1@&quot;,[3230,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3230,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3230,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3230,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3230,&quot;^?&quot;,&quot;~u6266bf74-15ba-4c53-88ef-fee3b27b3bc9&quot;,536871092]],[&quot;^1@&quot;,[3231,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3231,&quot;^[&quot;,&quot;CAP是指在一个分布式系统中，一致性（Consistency）、可用性（Availability）、分区容错性（Partition tolerance）这三个要素最多只能同时实现两点，不可能三者同时兼顾。why？ #card\\ncollapsed:: true\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:28:35.832Z\\ncard-last-reviewed:: 2022-03-23T10:28:35.832Z\\ncard-last-score:: 3&quot;,536871092]],[&quot;^1@&quot;,[3231,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3231,&quot;^K&quot;,3319,536871092]],[&quot;^1@&quot;,[3231,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3231,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3231,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3231,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3231,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3231,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:28:35.832Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:28:35.832Z&quot;,&quot;^1M&quot;,3],536871092]],[&quot;^1@&quot;,[3231,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;,&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;]],536871092]],[&quot;^1@&quot;,[3231,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3231,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3231,&quot;^?&quot;,&quot;~u6266bf75-a643-4ded-889d-e6d33c14e57e&quot;,536871092]],[&quot;^1@&quot;,[3232,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3232,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3232,&quot;^K&quot;,3305,536871092]],[&quot;^1@&quot;,[3232,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3232,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3232,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3232,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3232,&quot;^?&quot;,&quot;~u6266bf75-5cf4-4097-92f1-dac6897a1ee3&quot;,536871092]],[&quot;^1@&quot;,[3233,&quot;^[&quot;,&quot;如果两个日志的 index 和 term 相同，那么这两个日志相同 （**Log Matching**）\\n  \\n  第二点主要是因为一个任期内只可能出现一个 Leader，而 Leader 只会为一个 index 创建一个日志条目，而且一旦写入就不会修改，因此保证了日志的唯一性。&quot;,536871092]],[&quot;^1@&quot;,[3233,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3233,&quot;^K&quot;,3185,536871092]],[&quot;^1@&quot;,[3233,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3233,&quot;^13&quot;,3321,536871092]],[&quot;^1@&quot;,[3233,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3233,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3233,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3233,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3233,&quot;^?&quot;,&quot;~u6266bf74-aa49-4cf9-be31-fbfa83cfec9b&quot;,536871092]],[&quot;^1@&quot;,[3234,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3234,&quot;^[&quot;,&quot;Gossip #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:03:28.571Z\\ncard-last-reviewed:: 2022-03-23T13:03:28.572Z\\ncard-last-score:: 3\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3234,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3234,&quot;^K&quot;,3170,536871092]],[&quot;^1@&quot;,[3234,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3234,&quot;^13&quot;,3283,536871092]],[&quot;^1@&quot;,[3234,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3234,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3234,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:03:28.571Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:03:28.572Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3234,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3234,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3234,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3234,&quot;^?&quot;,&quot;~u6266bf74-4cc1-4e69-a956-76276b0df59a&quot;,536871092]],[&quot;^1@&quot;,[3235,&quot;^[&quot;,&quot;缓存验证协议&quot;,536871092]],[&quot;^1@&quot;,[3235,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3235,&quot;^K&quot;,3226,536871092]],[&quot;^1@&quot;,[3235,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3235,&quot;^13&quot;,3177,536871092]],[&quot;^1@&quot;,[3235,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3235,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3235,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3235,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3235,&quot;^?&quot;,&quot;~u6266bf74-eaf4-4de1-bab6-f514e9162a09&quot;,536871092]],[&quot;^1@&quot;,[3236,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3236,&quot;^[&quot;,&quot;📗  Database\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3236,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3236,&quot;^K&quot;,3180,536871092]],[&quot;^1@&quot;,[3236,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3236,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3236,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3236,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3236,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3236,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3236,&quot;^?&quot;,&quot;~u6266bf75-83e3-49a5-9972-672c0f54b862&quot;,536871092]],[&quot;^1@&quot;,[3237,&quot;^[&quot;,&quot;[[内存管理]]&quot;,536871092]],[&quot;^1@&quot;,[3237,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3237,&quot;^K&quot;,3220,536871092]],[&quot;^1@&quot;,[3237,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3237,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3237,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3237,&quot;^12&quot;,3096,536871092]],[&quot;^1@&quot;,[3237,&quot;^M&quot;,3096,536871092]],[&quot;^1@&quot;,[3237,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3237,&quot;^?&quot;,&quot;~u6266bf75-3ddc-48aa-98be-8db07913c746&quot;,536871092]],[&quot;^1@&quot;,[3238,&quot;^[&quot;,&quot;故障切换需要添加额外硬件并增加复杂性。&quot;,536871092]],[&quot;^1@&quot;,[3238,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3238,&quot;^K&quot;,3162,536871092]],[&quot;^1@&quot;,[3238,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3238,&quot;^13&quot;,3162,536871092]],[&quot;^1@&quot;,[3238,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3238,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3238,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3238,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3238,&quot;^?&quot;,&quot;~u6266bf74-3d38-4361-8804-d7e40fc8f880&quot;,536871092]],[&quot;^1@&quot;,[3239,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3239,&quot;^[&quot;,&quot;CP - ****牺牲可用性****\\ncollapsed:: true\\n  \\n  CP without A：如果不要求A（高可用），相当于每个请求都需要在Server之间强一致，而P（分区）会导致同步时间无限延长，如此CP也是可以保证的。很多传统的数据库分布式事务都属于这种模式。\\n  \\n  等待分区节点的响应可能会导致延时错误。如果你的业务需求需要原子读写，CP 是一个不错的选择。&quot;,536871092]],[&quot;^1@&quot;,[3239,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3239,&quot;^K&quot;,3224,536871092]],[&quot;^1@&quot;,[3239,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3239,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3239,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3239,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3239,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3239,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3239,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3239,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3239,&quot;^?&quot;,&quot;~u6266bf74-5fdf-4be6-80db-6a415055b7c4&quot;,536871092]],[&quot;^1@&quot;,[3240,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3240,&quot;^[&quot;,&quot;[[$red]]==raft== - Multi Paxos\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3240,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3240,&quot;^K&quot;,3281,536871092]],[&quot;^1@&quot;,[3240,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3240,&quot;^13&quot;,3245,536871092]],[&quot;^1@&quot;,[3240,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3240,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3240,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3240,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3240,&quot;^M&quot;,549,536871092]],[&quot;^1@&quot;,[3240,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3240,&quot;^?&quot;,&quot;~u6266bf74-ca78-4bcb-9cc9-111eed139ec6&quot;,536871092]],[&quot;^1@&quot;,[3241,&quot;^[&quot;,&quot;**响应时间上的损失**：正常情况下的搜索引擎0.5秒即返回给用户结果，而基本可用的搜索引擎可以在2秒作用返回结果。&quot;,536871092]],[&quot;^1@&quot;,[3241,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3241,&quot;^K&quot;,3280,536871092]],[&quot;^1@&quot;,[3241,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3241,&quot;^13&quot;,3280,536871092]],[&quot;^1@&quot;,[3241,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3241,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3241,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3241,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3241,&quot;^?&quot;,&quot;~u6266bf74-9b27-446c-a5d4-921c8cac0775&quot;,536871092]],[&quot;^1@&quot;,[3242,&quot;^[&quot;,&quot;解决冲突&quot;,536871092]],[&quot;^1@&quot;,[3242,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3242,&quot;^K&quot;,3291,536871092]],[&quot;^1@&quot;,[3242,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3242,&quot;^13&quot;,3179,536871092]],[&quot;^1@&quot;,[3242,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3242,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3242,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3242,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3242,&quot;^?&quot;,&quot;~u6266bf74-8cad-44ec-8e90-dca2bfd0d220&quot;,536871092]],[&quot;^1@&quot;,[3243,&quot;^[&quot;,&quot;Design Pattern&quot;,536871092]],[&quot;^1@&quot;,[3243,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3243,&quot;^K&quot;,3229,536871092]],[&quot;^1@&quot;,[3243,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3243,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3243,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3243,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3243,&quot;^?&quot;,&quot;~u6266bf74-0a82-42bd-a0ac-47ff68450249&quot;,536871092]],[&quot;^1@&quot;,[3244,&quot;^T&quot;,false,536871460]],[&quot;^1@&quot;,[3244,&quot;^[&quot;,&quot;2 [c++ vs Java](https://en.wikipedia.org/wiki/Comparison_of_Java_and_C%2B%2B)\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3244,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3244,&quot;^K&quot;,3107,536871092]],[&quot;^1@&quot;,[3244,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3244,&quot;^13&quot;,3330,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3244,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3244,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3244,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3244,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3244,&quot;^?&quot;,&quot;~u6266bf74-82f1-41c3-ab67-0f11c9b3e9e4&quot;,536871092]],[&quot;^1@&quot;,[3245,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3245,&quot;^[&quot;,&quot;强一致性算法\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3245,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3245,&quot;^K&quot;,3313,536871092]],[&quot;^1@&quot;,[3245,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3245,&quot;^13&quot;,3131,536871092]],[&quot;^1@&quot;,[3245,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3245,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3245,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3245,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3245,&quot;^?&quot;,&quot;~u6266bf74-fec6-42ed-91c1-d708720005e7&quot;,536871092]],[&quot;^1@&quot;,[3246,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3246,&quot;^[&quot;,&quot;comparison\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3246,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3246,&quot;^K&quot;,3236,536871092]],[&quot;^1@&quot;,[3246,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3246,&quot;^13&quot;,3236,536871092]],[&quot;^1@&quot;,[3246,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3246,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3246,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3246,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3246,&quot;^?&quot;,&quot;~u6266bf75-66cb-4538-a76a-9d4cb6a4182c&quot;,536871092]],[&quot;^1@&quot;,[3247,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3247,&quot;^[&quot;,&quot;Distribute theory:\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3247,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3247,&quot;^K&quot;,3190,536871092]],[&quot;^1@&quot;,[3247,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3247,&quot;^13&quot;,3229,536871092]],[&quot;^1@&quot;,[3247,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3247,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3247,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3247,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3247,&quot;^?&quot;,&quot;~u6266bf75-8376-463f-9e51-3fb39c489f29&quot;,536871092]],[&quot;^1@&quot;,[3248,&quot;^[&quot;,&quot;如果遇到leader故障，f[ollowers会重新发起选举出新的leader](https://www.notion.so/Distribute-System-Design-aef162f1736b4f6ea3abd54aa7f05fe1)。&quot;,536871092]],[&quot;^1@&quot;,[3248,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3248,&quot;^K&quot;,3328,536871092]],[&quot;^1@&quot;,[3248,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3248,&quot;^13&quot;,3178,536871092]],[&quot;^1@&quot;,[3248,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3248,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3248,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3248,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3248,&quot;^?&quot;,&quot;~u6266bf74-28b4-4bc3-9ca9-238ca3a572da&quot;,536871092]],[&quot;^1@&quot;,[3249,&quot;^[&quot;,&quot;单点故障&quot;,536871092]],[&quot;^1@&quot;,[3249,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3249,&quot;^K&quot;,3318,536871092]],[&quot;^1@&quot;,[3249,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3249,&quot;^13&quot;,3172,536871092]],[&quot;^1@&quot;,[3249,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3249,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3249,&quot;^?&quot;,&quot;~u6266bf74-a978-469d-acc6-4d15d67c96cc&quot;,536871092]],[&quot;^1@&quot;,[3250,&quot;^[&quot;,&quot;在满足`可用性`的时候，无论访问N1还是N2，都能获取及时的响应。\\n\\n            ![https://gitee.com/sanfene/picgo3/raw/master/20210916133020.png](https://gitee.com/sanfene/picgo3/raw/master/20210916133020.png)\\n\\n            好的，现在有这样的场景：&quot;,536871092]],[&quot;^1@&quot;,[3250,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3250,&quot;^K&quot;,3113,536871092]],[&quot;^1@&quot;,[3250,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3250,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3250,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3250,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3250,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3250,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3250,&quot;^?&quot;,&quot;~u6266bf75-076c-42b1-83b1-7a4de99fb54b&quot;,536871092]],[&quot;^1@&quot;,[3251,&quot;^[&quot;,&quot;保证`一致性`：此时D1和D2数据不一致，要保证一致性就不能返回不一致的数据，`可用性`无法保证。&quot;,536871092]],[&quot;^1@&quot;,[3251,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3251,&quot;^K&quot;,3336,536871092]],[&quot;^1@&quot;,[3251,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3251,&quot;^13&quot;,3336,536871092]],[&quot;^1@&quot;,[3251,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3251,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3251,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3251,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3251,&quot;^?&quot;,&quot;~u6266bf75-ab94-4490-9259-1c8880b25059&quot;,536871092]],[&quot;^1@&quot;,[3252,&quot;^[&quot;,&quot;再次选举会在两种情况下发生。\\n  \\n  第一种情况是 Leader 下线，此时所有其他结点的计时器不会被重置，直到一个结点成为了 Candidate，和上述一样开始一轮新的选举选出一个新的 Leader。\\n  \\n  第二种情况是某一 Follower 结点与 Leader 间通信发生问题，导致发生了分区，这时没有 Leader 的那个分区就会进行一次选举。这种情况下，因为要求获得多数的投票才可以成为 Leader，因此只有拥有多数结点的分区可以正常工作。而对于少数结点的分区，即使仍存在 Leader，但由于写入日志的结点数量不可能超过半数因此不可能提交操作。这解释了为何 Raft 至多容忍 (N−1)/2(N−1)/2 个结点故障。\\n  \\n  ![https://zinglix.xyz/img/in-post/raft/3.png](https://zinglix.xyz/img/in-post/raft/3.png)\\n  \\n  这解释了每个结点会如何在三个状态间发生变化。&quot;,536871092]],[&quot;^1@&quot;,[3252,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3252,&quot;^K&quot;,3119,536871092]],[&quot;^1@&quot;,[3252,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3252,&quot;^13&quot;,3119,536871092]],[&quot;^1@&quot;,[3252,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3252,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3252,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3252,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3252,&quot;^?&quot;,&quot;~u6266bf74-5522-48c3-b182-803ace6a2cf2&quot;,536871092]],[&quot;^1@&quot;,[3253,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3253,&quot;^[&quot;,&quot;缺陷\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3253,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3253,&quot;^K&quot;,3337,536871092]],[&quot;^1@&quot;,[3253,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3253,&quot;^13&quot;,3273,536871092]],[&quot;^1@&quot;,[3253,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3253,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3253,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3253,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3253,&quot;^?&quot;,&quot;~u6266bf74-4164-470c-b3e7-46120b36f886&quot;,536871092]],[&quot;^1@&quot;,[3254,&quot;^[&quot;,&quot;如果两个日志相同，那么他们之前的日志均相同\\n  \\n  第三点是因为在写入日志时会检查前一个日志是否一致。换言之就是，如果写入了一条日志，那么前一个日志条目也一定一致，从而递归的保证了前面的所有日志都一致。从而也保证了当一个日志被提交之后，所有结点在该 index 上提交的内容是一样的（**State Machine Safety**）。&quot;,536871092]],[&quot;^1@&quot;,[3254,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3254,&quot;^K&quot;,3233,536871092]],[&quot;^1@&quot;,[3254,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3254,&quot;^13&quot;,3321,536871092]],[&quot;^1@&quot;,[3254,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3254,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3254,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3254,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3254,&quot;^?&quot;,&quot;~u6266bf74-9f1c-495e-923a-215459f79084&quot;,536871092]],[&quot;^1@&quot;,[3255,&quot;^[&quot;,&quot;**双工作切换（Active-active）**\\n  \\n  在双工作切换中，双方都在管控流量，在它们之间分散负载。\\n  \\n  如果是外网服务器，DNS 将需要对两方都了解。如果是内网服务器，应用程序逻辑将需要对两方都了解。\\n  \\n  双工作切换也可以称为主主切换。&quot;,536871092]],[&quot;^1@&quot;,[3255,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3255,&quot;^K&quot;,3296,536871092]],[&quot;^1@&quot;,[3255,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3255,&quot;^13&quot;,3160,536871092]],[&quot;^1@&quot;,[3255,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3255,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3255,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3255,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3255,&quot;^?&quot;,&quot;~u6266bf74-ea70-4d11-81f9-0444241fce63&quot;,536871092]],[&quot;^1@&quot;,[3256,&quot;^[&quot;,&quot;**阶段一prepare：提交事务请求（”投票阶段“）**\\n  \\n  proposer：发送提案和编号到acceptor试探是否获取多数接受者的支持\\n  acceptor：保留接受到的提案的最大编号和接受的最大提案，时刻更新当前的最大提案号，不接受下雨最大提案号的提案（一般来说，算法当中，越是后提交的，即新的提案，编号越大，使用时间戳等方式）\\n  \\n  当要执行一个分布式事务的时候，事务发起者首先向协调者发起事务请求，然后协调者会给所有参与者发送 `prepare` 请求（其中包括事务内容）告诉参与者你们需要执行事务了，如果能执行我发的事务内容那么就先执行但不提交，执行后请给我回复。然后参与者收到 `prepare` 消息后，他们会开始执行事务（但不提交），并将 `Undo` 和 `Redo` 信息记入事务日志中，之后参与者就向协调者反馈是否准备好了&quot;,536871092]],[&quot;^1@&quot;,[3256,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3256,&quot;^K&quot;,3335,536871092]],[&quot;^1@&quot;,[3256,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3256,&quot;^13&quot;,3335,536871092]],[&quot;^1@&quot;,[3256,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3256,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3256,&quot;^?&quot;,&quot;~u6266bf74-0ba8-4500-ac85-04fe58bb270f&quot;,536871092]],[&quot;^1@&quot;,[3257,&quot;^[&quot;,&quot;乐观&quot;,536871092]],[&quot;^1@&quot;,[3257,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3257,&quot;^K&quot;,3242,536871092]],[&quot;^1@&quot;,[3257,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3257,&quot;^13&quot;,3179,536871092]],[&quot;^1@&quot;,[3257,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3257,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3257,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3257,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3257,&quot;^?&quot;,&quot;~u6266bf74-3e49-4899-9124-6ac6ab8edd36&quot;,536871092]],[&quot;^1@&quot;,[3258,&quot;^[&quot;,&quot;定义：两阶段提交（two-phase commit） 是一种用于实现跨多个节点的原子事务提交的算法，即确保所有节点提交或所有节点中止。&quot;,536871092]],[&quot;^1@&quot;,[3258,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3258,&quot;^K&quot;,3157,536871092]],[&quot;^1@&quot;,[3258,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3258,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3258,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3258,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3258,&quot;^?&quot;,&quot;~u6266bf74-c6a6-4d40-bd4e-29e86173ba8b&quot;,536871092]],[&quot;^1@&quot;,[3259,&quot;^[&quot;,&quot;**阶段二：PreCommit**\\n  \\n  协调者根据参与者返回的响应来决定是否可以进行下面的 `PreCommit` 操作。如果上面参与者返回的都是 YES，那么协调者将向所有参与者发送 `PreCommit` 预提交请求，**参与者收到预提交请求后，会进行事务的执行操作，并将 Undo 和 Redo 信息写入事务日志中** ，最后如果参与者顺利执行了事务则给协调者返回成功的 `Ack` 响应。如果在第一阶段协调者收到了 **任何一个 NO** 的信息，或者 **在一定时间内** 并没有收到全部的参与者的响应，那么就会中断事务，它会向所有参与者发送中断请求 `abort`，参与者收到中断请求之后会立即中断事务，或者在一定时间内没有收到协调者的请求，它也会中断事务&quot;,536871092]],[&quot;^1@&quot;,[3259,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3259,&quot;^K&quot;,3212,536871092]],[&quot;^1@&quot;,[3259,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3259,&quot;^13&quot;,3288,536871092]],[&quot;^1@&quot;,[3259,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3259,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3259,&quot;^?&quot;,&quot;~u6266bf74-871a-4aba-a933-17677525ddef&quot;,536871092]],[&quot;^1@&quot;,[3260,&quot;^[&quot;,&quot;LDAP&quot;,536871092]],[&quot;^1@&quot;,[3260,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3260,&quot;^K&quot;,3115,536871092]],[&quot;^1@&quot;,[3260,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3260,&quot;^13&quot;,3339,536871092]],[&quot;^1@&quot;,[3260,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3260,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3260,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3260,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3260,&quot;^?&quot;,&quot;~u6266bf74-d6b0-4096-890b-9d2234bfaef7&quot;,536871092]],[&quot;^1@&quot;,[3261,&quot;^[&quot;,&quot;如果新写入数据在能被复制到备用系统之前，工作系统出现了故障，则有可能会丢失数据。&quot;,536871092]],[&quot;^1@&quot;,[3261,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3261,&quot;^K&quot;,3238,536871092]],[&quot;^1@&quot;,[3261,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3261,&quot;^13&quot;,3162,536871092]],[&quot;^1@&quot;,[3261,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3261,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3261,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3261,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3261,&quot;^?&quot;,&quot;~u6266bf74-8d31-4e20-b3f6-830337401a0b&quot;,536871092]],[&quot;^1@&quot;,[3262,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3262,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3262,&quot;^K&quot;,3293,536871092]],[&quot;^1@&quot;,[3262,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3262,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3262,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3262,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3262,&quot;^?&quot;,&quot;~u6266bf75-79c1-4513-a017-eb9a5603cf23&quot;,536871092]],[&quot;^1@&quot;,[3263,&quot;^[&quot;,&quot;Leader 服务器会为每个 Follower 服务器都各自分配一个单独的队列，然后将需要广播的事务 Proposal 依次放入这些队列中去，并根据 FIFO 策略进行消息的发送。&quot;,536871092]],[&quot;^1@&quot;,[3263,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3263,&quot;^K&quot;,3309,536871092]],[&quot;^1@&quot;,[3263,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3263,&quot;^13&quot;,3140,536871092]],[&quot;^1@&quot;,[3263,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3263,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3263,&quot;^?&quot;,&quot;~u6266bf74-fbcb-4cfc-a288-19c524c379e7&quot;,536871092]],[&quot;^1@&quot;,[3264,&quot;^[&quot;,&quot;key: 选举&quot;,536871092]],[&quot;^1@&quot;,[3264,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3264,&quot;^K&quot;,3240,536871092]],[&quot;^1@&quot;,[3264,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3264,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3264,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3264,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3264,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3264,&quot;^?&quot;,&quot;~u6266bf74-3d3f-48b5-9c79-4bfe45e8b3c2&quot;,536871092]],[&quot;^1@&quot;,[3265,&quot;^[&quot;,&quot;**阶段二：**&quot;,536871092]],[&quot;^1@&quot;,[3265,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3265,&quot;^K&quot;,3216,536871092]],[&quot;^1@&quot;,[3265,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3265,&quot;^13&quot;,3290,536871092]],[&quot;^1@&quot;,[3265,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3265,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3265,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3265,&quot;^?&quot;,&quot;~u6266bf74-964b-4256-aa7f-5b65af9af197&quot;,536871092]],[&quot;^1@&quot;,[3266,&quot;^[&quot;,&quot;悲观锁&quot;,536871092]],[&quot;^1@&quot;,[3266,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3266,&quot;^K&quot;,3294,536871092]],[&quot;^1@&quot;,[3266,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3266,&quot;^13&quot;,3294,536871092]],[&quot;^1@&quot;,[3266,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3266,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3266,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3266,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3266,&quot;^?&quot;,&quot;~u6266bf74-579b-4ff6-94ba-adea24562b9e&quot;,536871092]],[&quot;^1@&quot;,[3267,&quot;^[&quot;,&quot;若Acceptor故障，表决时能达到多数派也没问题&quot;,536871092]],[&quot;^1@&quot;,[3267,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3267,&quot;^K&quot;,3135,536871092]],[&quot;^1@&quot;,[3267,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3267,&quot;^13&quot;,3135,536871092]],[&quot;^1@&quot;,[3267,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3267,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3267,&quot;^?&quot;,&quot;~u6266bf74-6020-4918-bbc5-f231dd26cf1c&quot;,536871092]],[&quot;^1@&quot;,[3268,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3268,&quot;^[&quot;,&quot;一般来说，分区容错无法避免，因此可以认为 CAP 的 P 总是成立。CAP 定理告诉我们，剩下的 C 和 A 无法同时做到(tradeoff: C &amp; A)。所以通常分布式系统是在 AP 和 CP 之间选择。\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3268,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3268,&quot;^K&quot;,3231,536871092]],[&quot;^1@&quot;,[3268,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3268,&quot;^13&quot;,3231,536871092]],[&quot;^1@&quot;,[3268,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3268,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3268,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3268,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3268,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3268,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3268,&quot;^?&quot;,&quot;~u6266bf75-1fc0-4395-8f64-ef4ca448e389&quot;,536871092]],[&quot;^1@&quot;,[3269,&quot;^[&quot;,&quot;DNS&quot;,536871092]],[&quot;^1@&quot;,[3269,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3269,&quot;^K&quot;,3223,536871092]],[&quot;^1@&quot;,[3269,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3269,&quot;^13&quot;,3317,536871092]],[&quot;^1@&quot;,[3269,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3269,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3269,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3269,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3269,&quot;^?&quot;,&quot;~u6266bf74-0a64-4625-bfc1-628b049255a5&quot;,536871092]],[&quot;^1@&quot;,[3270,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3270,&quot;^[&quot;,&quot;Zab - Multi Paxos\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3270,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3270,&quot;^K&quot;,3240,536871092]],[&quot;^1@&quot;,[3270,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3270,&quot;^13&quot;,3245,536871092]],[&quot;^1@&quot;,[3270,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3270,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3270,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3270,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3270,&quot;^?&quot;,&quot;~u6266bf74-f4b8-40b6-bb51-7ddf1038bb58&quot;,536871092]],[&quot;^1@&quot;,[3271,&quot;^[&quot;,&quot;[[Data Structure &amp; Algorithm]]&quot;,536871092]],[&quot;^1@&quot;,[3271,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3271,&quot;^K&quot;,3111,536871092]],[&quot;^1@&quot;,[3271,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3271,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3271,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3271,&quot;^12&quot;,952,536871092]],[&quot;^1@&quot;,[3271,&quot;^M&quot;,952,536871092]],[&quot;^1@&quot;,[3271,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3271,&quot;^?&quot;,&quot;~u6266bf75-66ef-4009-a6af-97429e7a1092&quot;,536871092]],[&quot;^1@&quot;,[3272,&quot;^[&quot;,&quot;[主─从复制](https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md#%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6)&quot;,536871092]],[&quot;^1@&quot;,[3272,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3272,&quot;^K&quot;,3143,536871092]],[&quot;^1@&quot;,[3272,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3272,&quot;^13&quot;,3143,536871092]],[&quot;^1@&quot;,[3272,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3272,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3272,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3272,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3272,&quot;^?&quot;,&quot;~u6266bf74-f4c0-4b08-aa4a-1681d7cb548f&quot;,536871092]],[&quot;^1@&quot;,[3273,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3273,&quot;^[&quot;,&quot;3PC\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3273,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3273,&quot;^K&quot;,3157,536871092]],[&quot;^1@&quot;,[3273,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3273,&quot;^13&quot;,3131,536871092]],[&quot;^1@&quot;,[3273,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3273,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3273,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3273,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3273,&quot;^?&quot;,&quot;~u6266bf74-a82c-4489-a85f-510a4ce309af&quot;,536871092]],[&quot;^1@&quot;,[3274,&quot;^[&quot;,&quot;用户再次访问，请求落在了N2。此时D1和D2的数据不一致。&quot;,536871092]],[&quot;^1@&quot;,[3274,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3274,&quot;^K&quot;,3307,536871092]],[&quot;^1@&quot;,[3274,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3274,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3274,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3274,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3274,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3274,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3274,&quot;^?&quot;,&quot;~u6266bf75-b0e4-4a97-ba7b-78b66330267a&quot;,536871092]],[&quot;^1@&quot;,[3275,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3275,&quot;^[&quot;,&quot;Other：\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3275,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3275,&quot;^K&quot;,3165,536871092]],[&quot;^1@&quot;,[3275,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3275,&quot;^13&quot;,3298,536871092]],[&quot;^1@&quot;,[3275,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3275,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3275,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3275,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3275,&quot;^?&quot;,&quot;~u6266bf74-c60e-4115-b8b8-09cbf5fb2945&quot;,536871092]],[&quot;^1@&quot;,[3276,&quot;^[&quot;,&quot;首先选出leader，leader节点负责接收外部的数据更新/删除请求；&quot;,536871092]],[&quot;^1@&quot;,[3276,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3276,&quot;^K&quot;,3178,536871092]],[&quot;^1@&quot;,[3276,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3276,&quot;^13&quot;,3178,536871092]],[&quot;^1@&quot;,[3276,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3276,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3276,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3276,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3276,&quot;^?&quot;,&quot;~u6266bf74-2176-40b5-9bdb-bece2fdd68a8&quot;,536871092]],[&quot;^1@&quot;,[3277,&quot;^[&quot;,&quot;![https://upload-images.jianshu.io/upload_images/1752522-44c5a422f917bfc5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-44c5a422f917bfc5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)&quot;,536871092]],[&quot;^1@&quot;,[3277,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3277,&quot;^K&quot;,3120,536871092]],[&quot;^1@&quot;,[3277,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3277,&quot;^13&quot;,3265,536871092]],[&quot;^1@&quot;,[3277,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3277,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3277,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3277,&quot;^?&quot;,&quot;~u6266bf74-3b0d-4361-9930-6f72d497d849&quot;,536871092]],[&quot;^1@&quot;,[3278,&quot;^[&quot;,&quot;**全称（Zookeeper Atomic Broadcast）[Zookeeper](https://www.notion.so/21ddd73b5f2d4761ac10c53b37ca8986) 原子消息广播协议。** 说明：ZAB也是对Multi Paxos算法的改进，大部分和raft相同\\n  \\n  当Leader服务器不可用或者已经不存在过半服务器与该Leader服务器保持正常通信时，在重新开始新一轮的原子广播事务操作之前，ZAB会进入恢复模式选举新的Leader服务器，使集群彼此达到一个一致的状态，从消息广播模式进入到崩溃恢复模式。当集群过半机器都与新的Leader服务器完成了状态同步操作后ZAB协议会退出恢复模式&quot;,536871092]],[&quot;^1@&quot;,[3278,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3278,&quot;^K&quot;,3270,536871092]],[&quot;^1@&quot;,[3278,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3278,&quot;^13&quot;,3270,536871092]],[&quot;^1@&quot;,[3278,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3278,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3278,&quot;^?&quot;,&quot;~u6266bf74-7c6e-4ef2-8f08-6c7ff29731e4&quot;,536871092]],[&quot;^1@&quot;,[3279,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3279,&quot;^[&quot;,&quot;CA - ****牺牲分区****\\ncollapsed:: true\\n  \\n  CA without P：如果不要求P（不允许分区），则C（强一致性）和A（可用性）是可以保证的。但其实分区不是你想不想的问题，而是始终会存在，因此CA的系统**更多的是**允许分区后各子系统依然保持CA。&quot;,536871092]],[&quot;^1@&quot;,[3279,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3279,&quot;^K&quot;,3207,536871092]],[&quot;^1@&quot;,[3279,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3279,&quot;^13&quot;,3319,536871092]],[&quot;^1@&quot;,[3279,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3279,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3279,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3279,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3279,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3279,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3279,&quot;^?&quot;,&quot;~u6266bf74-2964-4beb-bfca-628e59f62fc3&quot;,536871092]],[&quot;^1@&quot;,[3280,&quot;^[&quot;,&quot;**基本可用**\\n  \\n  什么是基本可用呢？\\n  \\n  假如系统出现了不可预知故障，允许损失部分可用性，当然也不能完全不可用。\\n  \\n  损失的这部分可用性指的是什么？&quot;,536871092]],[&quot;^1@&quot;,[3280,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3280,&quot;^K&quot;,3326,536871092]],[&quot;^1@&quot;,[3280,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3280,&quot;^13&quot;,3326,536871092]],[&quot;^1@&quot;,[3280,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3280,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3280,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3280,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3280,&quot;^?&quot;,&quot;~u6266bf74-410b-4146-a4f7-c4cabe086cff&quot;,536871092]],[&quot;^1@&quot;,[3281,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3281,&quot;^[&quot;,&quot;[Basic Paxos](https://www.cnblogs.com/linbingdong/p/6253479.html)\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3281,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3281,&quot;^K&quot;,3195,536871092]],[&quot;^1@&quot;,[3281,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3281,&quot;^13&quot;,3245,536871092]],[&quot;^1@&quot;,[3281,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3281,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3281,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3281,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3281,&quot;^?&quot;,&quot;~u6266bf74-9220-44f7-b69e-524ce05ab7cb&quot;,536871092]],[&quot;^1@&quot;,[3282,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3282,&quot;^[&quot;,&quot;![深入Linux内核架构.pdf](../assets/深入Linux内核架构_1648717382658_0.pdf)\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3282,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3282,&quot;^K&quot;,3156,536871092]],[&quot;^1@&quot;,[3282,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3282,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3282,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3282,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3282,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3282,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3282,&quot;^?&quot;,&quot;~u6266bf75-0fc1-4c59-96a4-5abbe8330787&quot;,536871092]],[&quot;^1@&quot;,[3283,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3283,&quot;^[&quot;,&quot;最终一致性\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3283,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3283,&quot;^K&quot;,3313,536871092]],[&quot;^1@&quot;,[3283,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3283,&quot;^13&quot;,3313,536871092]],[&quot;^1@&quot;,[3283,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3283,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3283,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3283,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3283,&quot;^?&quot;,&quot;~u6266bf74-bfea-44d2-a925-2d619199bebe&quot;,536871092]],[&quot;^1@&quot;,[3284,&quot;^[&quot;,&quot;单站点数据库&quot;,536871092]],[&quot;^1@&quot;,[3284,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3284,&quot;^K&quot;,3339,536871092]],[&quot;^1@&quot;,[3284,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3284,&quot;^13&quot;,3339,536871092]],[&quot;^1@&quot;,[3284,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3284,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3284,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3284,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3284,&quot;^?&quot;,&quot;~u6266bf74-ef01-46fc-a28a-aaa54767b6a1&quot;,536871092]],[&quot;^1@&quot;,[3285,&quot;^T&quot;,true,536872947]],[&quot;^1@&quot;,[3285,&quot;^[&quot;,&quot;[[C++综合]] &amp; [[Golang]] &amp; [[Python]] &amp; [[Java]]\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3285,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3285,&quot;^K&quot;,3243,536871092]],[&quot;^1@&quot;,[3285,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3285,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3285,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3285,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3285,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3285,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3285,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3285,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3285,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3285,&quot;^M&quot;,527,536871092]],[&quot;^1@&quot;,[3285,&quot;^M&quot;,3098,536871092]],[&quot;^1@&quot;,[3285,&quot;^M&quot;,3105,536871092]],[&quot;^1@&quot;,[3285,&quot;^M&quot;,3106,536871092]],[&quot;^1@&quot;,[3285,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3285,&quot;^?&quot;,&quot;~u6266bf74-f322-4690-9843-7b89efdd2709&quot;,536871092]],[&quot;^1@&quot;,[3286,&quot;^[&quot;,&quot;[[Papers Reading]]&quot;,536871092]],[&quot;^1@&quot;,[3286,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3286,&quot;^K&quot;,3218,536871092]],[&quot;^1@&quot;,[3286,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3286,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3286,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3286,&quot;^12&quot;,226,536871092]],[&quot;^1@&quot;,[3286,&quot;^M&quot;,226,536871092]],[&quot;^1@&quot;,[3286,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3286,&quot;^?&quot;,&quot;~u6266bf75-b4ae-4756-84e3-ca4ff04b14ec&quot;,536871092]],[&quot;^1@&quot;,[3287,&quot;^[&quot;,&quot;所以，可以看出，分区容错的前提下，`一致性`和`可用性`是矛盾的。&quot;,536871092]],[&quot;^1@&quot;,[3287,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3287,&quot;^K&quot;,3151,536871092]],[&quot;^1@&quot;,[3287,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3287,&quot;^13&quot;,3336,536871092]],[&quot;^1@&quot;,[3287,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3287,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3287,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3287,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3287,&quot;^?&quot;,&quot;~u6266bf75-497c-4c87-8697-253eebd3bbff&quot;,536871092]],[&quot;^1@&quot;,[3288,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3288,&quot;^[&quot;,&quot;流程\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3288,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3288,&quot;^K&quot;,3182,536871092]],[&quot;^1@&quot;,[3288,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3288,&quot;^13&quot;,3273,536871092]],[&quot;^1@&quot;,[3288,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3288,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3288,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3288,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3288,&quot;^?&quot;,&quot;~u6266bf74-aa37-48fd-ac48-522ece512140&quot;,536871092]],[&quot;^1@&quot;,[3289,&quot;^[&quot;,&quot;[[C 标准库函数]]&quot;,536871092]],[&quot;^1@&quot;,[3289,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3289,&quot;^K&quot;,3150,536871092]],[&quot;^1@&quot;,[3289,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3289,&quot;^13&quot;,3180,536871092]],[&quot;^1@&quot;,[3289,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3289,&quot;^12&quot;,311,536871092]],[&quot;^1@&quot;,[3289,&quot;^M&quot;,311,536871092]],[&quot;^1@&quot;,[3289,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3289,&quot;^?&quot;,&quot;~u6266bf75-4839-41a5-b678-f6ac7043f157&quot;,536871092]],[&quot;^1@&quot;,[3290,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3290,&quot;^[&quot;,&quot;Paxos算法步骤\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T13:02:41.130Z\\ncard-last-reviewed:: 2022-03-23T13:02:41.130Z\\ncard-last-score:: 3\\ncollapsed:: true\\n  Paxos算法分为**两个阶段**。具体如下： #card&quot;,536871092]],[&quot;^1@&quot;,[3290,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3290,&quot;^K&quot;,3222,536871092]],[&quot;^1@&quot;,[3290,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3290,&quot;^13&quot;,3281,536871092]],[&quot;^1@&quot;,[3290,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3290,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3290,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T13:02:41.130Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T13:02:41.130Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3290,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3290,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3290,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3290,&quot;^?&quot;,&quot;~u6266bf74-7874-4484-bcfc-c59e083342e0&quot;,536871092]],[&quot;^1@&quot;,[3291,&quot;^[&quot;,&quot;到期/租赁&quot;,536871092]],[&quot;^1@&quot;,[3291,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3291,&quot;^K&quot;,3179,536871092]],[&quot;^1@&quot;,[3291,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3291,&quot;^13&quot;,3179,536871092]],[&quot;^1@&quot;,[3291,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3291,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3291,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3291,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3291,&quot;^?&quot;,&quot;~u6266bf74-4a4d-4f0d-bf61-63b75845dd68&quot;,536871092]],[&quot;^1@&quot;,[3292,&quot;^[&quot;,&quot;已经在 Leader 服务器上**提交**的事务，最终会被所有服务器都提交&quot;,536871092]],[&quot;^1@&quot;,[3292,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3292,&quot;^K&quot;,3169,536871092]],[&quot;^1@&quot;,[3292,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3292,&quot;^13&quot;,3169,536871092]],[&quot;^1@&quot;,[3292,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3292,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3292,&quot;^?&quot;,&quot;~u6266bf74-918a-414d-a322-cb0a41d7ff1e&quot;,536871092]],[&quot;^1@&quot;,[3293,&quot;^[&quot;,&quot;[[Personal Projects]]&quot;,536871092]],[&quot;^1@&quot;,[3293,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3293,&quot;^K&quot;,3286,536871092]],[&quot;^1@&quot;,[3293,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3293,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3293,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3293,&quot;^12&quot;,224,536871092]],[&quot;^1@&quot;,[3293,&quot;^M&quot;,224,536871092]],[&quot;^1@&quot;,[3293,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3293,&quot;^?&quot;,&quot;~u6266bf75-2b1d-4a13-9a44-e535e157f9a5&quot;,536871092]],[&quot;^1@&quot;,[3294,&quot;^[&quot;,&quot;实现方式：&quot;,536871092]],[&quot;^1@&quot;,[3294,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3294,&quot;^K&quot;,3158,536871092]],[&quot;^1@&quot;,[3294,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3294,&quot;^13&quot;,3239,536871092]],[&quot;^1@&quot;,[3294,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3294,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3294,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3294,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3294,&quot;^?&quot;,&quot;~u6266bf74-f917-4c19-bee6-a16e61ba5ea5&quot;,536871092]],[&quot;^1@&quot;,[3295,&quot;^[&quot;,&quot;key: 任期 term&quot;,536871092]],[&quot;^1@&quot;,[3295,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3295,&quot;^K&quot;,3281,536871092]],[&quot;^1@&quot;,[3295,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3295,&quot;^13&quot;,3281,536871092]],[&quot;^1@&quot;,[3295,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3295,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3295,&quot;^?&quot;,&quot;~u6266bf74-ad12-4f59-9e82-0e69fdceb0c1&quot;,536871092]],[&quot;^1@&quot;,[3296,&quot;^[&quot;,&quot;**工作到备用切换（Active-passive）**\\n  \\n  关于工作到备用的故障切换流程是，工作服务器发送周期信号给待机中的备用服务器。如果周期信号中断，备用服务器切换成工作服务器的 IP 地址并恢复服务。\\n  \\n  宕机时间取决于备用服务器处于“热”待机状态还是需要从“冷”待机状态进行启动。只有工作服务器处理流量。\\n  \\n  工作到备用的故障切换也被称为主从切换。&quot;,536871092]],[&quot;^1@&quot;,[3296,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3296,&quot;^K&quot;,3160,536871092]],[&quot;^1@&quot;,[3296,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3296,&quot;^13&quot;,3160,536871092]],[&quot;^1@&quot;,[3296,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3296,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3296,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3296,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3296,&quot;^?&quot;,&quot;~u6266bf74-0169-4a13-a9aa-db7c3c612138&quot;,536871092]],[&quot;^1@&quot;,[3297,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3297,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3297,&quot;^K&quot;,3246,536871092]],[&quot;^1@&quot;,[3297,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3297,&quot;^13&quot;,3246,536871092]],[&quot;^1@&quot;,[3297,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3297,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3297,&quot;^?&quot;,&quot;~u6266bf75-c22d-4375-956a-165dfe955809&quot;,536871092]],[&quot;^1@&quot;,[3298,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3298,&quot;^[&quot;,&quot;Google\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3298,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3298,&quot;^K&quot;,3247,536871092]],[&quot;^1@&quot;,[3298,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3298,&quot;^13&quot;,3229,536871092]],[&quot;^1@&quot;,[3298,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3298,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3298,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3298,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3298,&quot;^?&quot;,&quot;~u6266bf74-f066-4184-9c1a-ee1a8b27e666&quot;,536871092]],[&quot;^1@&quot;,[3299,&quot;^[&quot;,&quot;&quot;,536871092]],[&quot;^1@&quot;,[3299,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3299,&quot;^K&quot;,3244,536871092]],[&quot;^1@&quot;,[3299,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3299,&quot;^13&quot;,3330,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3299,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3299,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3299,&quot;^?&quot;,&quot;~u6266bf74-10b0-4115-800c-57a37da4ca8c&quot;,536871092]],[&quot;^1@&quot;,[3300,&quot;^[&quot;,&quot;弱一致性：weak consisitency，放宽一致性要求，实现效率Eventual Consistency\\n  \\n  在写入之后，访问可能看到，也可能看不到（写入数据）。尽力优化之让其能访问最新数据。\\n  \\n  这种方式可以 memcached 等系统中看到。弱一致性在 VoIP，视频聊天和实时多人游戏等真实用例中表现不错。打个比方，如果你在通话中丢失信号几秒钟时间，当重新连接时你是听不到这几秒钟所说的话的。&quot;,536871092]],[&quot;^1@&quot;,[3300,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3300,&quot;^K&quot;,3196,536871092]],[&quot;^1@&quot;,[3300,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3300,&quot;^13&quot;,3210,536871092]],[&quot;^1@&quot;,[3300,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3300,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3300,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3300,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3300,&quot;^?&quot;,&quot;~u6266bf74-a148-4c1d-bfc4-a1956161abbf&quot;,536871092]],[&quot;^1@&quot;,[3301,&quot;^[&quot;,&quot;假如现在有两个分区`N1`和`N2`，N1和N2分别有不同的分区存储D1和D2，以及不同的服务S1和S2。&quot;,536871092]],[&quot;^1@&quot;,[3301,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3301,&quot;^K&quot;,3186,536871092]],[&quot;^1@&quot;,[3301,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3301,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3301,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3301,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3301,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3301,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3301,&quot;^?&quot;,&quot;~u6266bf75-06e5-4e10-853f-a29ee543ef97&quot;,536871092]],[&quot;^1@&quot;,[3302,&quot;^[&quot;,&quot;xFS 文件系统&quot;,536871092]],[&quot;^1@&quot;,[3302,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3302,&quot;^K&quot;,3260,536871092]],[&quot;^1@&quot;,[3302,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3302,&quot;^13&quot;,3339,536871092]],[&quot;^1@&quot;,[3302,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3302,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3302,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3302,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3302,&quot;^?&quot;,&quot;~u6266bf74-d1b2-4c89-ab9d-81d77bf10c01&quot;,536871092]],[&quot;^1@&quot;,[3303,&quot;^[&quot;,&quot;在第一阶段和第二阶段中插入一个准备阶段，&quot;,536871092]],[&quot;^1@&quot;,[3303,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3303,&quot;^K&quot;,3337,536871092]],[&quot;^1@&quot;,[3303,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3303,&quot;^13&quot;,3337,536871092]],[&quot;^1@&quot;,[3303,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3303,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3303,&quot;^?&quot;,&quot;~u6266bf74-d30b-4aae-8e2a-e4c35a89704e&quot;,536871092]],[&quot;^1@&quot;,[3304,&quot;^[&quot;,&quot;[[Bigtable]]&quot;,536871092]],[&quot;^1@&quot;,[3304,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3304,&quot;^K&quot;,3188,536871092]],[&quot;^1@&quot;,[3304,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3304,&quot;^13&quot;,3165,536871092]],[&quot;^1@&quot;,[3304,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3304,&quot;^12&quot;,244,536871092]],[&quot;^1@&quot;,[3304,&quot;^M&quot;,244,536871092]],[&quot;^1@&quot;,[3304,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3304,&quot;^?&quot;,&quot;~u6266bf74-f6f7-4522-bc5c-9b9ecd8df9c7&quot;,536871092]],[&quot;^1@&quot;,[3305,&quot;^[&quot;,&quot;[[Linux]]&quot;,536871092]],[&quot;^1@&quot;,[3305,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3305,&quot;^K&quot;,3114,536871092]],[&quot;^1@&quot;,[3305,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3305,&quot;^13&quot;,3333,536871092]],[&quot;^1@&quot;,[3305,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3305,&quot;^12&quot;,3097,536871092]],[&quot;^1@&quot;,[3305,&quot;^M&quot;,3097,536871092]],[&quot;^1@&quot;,[3305,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3305,&quot;^?&quot;,&quot;~u6266bf75-33d4-47bc-827e-3ceb56f674db&quot;,536871092]],[&quot;^1@&quot;,[3306,&quot;^[&quot;,&quot;当有超过半数的服务器 ACK 响应后，Leader 就会广播一个 Commit 消息给所有的 Follower 服务器，Follower 接收到后就完成对事务的提交操作。&quot;,536871092]],[&quot;^1@&quot;,[3306,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3306,&quot;^K&quot;,3334,536871092]],[&quot;^1@&quot;,[3306,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3306,&quot;^13&quot;,3140,536871092]],[&quot;^1@&quot;,[3306,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3306,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3306,&quot;^?&quot;,&quot;~u6266bf74-8d23-40a6-93dc-933fed57fbfd&quot;,536871092]],[&quot;^1@&quot;,[3307,&quot;^[&quot;,&quot;用户访问了N1，修改了D1的数据。&quot;,536871092]],[&quot;^1@&quot;,[3307,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3307,&quot;^K&quot;,3250,536871092]],[&quot;^1@&quot;,[3307,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3307,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3307,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3307,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3307,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3307,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3307,&quot;^?&quot;,&quot;~u6266bf75-2f2c-42d6-8df6-1f8e1d54b459&quot;,536871092]],[&quot;^1@&quot;,[3308,&quot;^[&quot;,&quot;少数分区不可用&quot;,536871092]],[&quot;^1@&quot;,[3308,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3308,&quot;^K&quot;,3266,536871092]],[&quot;^1@&quot;,[3308,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3308,&quot;^13&quot;,3294,536871092]],[&quot;^1@&quot;,[3308,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3308,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3308,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3308,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3308,&quot;^?&quot;,&quot;~u6266bf74-3271-435b-b9d9-94f853220fd9&quot;,536871092]],[&quot;^1@&quot;,[3309,&quot;^[&quot;,&quot;Leader 服务器接收到请求后在进行广播事务 Proposal 之前会为这个事务分配一个 ZXID，再进行广播。&quot;,536871092]],[&quot;^1@&quot;,[3309,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3309,&quot;^K&quot;,3140,536871092]],[&quot;^1@&quot;,[3309,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3309,&quot;^13&quot;,3140,536871092]],[&quot;^1@&quot;,[3309,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3309,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3309,&quot;^?&quot;,&quot;~u6266bf74-7418-4c09-b6a0-14733224201a&quot;,536871092]],[&quot;^1@&quot;,[3310,&quot;^[&quot;,&quot;![image.png](../assets/image_1648690654883_0.png)&quot;,536871092]],[&quot;^1@&quot;,[3310,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3310,&quot;^K&quot;,3306,536871092]],[&quot;^1@&quot;,[3310,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3310,&quot;^13&quot;,3140,536871092]],[&quot;^1@&quot;,[3310,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3310,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3310,&quot;^?&quot;,&quot;~u6266bf74-ef79-4030-a847-59c5e206c60f&quot;,536871092]],[&quot;^1@&quot;,[3311,&quot;^[&quot;,&quot;3PC，是 Three-Phase-Comimit 的缩写，即「**三阶段提交**」，是二阶段的改进版，将二阶段提交协议的“提交事务请求”过程一分为二。&quot;,536871092]],[&quot;^1@&quot;,[3311,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3311,&quot;^K&quot;,3182,536871092]],[&quot;^1@&quot;,[3311,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3311,&quot;^13&quot;,3182,536871092]],[&quot;^1@&quot;,[3311,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3311,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3311,&quot;^?&quot;,&quot;~u6266bf74-f185-4565-a94b-0762dd9515c9&quot;,536871092]],[&quot;^1@&quot;,[3312,&quot;^[&quot;,&quot;说明：Gossip算法每个节点都是对等的，即没有角色之分。Gossip算法中的每个节点都会将数据改动告诉其他节点**（类似传八卦）**。有话说得好：\\&quot;最多通过六个人你就能认识全世界任何一个陌生人\\&quot;，因此数据改动的消息很快就会传遍整个集群。&quot;,536871092]],[&quot;^1@&quot;,[3312,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3312,&quot;^K&quot;,3234,536871092]],[&quot;^1@&quot;,[3312,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3312,&quot;^13&quot;,3234,536871092]],[&quot;^1@&quot;,[3312,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3312,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3312,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3312,&quot;^?&quot;,&quot;~u6266bf74-35a8-4335-a950-a077e0678cd7&quot;,536871092]],[&quot;^1@&quot;,[3313,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3313,&quot;^[&quot;,&quot;弱一致性算法\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3313,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3313,&quot;^K&quot;,3273,536871092]],[&quot;^1@&quot;,[3313,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3313,&quot;^13&quot;,3131,536871092]],[&quot;^1@&quot;,[3313,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3313,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3313,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3313,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3313,&quot;^?&quot;,&quot;~u6266bf74-1f46-4464-ba74-2d74a7971d0b&quot;,536871092]],[&quot;^1@&quot;,[3314,&quot;^[&quot;,&quot;分布式锁定&quot;,536871092]],[&quot;^1@&quot;,[3314,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3314,&quot;^K&quot;,3126,536871092]],[&quot;^1@&quot;,[3314,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3314,&quot;^13&quot;,3158,536871092]],[&quot;^1@&quot;,[3314,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3314,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3314,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3314,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3314,&quot;^?&quot;,&quot;~u6266bf74-c092-4102-bb8a-204fae1b6cea&quot;,536871092]],[&quot;^1@&quot;,[3315,&quot;^[&quot;,&quot;**Log replication 日志复制**：leader从客户端接收数据更新/删除请求，然后日志复制到follower节点，从而保证集群数据的一致性；&quot;,536871092]],[&quot;^1@&quot;,[3315,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3315,&quot;^K&quot;,3215,536871092]],[&quot;^1@&quot;,[3315,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3315,&quot;^13&quot;,3108,536871092]],[&quot;^1@&quot;,[3315,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3315,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3315,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3315,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3315,&quot;^?&quot;,&quot;~u6266bf74-2845-413c-9227-e8926726bcc1&quot;,536871092]],[&quot;^1@&quot;,[3316,&quot;^[&quot;,&quot;**如何保证Paxos算法的活性**\\n  \\n  ![https://upload-images.jianshu.io/upload_images/1752522-28b18dd606777074.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240](https://upload-images.jianshu.io/upload_images/1752522-28b18dd606777074.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\\n  \\n\\n                通过选取**主Proposer**，就可以保证Paxos算法的活性。至此，我们得到一个**既能保证安全性，又能保证活性**的**分布式一致性算法**——**Paxos算法**。&quot;,536871092]],[&quot;^1@&quot;,[3316,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3316,&quot;^K&quot;,3227,536871092]],[&quot;^1@&quot;,[3316,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3316,&quot;^13&quot;,3192,536871092]],[&quot;^1@&quot;,[3316,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3316,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3316,&quot;^?&quot;,&quot;~u6266bf74-5552-4999-9dd3-f537d31a75cb&quot;,536871092]],[&quot;^1@&quot;,[3317,&quot;^[&quot;,&quot;举例：&quot;,536871092]],[&quot;^1@&quot;,[3317,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3317,&quot;^K&quot;,3207,536871092]],[&quot;^1@&quot;,[3317,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3317,&quot;^13&quot;,3207,536871092]],[&quot;^1@&quot;,[3317,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3317,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3317,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3317,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3317,&quot;^?&quot;,&quot;~u6266bf74-171a-4977-b663-e6b76dec3d94&quot;,536871092]],[&quot;^1@&quot;,[3318,&quot;^[&quot;,&quot;同步阻塞问题&quot;,536871092]],[&quot;^1@&quot;,[3318,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3318,&quot;^K&quot;,3172,536871092]],[&quot;^1@&quot;,[3318,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3318,&quot;^13&quot;,3172,536871092]],[&quot;^1@&quot;,[3318,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3318,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3318,&quot;^?&quot;,&quot;~u6266bf74-fb7b-4904-954d-468be54029e9&quot;,536871092]],[&quot;^1@&quot;,[3319,&quot;^[&quot;,&quot;**CAP 理论** #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T10:21:23.686Z\\ncard-last-reviewed:: 2022-03-23T10:21:23.687Z\\ncard-last-score:: 3&quot;,536871092]],[&quot;^1@&quot;,[3319,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3319,&quot;^K&quot;,3153,536871092]],[&quot;^1@&quot;,[3319,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3319,&quot;^13&quot;,3116,536871092]],[&quot;^1@&quot;,[3319,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3319,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3319,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3319,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T10:21:23.686Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T10:21:23.687Z&quot;,&quot;^1M&quot;,3],536871092]],[&quot;^1@&quot;,[3319,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;]],536871092]],[&quot;^1@&quot;,[3319,&quot;^M&quot;,2,536871092]],[&quot;^1@&quot;,[3319,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3319,&quot;^?&quot;,&quot;~u6266bf75-474a-4328-9750-d996ab4a6027&quot;,536871092]],[&quot;^1@&quot;,[3320,&quot;^[&quot;,&quot;### [[About Me]]&quot;,536871092]],[&quot;^1@&quot;,[3320,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3320,&quot;^14&quot;,3,536871092]],[&quot;^1@&quot;,[3320,&quot;^K&quot;,3202,536871092]],[&quot;^1@&quot;,[3320,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3320,&quot;^13&quot;,11,536871092]],[&quot;^1@&quot;,[3320,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3320,&quot;^12&quot;,223,536871092]],[&quot;^1@&quot;,[3320,&quot;^M&quot;,223,536871092]],[&quot;^1@&quot;,[3320,&quot;^1G&quot;,3,536871092]],[&quot;^1@&quot;,[3320,&quot;^15&quot;,&quot;^1H&quot;,536871092]],[&quot;^1@&quot;,[3320,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3320,&quot;^?&quot;,&quot;~u6266bf75-97bb-4f04-af65-9c3508b58423&quot;,536871092]],[&quot;^1@&quot;,[3321,&quot;^[&quot;,&quot;**前提**\\n  \\n  Raft 保证了如下几点：&quot;,536871092]],[&quot;^1@&quot;,[3321,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3321,&quot;^K&quot;,3328,536871092]],[&quot;^1@&quot;,[3321,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3321,&quot;^13&quot;,3328,536871092]],[&quot;^1@&quot;,[3321,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3321,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3321,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3321,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3321,&quot;^?&quot;,&quot;~u6266bf74-e2a1-4600-a29a-cdd63442d631&quot;,536871092]],[&quot;^1@&quot;,[3322,&quot;^[&quot;,&quot;[[Redis]]&quot;,536871092]],[&quot;^1@&quot;,[3322,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3322,&quot;^K&quot;,3125,536871092]],[&quot;^1@&quot;,[3322,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3322,&quot;^13&quot;,3236,536871092]],[&quot;^1@&quot;,[3322,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3322,&quot;^12&quot;,1946,536871092]],[&quot;^1@&quot;,[3322,&quot;^M&quot;,1946,536871092]],[&quot;^1@&quot;,[3322,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3322,&quot;^?&quot;,&quot;~u6266bf75-67f4-4f59-857f-0ced8b746ca7&quot;,536871092]],[&quot;^1@&quot;,[3323,&quot;^[&quot;,&quot;[ref1](https://www.cnblogs.com/xybaby/p/10124083.html); [ref2](https://zinglix.xyz/2020/06/25/raft/#:~:text=Raft%20%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E6%8B%9C%E5%8D%A0%E5%BA%AD,%E7%9A%84%E8%80%8C%E9%9D%9E%E4%BC%AA%E9%80%A0%E7%9A%84%E3%80%82&amp;text=%E7%AE%97%E6%B3%95%E5%B0%86%E6%9C%BA%E5%99%A8%E5%88%86%E6%88%90%E4%B8%89,%E9%83%BD%E4%B8%8ELeader%20%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E3%80%82); [ref3](http://dockone.io/article/2434665)&quot;,536871092]],[&quot;^1@&quot;,[3323,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3323,&quot;^K&quot;,3264,536871092]],[&quot;^1@&quot;,[3323,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3323,&quot;^13&quot;,3240,536871092]],[&quot;^1@&quot;,[3323,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3323,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3323,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3323,&quot;^?&quot;,&quot;~u6266bf74-d6e2-474d-b314-0a85ebef74a2&quot;,536871092]],[&quot;^1@&quot;,[3324,&quot;^[&quot;,&quot;**软状态**\\n  \\n  软状态指允许系统中的数据存在中间状态（**CAP 理论中的数据不一致**），并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延时。&quot;,536871092]],[&quot;^1@&quot;,[3324,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3324,&quot;^K&quot;,3280,536871092]],[&quot;^1@&quot;,[3324,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3324,&quot;^13&quot;,3326,536871092]],[&quot;^1@&quot;,[3324,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3324,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3324,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3324,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3324,&quot;^?&quot;,&quot;~u6266bf74-45e2-4d46-9435-2bba405adc8b&quot;,536871092]],[&quot;^1@&quot;,[3325,&quot;^[&quot;,&quot;2. 如果一个Acceptor收到一个编号为N的Prepare请求，且N**大于**该Acceptor已经**响应过的**所有**Prepare请求**的编号，那么它就会将它已经**接受过的编号最大的提案（如果有的话）**作为响应反馈给Proposer，同时该Acceptor承诺**不再接受**任何**编号小于N的提案**。(acceptor返回)&quot;,536871092]],[&quot;^1@&quot;,[3325,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3325,&quot;^K&quot;,3168,536871092]],[&quot;^1@&quot;,[3325,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3325,&quot;^13&quot;,3216,536871092]],[&quot;^1@&quot;,[3325,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3325,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3325,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3325,&quot;^?&quot;,&quot;~u6266bf74-2b63-472e-b8e6-e86376c7496b&quot;,536871092]],[&quot;^1@&quot;,[3326,&quot;^[&quot;,&quot;**[BASE 理论 延伸](https://www.1024sou.com/article/189463.html)**\\n  \\n  **BASE** 是 **Basically Available（基本可用）** 、**Soft-state（软状态）** 和 **Eventually Consistent（最终一致性）** 三个短语的缩写。\\n  \\n  核心思想是：即使无法做到强一致性（Strong consistency），但每个应用都可以根据自身的业务特点，采用适当的方式来使系统达到最终一致性（Eventual consistency）。\\n  \\n  BASE 理论是对 CAP 中一致性 C 和可用性 A 权衡的结果，其来源于对大规模互联网系统分布式实践的总结，是基于 CAP 定理逐步演化而来的，它大大降低了我们对系统的要求。&quot;,536871092]],[&quot;^1@&quot;,[3326,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3326,&quot;^K&quot;,3179,536871092]],[&quot;^1@&quot;,[3326,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3326,&quot;^13&quot;,3207,536871092]],[&quot;^1@&quot;,[3326,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3326,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3326,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3326,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3326,&quot;^?&quot;,&quot;~u6266bf74-d8c7-4093-a1e2-5d9cc8b47904&quot;,536871092]],[&quot;^1@&quot;,[3327,&quot;^[&quot;,&quot;第一阶段canCommit并不执行事务，这样当第一阶段失败或者timeout时，不占用事务资源不需要回滚(提高效率减少事务阻塞)。&quot;,536871092]],[&quot;^1@&quot;,[3327,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3327,&quot;^K&quot;,3303,536871092]],[&quot;^1@&quot;,[3327,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3327,&quot;^13&quot;,3303,536871092]],[&quot;^1@&quot;,[3327,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3327,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3327,&quot;^?&quot;,&quot;~u6266bf74-5f21-4920-a5b4-f052b6ebcb95&quot;,536871092]],[&quot;^1@&quot;,[3328,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3328,&quot;^[&quot;,&quot;然后日志复制到其他follower节点，同时通过安全性的准则来保证整个日志复制的一致性；\\ncollapsed:: true\\n  \\n  注：此处 log 并非是指日志消息，而是各种事件的发生记录。&quot;,536871092]],[&quot;^1@&quot;,[3328,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3328,&quot;^K&quot;,3276,536871092]],[&quot;^1@&quot;,[3328,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3328,&quot;^13&quot;,3178,536871092]],[&quot;^1@&quot;,[3328,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3328,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3328,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3328,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3328,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3328,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3328,&quot;^?&quot;,&quot;~u6266bf74-106c-4d81-98db-bbb2e3cdd8ce&quot;,536871092]],[&quot;^1@&quot;,[3329,&quot;^[&quot;,&quot;[[ENGLISH]]&quot;,536871092]],[&quot;^1@&quot;,[3329,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3329,&quot;^K&quot;,3285,536871092]],[&quot;^1@&quot;,[3329,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3329,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3329,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3329,&quot;^12&quot;,82,536871092]],[&quot;^1@&quot;,[3329,&quot;^M&quot;,82,536871092]],[&quot;^1@&quot;,[3329,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3329,&quot;^?&quot;,&quot;~u6266bf74-ba83-4c27-a1d7-5c62229a5d8d&quot;,536871092]],[&quot;^1@&quot;,[3330,&quot;^T&quot;,false,536871457]],[&quot;^1@&quot;,[3330,&quot;^[&quot;,&quot;C++, JAVA, Golang, Python comparison #EN_CV\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3330,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3330,&quot;^K&quot;,3285,536871092]],[&quot;^1@&quot;,[3330,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3330,&quot;^13&quot;,3285,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,527,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,919,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,3098,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,3105,536871092]],[&quot;^1@&quot;,[3330,&quot;^12&quot;,3106,536871092]],[&quot;^1@&quot;,[3330,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3330,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3330,&quot;^M&quot;,919,536871092]],[&quot;^1@&quot;,[3330,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3330,&quot;^?&quot;,&quot;~u6266bf74-87a9-4b61-a562-2a1c2f15155b&quot;,536871092]],[&quot;^1@&quot;,[3331,&quot;^[&quot;,&quot;![image.png](../assets/image_1648031997591_0.png)&quot;,536871092]],[&quot;^1@&quot;,[3331,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3331,&quot;^K&quot;,3187,536871092]],[&quot;^1@&quot;,[3331,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3331,&quot;^13&quot;,3187,536871092]],[&quot;^1@&quot;,[3331,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3331,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3331,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3331,&quot;^?&quot;,&quot;~u6266bf74-5c26-4090-8269-592dec8fd745&quot;,536871092]],[&quot;^1@&quot;,[3332,&quot;^[&quot;,&quot;可能问题及解决方法&quot;,536871092]],[&quot;^1@&quot;,[3332,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3332,&quot;^K&quot;,3290,536871092]],[&quot;^1@&quot;,[3332,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3332,&quot;^13&quot;,3281,536871092]],[&quot;^1@&quot;,[3332,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3332,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3332,&quot;^?&quot;,&quot;~u6266bf74-2d71-4b1e-aff2-378266ac5e13&quot;,536871092]],[&quot;^1@&quot;,[3333,&quot;^T&quot;,true,536873527]],[&quot;^1@&quot;,[3333,&quot;^[&quot;,&quot;📗  Operation System\\ncollapsed:: true&quot;,536871092]],[&quot;^1@&quot;,[3333,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3333,&quot;^K&quot;,3221,536871092]],[&quot;^1@&quot;,[3333,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3333,&quot;^13&quot;,3209,536871092]],[&quot;^1@&quot;,[3333,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3333,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3333,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3333,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3333,&quot;^?&quot;,&quot;~u6266bf75-7ff6-4301-8be9-17fe5c98dec3&quot;,536871092]],[&quot;^1@&quot;,[3334,&quot;^[&quot;,&quot;每个Follower 服务器在接收到后都会将其以事务日志的形式写入到本地磁盘中，并且在成功写入后返回 Leader 服务器一个 ACK 响应。&quot;,536871092]],[&quot;^1@&quot;,[3334,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3334,&quot;^K&quot;,3263,536871092]],[&quot;^1@&quot;,[3334,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3334,&quot;^13&quot;,3140,536871092]],[&quot;^1@&quot;,[3334,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3334,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3334,&quot;^?&quot;,&quot;~u6266bf74-ef8e-45ba-9322-372a1518cc5b&quot;,536871092]],[&quot;^1@&quot;,[3335,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3335,&quot;^[&quot;,&quot;流程\\ncollapsed:: true\\n  \\n  2PC中的提交/中止过程分为两个阶段（因此而得名），而不是单节点事务中的单个提交请求。&quot;,536871092]],[&quot;^1@&quot;,[3335,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3335,&quot;^K&quot;,3174,536871092]],[&quot;^1@&quot;,[3335,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3335,&quot;^13&quot;,3157,536871092]],[&quot;^1@&quot;,[3335,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3335,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3335,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3335,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3335,&quot;^?&quot;,&quot;~u6266bf74-eef0-4505-8230-5a0b76c09d11&quot;,536871092]],[&quot;^1@&quot;,[3336,&quot;^[&quot;,&quot;接下来：&quot;,536871092]],[&quot;^1@&quot;,[3336,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3336,&quot;^K&quot;,3274,536871092]],[&quot;^1@&quot;,[3336,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3336,&quot;^13&quot;,3268,536871092]],[&quot;^1@&quot;,[3336,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3336,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3336,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3336,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3336,&quot;^?&quot;,&quot;~u6266bf75-379a-4363-9365-c881da628bbd&quot;,536871092]],[&quot;^1@&quot;,[3337,&quot;^T&quot;,true,536871092]],[&quot;^1@&quot;,[3337,&quot;^[&quot;,&quot;改进\\ncollapsed:: true\\n  三阶段提交针对两阶段提交做了改进：&quot;,536871092]],[&quot;^1@&quot;,[3337,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3337,&quot;^K&quot;,3288,536871092]],[&quot;^1@&quot;,[3337,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3337,&quot;^13&quot;,3273,536871092]],[&quot;^1@&quot;,[3337,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3337,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871092]],[&quot;^1@&quot;,[3337,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871092]],[&quot;^1@&quot;,[3337,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3337,&quot;^?&quot;,&quot;~u6266bf74-4049-431c-ab25-db6fdccd29c9&quot;,536871092]],[&quot;^1@&quot;,[3338,&quot;^[&quot;,&quot;1. Leader总统节点，负责发出提案\\n  2. Follower追随者节点，负责同意Leader发出的提案\\n  3. Candidate候选人，负责争夺Leader&quot;,536871092]],[&quot;^1@&quot;,[3338,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3338,&quot;^K&quot;,3184,536871092]],[&quot;^1@&quot;,[3338,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3338,&quot;^13&quot;,3184,536871092]],[&quot;^1@&quot;,[3338,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3338,&quot;^12&quot;,549,536871092]],[&quot;^1@&quot;,[3338,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3338,&quot;^?&quot;,&quot;~u6266bf74-a761-4a72-ae46-cd152a25756b&quot;,536871092]],[&quot;^1@&quot;,[3339,&quot;^[&quot;,&quot;举例： - 单点&quot;,536871092]],[&quot;^1@&quot;,[3339,&quot;^X&quot;,&quot;^1D&quot;,536871092]],[&quot;^1@&quot;,[3339,&quot;^K&quot;,3279,536871092]],[&quot;^1@&quot;,[3339,&quot;^17&quot;,11,536871092]],[&quot;^1@&quot;,[3339,&quot;^13&quot;,3279,536871092]],[&quot;^1@&quot;,[3339,&quot;^12&quot;,2,536871092]],[&quot;^1@&quot;,[3339,&quot;^12&quot;,11,536871092]],[&quot;^1@&quot;,[3339,&quot;^12&quot;,544,536871092]],[&quot;^1@&quot;,[3339,&quot;^1E&quot;,true,536871092]],[&quot;^1@&quot;,[3339,&quot;^?&quot;,&quot;~u6266bf74-5f55-48e1-a91c-c101b2d5e521&quot;,536871092]],[&quot;^1@&quot;,[4089,&quot;^R&quot;,1648011171392,536873193]],[&quot;^1@&quot;,[4089,&quot;^E&quot;,false,536871126]],[&quot;^1@&quot;,[4089,&quot;^18&quot;,&quot;互斥 &amp; 同步 &amp; 通信&quot;,536871126]],[&quot;^1@&quot;,[4089,&quot;^1&lt;&quot;,&quot;互斥 &amp; 同步 &amp; 通信&quot;,536871126]],[&quot;^1@&quot;,[4089,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536873578]],[&quot;^1@&quot;,[4089,&quot;^G&quot;,1651213805648,536873694]],[&quot;^1@&quot;,[4089,&quot;^?&quot;,&quot;~u6266bf7a-bd07-424f-82d0-426c8f0c48be&quot;,536871176]],[&quot;^1@&quot;,[4093,&quot;^[&quot;,&quot;读优先锁\\n  \\n  读优先锁期望的是，读锁能被更多的线程持有，以便提高读线程的并发性，它的工作方式是：当读线程 A 先持有了读锁，写线程 B 在获取写锁的时候，会被阻塞，并且在阻塞过程中，后续来的读线程 C 仍然可以成功获取读锁，最后直到读线程 A 和 C 释放读锁后，写线程 B 才可以成功获取写锁。如下图：\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b8e45ae8-ad92-4837-9c71-5964da049f40/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b8e45ae8-ad92-4837-9c71-5964da049f40/Untitled.png)&quot;,536871126]],[&quot;^1@&quot;,[4093,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4093,&quot;^K&quot;,4237,536871126]],[&quot;^1@&quot;,[4093,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4093,&quot;^13&quot;,4237,536871126]],[&quot;^1@&quot;,[4093,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4093,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4093,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4093,&quot;^?&quot;,&quot;~u6266bf77-1d89-4049-9b0b-6ad230a441c5&quot;,536871126]],[&quot;^1@&quot;,[4094,&quot;^T&quot;,false,536873440]],[&quot;^1@&quot;,[4094,&quot;^[&quot;,&quot;**事件（event）**\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4094,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4094,&quot;^K&quot;,4139,536871126]],[&quot;^1@&quot;,[4094,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4094,&quot;^13&quot;,4222,536871126]],[&quot;^1@&quot;,[4094,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4094,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4094,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4094,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4094,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4094,&quot;^?&quot;,&quot;~u6266bf77-436d-4c4f-9800-ae284f28210e&quot;,536871126]],[&quot;^1@&quot;,[4095,&quot;^[&quot;,&quot;一般加锁的过程，包含两个步骤：&quot;,536871126]],[&quot;^1@&quot;,[4095,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4095,&quot;^K&quot;,4153,536871126]],[&quot;^1@&quot;,[4095,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4095,&quot;^13&quot;,4116,536871126]],[&quot;^1@&quot;,[4095,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4095,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4095,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4095,&quot;^?&quot;,&quot;~u6266bf77-47e4-456e-9090-226fafb1bb4d&quot;,536871126]],[&quot;^1@&quot;,[4096,&quot;^[&quot;,&quot;自旋锁与互斥锁使用层面比较相似，但实现层面上完全不同：**当加锁失败时，互斥锁用「线程切换」来应对，自旋锁则用「忙等待」来应对**。&quot;,536871126]],[&quot;^1@&quot;,[4096,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4096,&quot;^K&quot;,4141,536871126]],[&quot;^1@&quot;,[4096,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4096,&quot;^13&quot;,4209,536871126]],[&quot;^1@&quot;,[4096,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4096,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4096,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4096,&quot;^?&quot;,&quot;~u6266bf77-96c2-4af1-822c-4e4d158718a2&quot;,536871126]],[&quot;^1@&quot;,[4097,&quot;^[&quot;,&quot;读锁饥饿问题&quot;,536871126]],[&quot;^1@&quot;,[4097,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4097,&quot;^K&quot;,4241,536871126]],[&quot;^1@&quot;,[4097,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4097,&quot;^13&quot;,4241,536871126]],[&quot;^1@&quot;,[4097,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4097,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4097,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4097,&quot;^?&quot;,&quot;~u6266bf77-e4db-4338-ab12-a944875d9055&quot;,536871126]],[&quot;^1@&quot;,[4098,&quot;^[&quot;,&quot;[[$red]]==广泛意义上==：仅仅交换某个状态信息。例如 信号量与PV操作只能传递信号，没有传递数据的能力。通过修改信号量，进程之间可建立起联系，相互协调运行和协同工作。&quot;,536871126]],[&quot;^1@&quot;,[4098,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4098,&quot;^K&quot;,4242,536871126]],[&quot;^1@&quot;,[4098,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4098,&quot;^13&quot;,4112,536871126]],[&quot;^1@&quot;,[4098,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4098,&quot;^12&quot;,549,536871126]],[&quot;^1@&quot;,[4098,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4098,&quot;^M&quot;,549,536871126]],[&quot;^1@&quot;,[4098,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4098,&quot;^?&quot;,&quot;~u6266bf77-a91a-48b4-8d18-96079e280475&quot;,536871126]],[&quot;^1@&quot;,[4099,&quot;^[&quot;,&quot;**3、功能限制**\\n  \\n  CAS的功能是比较受限的，例如CAS只能保证单个变量（或者说单个内存值）操作的原子性，这意味着：(1)原子性不一定能保证线程安全，例如在Java中需要与volatile配合来保证线程安全；(2)当涉及到多个变量(内存值)时，CAS也无能为力。\\n  \\n  除此之外，CAS的实现需要硬件层面处理器的支持，在Java中普通用户无法直接使用，只能借助atomic包下的原子类使用，灵活性受到限制。&quot;,536871126]],[&quot;^1@&quot;,[4099,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4099,&quot;^K&quot;,4154,536871126]],[&quot;^1@&quot;,[4099,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4099,&quot;^13&quot;,4102,536871126]],[&quot;^1@&quot;,[4099,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4099,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4099,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4099,&quot;^?&quot;,&quot;~u6266bf77-9ece-4183-876b-0fb9fc4d148b&quot;,536871126]],[&quot;^1@&quot;,[4101,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4101,&quot;^[&quot;,&quot;两者区别\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4101,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4101,&quot;^K&quot;,4127,536871126]],[&quot;^1@&quot;,[4101,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4101,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4101,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4101,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4101,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4101,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4101,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4101,&quot;^?&quot;,&quot;~u6266bf77-c8c4-460c-be05-e460cda08263&quot;,536871126]],[&quot;^1@&quot;,[4102,&quot;^[&quot;,&quot;缺点&quot;,536871126]],[&quot;^1@&quot;,[4102,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4102,&quot;^K&quot;,4181,536871126]],[&quot;^1@&quot;,[4102,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4102,&quot;^13&quot;,4128,536871126]],[&quot;^1@&quot;,[4102,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4102,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4102,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4102,&quot;^?&quot;,&quot;~u6266bf77-c87b-4ed8-b6cb-1250293e4e35&quot;,536871126]],[&quot;^1@&quot;,[4103,&quot;^[&quot;,&quot;举个例子，如果要使得两个进程互斥访问共享内存，我们可以初始化信号量为 `1`。具体的过程如下：&quot;,536871126]],[&quot;^1@&quot;,[4103,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4103,&quot;^K&quot;,4231,536871126]],[&quot;^1@&quot;,[4103,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4103,&quot;^13&quot;,4231,536871126]],[&quot;^1@&quot;,[4103,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4103,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4103,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4103,&quot;^?&quot;,&quot;~u6266bf77-37f0-4d5e-b559-d3c632df0d8a&quot;,536871126]],[&quot;^1@&quot;,[4104,&quot;^[&quot;,&quot;假设有两个线程——线程1和线程2，两个线程按照顺序进行以下操作：\\n  \\n  (1)线程1读取内存中数据为A；\\n  \\n  (2)线程2将该数据修改为B；\\n  \\n  (3)线程2将该数据修改为A；\\n  \\n  (4)线程1对数据进行CAS操作\\n  \\n  在第(4)步中，由于内存中数据仍然为A，因此CAS操作成功，但实际上该数据已经被线程2修改过了。这就是ABA问题。\\n  \\n  在AtomicInteger的例子中，ABA似乎没有什么危害。但是在某些场景下，ABA却会带来隐患，例如栈顶问题：一个栈的栈顶经过两次(或多次)变化又恢复了原值，但是栈可能已发生了变化。\\n  \\n  对于ABA问题，比较有效的方案是引入版本号，内存中的值每发生一次变化，版本号都+1；在进行CAS操作时，不仅比较内存中的值，也会比较版本号，只有当二者都没有变化时，CAS才能执行成功。Java中的AtomicStampedReference类便是使用版本号来解决ABA问题的。&quot;,536871126]],[&quot;^1@&quot;,[4104,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4104,&quot;^K&quot;,4200,536871126]],[&quot;^1@&quot;,[4104,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4104,&quot;^13&quot;,4214,536871126]],[&quot;^1@&quot;,[4104,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4104,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4104,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4104,&quot;^?&quot;,&quot;~u6266bf77-a485-45d8-b2f8-156063eb4a81&quot;,536871126]],[&quot;^1@&quot;,[4105,&quot;^[&quot;,&quot;第二步，将锁设置为当前线程持有；\\n\\n                        CAS 函数就把这两个步骤合并成一条硬件级指令，形成**原子指令**，这样就保证了这两个步骤是不可分割的，要么一次性执行完两个步骤，要么两个步骤都不执行。\\n\\n                        使用自旋锁的时候，当发生多线程竞争锁的情况，加锁失败的线程会「忙等待」，直到它拿到锁。这里的「忙等待」可以用 `while` 循环等待实现，不过最好是使用 CPU 提供的 `PAUSE` 指令来实现「忙等待」，因为可以减少循环等待时的耗电量。\\n\\n                        自旋锁是最比较简单的一种锁，一直自旋，利用 CPU 周期，直到锁可用。**需要注意，在单核 CPU 上，需要抢占式的调度器（即不断通过时钟中断一个线程，运行其他线程）。否则，自旋锁在单 CPU 上无法使用，因为一个自旋的线程永远不会放弃 CPU。**\\n\\n                        自旋锁开销少，在多核系统下一般不会主动产生线程切换，适合异步、协程等在用户态切换请求的编程方式，但如果被锁住的代码执行时间过长，自旋的线程会长时间占用 CPU 资源，所以自旋的时间和被锁住的代码执行的时间是成「正比」的关系，我们需要清楚的知道这一点。&quot;,536871126]],[&quot;^1@&quot;,[4105,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4105,&quot;^K&quot;,4152,536871126]],[&quot;^1@&quot;,[4105,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4105,&quot;^13&quot;,4232,536871126]],[&quot;^1@&quot;,[4105,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4105,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4105,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4105,&quot;^?&quot;,&quot;~u6266bf77-51b9-464c-8ab8-d1df9a7b81b5&quot;,536871126]],[&quot;^1@&quot;,[4106,&quot;^[&quot;,&quot;它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。&quot;,536871126]],[&quot;^1@&quot;,[4106,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4106,&quot;^K&quot;,4178,536871126]],[&quot;^1@&quot;,[4106,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4106,&quot;^13&quot;,4178,536871126]],[&quot;^1@&quot;,[4106,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4106,&quot;^12&quot;,4086,536871126]],[&quot;^1@&quot;,[4106,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4106,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4106,&quot;^?&quot;,&quot;~u6266bf77-65f2-445d-a3d3-89fea3f80ec7&quot;,536871126]],[&quot;^1@&quot;,[4107,&quot;^[&quot;,&quot;*P 操作*：将 `sem` 减 `1`，相减后，如果 `sem &amp;lt; 0`，则进程/线程进入阻塞等待，否则继续，表明 P 操作可能会阻塞；\\n  \\n  相减后如果信号量 &lt; 0，则表明资源已被占用，进程需阻塞等待；\\n  相减后如果信号量 &gt;= 0，则表明还有资源可使用，进程可正常继续执行。&quot;,536871126]],[&quot;^1@&quot;,[4107,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4107,&quot;^K&quot;,4230,536871126]],[&quot;^1@&quot;,[4107,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4107,&quot;^13&quot;,4230,536871126]],[&quot;^1@&quot;,[4107,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4107,&quot;^12&quot;,4086,536871126]],[&quot;^1@&quot;,[4107,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4107,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4107,&quot;^?&quot;,&quot;~u6266bf77-d3c8-4bfa-b026-a014312d856d&quot;,536871126]],[&quot;^1@&quot;,[4108,&quot;^T&quot;,true,536873305]],[&quot;^1@&quot;,[4108,&quot;^[&quot;,&quot;系统中的多个进程之间彼此无关，它们并不知道其他进程的存在，并且也不受其他进程执行的影响。例如，批处理系统中建立的多个用户进程， 分时系统中建立的多个终端进程。由于这些进程共用了一套计算机系统资源，因而必然要出现多个进程竞争资源的问题。当多个进程竞争共享硬设备、存储器、处理器 和文件等资源时，操作系统必须协调好进程对资源的争用。&quot;,536871126]],[&quot;^1@&quot;,[4108,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4108,&quot;^K&quot;,6241,536873269]],[&quot;^1@&quot;,[4108,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4108,&quot;^13&quot;,4161,536871126]],[&quot;^1@&quot;,[4108,&quot;^12&quot;,4089,536873269]],[&quot;^1@&quot;,[4108,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4108,&quot;^?&quot;,&quot;~u6266bf77-6ef6-4e1e-830f-a8e49be5c26a&quot;,536871126]],[&quot;^1@&quot;,[4109,&quot;^[&quot;,&quot;互斥锁\\n  \\n  提供了以排他方式防止数据结构被并发修改的方法。\\n  \\n  **互斥锁**确保同一时间只能有一个线程访问共享资源。当锁被占用时试图对其加锁的线程都进入阻塞状态(释放CPU资源使其由运行状态进入等待状态)。当锁释放时哪个等待线程能获得该锁取决于内核的调度。&quot;,536871126]],[&quot;^1@&quot;,[4109,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4109,&quot;^K&quot;,4199,536871126]],[&quot;^1@&quot;,[4109,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4109,&quot;^13&quot;,4199,536871126]],[&quot;^1@&quot;,[4109,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4109,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4109,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4109,&quot;^?&quot;,&quot;~u6266bf77-6ade-4f68-9f91-2303d9b78cd8&quot;,536871126]],[&quot;^1@&quot;,[4110,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4110,&quot;^[&quot;,&quot;**临界区(CcriticalSection)**\\ncollapsed:: true\\n  \\n  通过对多线程的串行化来**访问公共资源或一段代码，速度快，适合控制数据访问**。\\n  \\n  在任意时刻只允许一个线程对共享资源进行访问，如果有多个线程试图访问公共资源，那么在有一个线程进入后，其他试图访问公共资源的线程将被挂起，并一直等到进入临界区的线程离开，临界区在被释放后，其他线程才可以抢占。\\n  \\n  不可以跨进程，忘记解锁会无限等待，要么存在要么没有，多线程访问独占性共享资源。\\n  \\n  此为效率最高，而为什么是效率最高，字节面试的时候就问了这个问题。临界区的效率最高是因为它不用陷入内核，&quot;,536871126]],[&quot;^1@&quot;,[4110,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4110,&quot;^K&quot;,4134,536871126]],[&quot;^1@&quot;,[4110,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4110,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4110,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4110,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4110,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4110,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4110,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4110,&quot;^?&quot;,&quot;~u6266bf77-fa40-4cd1-b862-513060bf5c93&quot;,536871126]],[&quot;^1@&quot;,[4111,&quot;^[&quot;,&quot;接着，当锁被释放时，之前「睡眠」状态的线程会变为「就绪」状态，然后内核会在合适的时间，把 CPU 切换给该线程运行。&quot;,536871126]],[&quot;^1@&quot;,[4111,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4111,&quot;^K&quot;,4142,536871126]],[&quot;^1@&quot;,[4111,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4111,&quot;^13&quot;,4191,536871126]],[&quot;^1@&quot;,[4111,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4111,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4111,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4111,&quot;^?&quot;,&quot;~u6266bf77-dd96-430d-9e6f-4678efd3feb1&quot;,536871126]],[&quot;^1@&quot;,[4112,&quot;^T&quot;,true,536873434]],[&quot;^1@&quot;,[4112,&quot;^[&quot;,&quot;通信概念 #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-27T16:28:18.228Z\\ncard-last-reviewed:: 2022-03-23T16:28:18.243Z\\ncard-last-score:: 3\\ncollapsed:: true\\nid:: 623b4d4e-8cd2-40dc-878e-4d07d003ada1&quot;,536871126]],[&quot;^1@&quot;,[4112,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4112,&quot;^K&quot;,4121,536873104]],[&quot;^1@&quot;,[4112,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4112,&quot;^13&quot;,4184,536871126]],[&quot;^1@&quot;,[4112,&quot;^12&quot;,2,536873104]],[&quot;^1@&quot;,[4112,&quot;^12&quot;,4089,536873104]],[&quot;^1@&quot;,[4112,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-27T16:28:18.228Z&quot;,&quot;^1R&quot;,&quot;2022-03-23T16:28:18.243Z&quot;,&quot;^1M&quot;,3,&quot;^1I&quot;,true,&quot;^1S&quot;,&quot;623b4d4e-8cd2-40dc-878e-4d07d003ada1&quot;],536873104]],[&quot;^1@&quot;,[4112,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1I&quot;,&quot;^1S&quot;]],536871126]],[&quot;^1@&quot;,[4112,&quot;^M&quot;,2,536873104]],[&quot;^1@&quot;,[4112,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4112,&quot;^?&quot;,&quot;~u623b4d4e-8cd2-40dc-878e-4d07d003ada1&quot;,536871126]],[&quot;^1@&quot;,[4114,&quot;^[&quot;,&quot;**自旋锁**\\n  \\n  上锁受阻时线程不阻塞而是在循环中轮询查看能否获得该锁(资源？)，没有线程的切换因而没有切换开销，不过对CPU的霸占会导致CPU资源的浪费。 所以自旋锁适用于并行结构(多个处理器)或者适用于锁被持有时间短而不希望在线程切换产生开销的情况。&quot;,536871126]],[&quot;^1@&quot;,[4114,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4114,&quot;^K&quot;,4109,536871126]],[&quot;^1@&quot;,[4114,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4114,&quot;^13&quot;,4199,536871126]],[&quot;^1@&quot;,[4114,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4114,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4114,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4114,&quot;^?&quot;,&quot;~u6266bf77-9225-423f-8fa3-1e6ee48ce343&quot;,536871126]],[&quot;^1@&quot;,[4115,&quot;^[&quot;,&quot;什么是原子操作&quot;,536871126]],[&quot;^1@&quot;,[4115,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4115,&quot;^K&quot;,4138,536871126]],[&quot;^1@&quot;,[4115,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4115,&quot;^13&quot;,4148,536871126]],[&quot;^1@&quot;,[4115,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4115,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4115,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4115,&quot;^?&quot;,&quot;~u6266bf77-ae07-41c7-b636-108cab33feb5&quot;,536871126]],[&quot;^1@&quot;,[4116,&quot;^[&quot;,&quot;自旋锁如何实现？&quot;,536871126]],[&quot;^1@&quot;,[4116,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4116,&quot;^K&quot;,4114,536871126]],[&quot;^1@&quot;,[4116,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4116,&quot;^13&quot;,4114,536871126]],[&quot;^1@&quot;,[4116,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4116,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4116,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4116,&quot;^?&quot;,&quot;~u6266bf77-b04d-45d4-bab2-91858e3a50b1&quot;,536871126]],[&quot;^1@&quot;,[4117,&quot;^[&quot;,&quot;应用场景-根据成本选择：\\n  \\n  自旋锁主要适用于被持有时间短，线程不希望在重新调度上花过多时间的情况。\\n  互斥锁相反&quot;,536871126]],[&quot;^1@&quot;,[4117,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4117,&quot;^K&quot;,4096,536871126]],[&quot;^1@&quot;,[4117,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4117,&quot;^13&quot;,4209,536871126]],[&quot;^1@&quot;,[4117,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4117,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4117,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4117,&quot;^?&quot;,&quot;~u6266bf77-41cf-4373-805f-5f404b69f0b0&quot;,536871126]],[&quot;^1@&quot;,[4118,&quot;^[&quot;,&quot;既然不管优先读锁还是写锁，对方可能会出现饿死问题，那么我们就不偏袒任何一方，**搞个「公平读写锁」。**\\n  \\n  公平读写锁比较简单的一种方式是**：用队列把获取锁的线程排队，不管是写线程还是读线程都按照先进先出的原则加锁即可，这样读线程仍然可以并发，也不会出现「饥饿」的现象。**\\n  \\n\\n                        互斥锁和自旋锁都是最基本的锁，读写锁可以根据场景来选择这两种锁其中的一个进行实现。&quot;,536871126]],[&quot;^1@&quot;,[4118,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4118,&quot;^K&quot;,4145,536871126]],[&quot;^1@&quot;,[4118,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4118,&quot;^13&quot;,4237,536871126]],[&quot;^1@&quot;,[4118,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4118,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4118,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4118,&quot;^?&quot;,&quot;~u6266bf77-efa4-4ca2-b772-a2336afdb9c9&quot;,536871126]],[&quot;^1@&quot;,[4119,&quot;^[&quot;,&quot;加锁的目的\\n  \\n  使⽤加锁和解锁可以解决并发线程/进程的互斥问题。\\n  \\n  保证共享资源在任意时间里，只有一个线程访问，这样就可以避免多线程导致共享数据错乱的问题。**任何想进入临界区的线程-先加锁。**若操作顺利，则线程可进入临界区；**在完成对临界资源的访问后再执行解锁操作**，以释放该临界资源\\n  \\n  如果选择了错误的锁，在一些高并发的场景可能会降低系统的性能。为了选择合适的锁，我们不仅需要清楚知道加锁的成本开销有多⼤，还需要分析业务场景中访问的 共享资源的⽅式，再来还要考虑并发访问共享资源时的冲突概率。&quot;,536871126]],[&quot;^1@&quot;,[4119,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4119,&quot;^K&quot;,4134,536871126]],[&quot;^1@&quot;,[4119,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4119,&quot;^13&quot;,4134,536871126]],[&quot;^1@&quot;,[4119,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4119,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4119,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4119,&quot;^?&quot;,&quot;~u6266bf77-38f5-49eb-a24c-d92bb1c017f2&quot;,536871126]],[&quot;^1@&quot;,[4120,&quot;^[&quot;,&quot;包括无名线程信号量和命名线程信号量&quot;,536871126]],[&quot;^1@&quot;,[4120,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4120,&quot;^K&quot;,4226,536871126]],[&quot;^1@&quot;,[4120,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4120,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4120,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4120,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4120,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4120,&quot;^?&quot;,&quot;~u6266bf77-4a57-4263-b7dc-1069391c3f79&quot;,536871126]],[&quot;^1@&quot;,[4121,&quot;^1F&quot;,&quot;-e4--ba--92--e6--96--a5-_-26-_-e5--90--8c--e6--ad--a5-&quot;,536873101]],[&quot;^1@&quot;,[4121,&quot;^T&quot;,true,536873431]],[&quot;^1@&quot;,[4121,&quot;^[&quot;,&quot;互斥 &amp; 同步\\ncollapsed:: true&quot;,536873101]],[&quot;^1@&quot;,[4121,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4121,&quot;^K&quot;,4240,536873110]],[&quot;^1@&quot;,[4121,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4121,&quot;^13&quot;,4184,536873095]],[&quot;^1@&quot;,[4121,&quot;^12&quot;,4089,536873110]],[&quot;^1@&quot;,[4121,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536873110]],[&quot;^1@&quot;,[4121,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4121,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4121,&quot;^?&quot;,&quot;~u6266bf77-2532-4224-8c11-a262fa075600&quot;,536871126]],[&quot;^1@&quot;,[4122,&quot;^[&quot;,&quot;接着，当进程 A 生产完数据后，执行了 V 操作，就会使得信号量变为 0，于是就会唤醒阻塞在 P 操作的进程 B；&quot;,536871126]],[&quot;^1@&quot;,[4122,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4122,&quot;^K&quot;,4221,536871126]],[&quot;^1@&quot;,[4122,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4122,&quot;^13&quot;,4170,536871126]],[&quot;^1@&quot;,[4122,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4122,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4122,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4122,&quot;^?&quot;,&quot;~u6266bf77-1d26-47c5-8eb1-80c25911ba4f&quot;,536871126]],[&quot;^1@&quot;,[4123,&quot;^[&quot;,&quot;怎么表示互斥量&quot;,536871126]],[&quot;^1@&quot;,[4123,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4123,&quot;^K&quot;,4131,536871126]],[&quot;^1@&quot;,[4123,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4123,&quot;^13&quot;,4173,536871126]],[&quot;^1@&quot;,[4123,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4123,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4123,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4123,&quot;^?&quot;,&quot;~u6266bf77-1e75-4d9c-ad79-e2a9fdedced4&quot;,536871126]],[&quot;^1@&quot;,[4124,&quot;^[&quot;,&quot;临界区\\n  \\n  临界区用来保证在同一时刻只有一个线程可以访问到资源，对于临界区进行操作的函数有两个：\\n  \\n  ```\\n  EnterCriticalSection();\\n  LeaveCriticalSection();\\n  ```\\n  \\n  临界区最大的特色是其同步速度很快，但是其只能用来同步本进程内的线程，而不可用来同步多个进程中的线程。&quot;,536871126]],[&quot;^1@&quot;,[4124,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4124,&quot;^K&quot;,4101,536871126]],[&quot;^1@&quot;,[4124,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4124,&quot;^13&quot;,4101,536871126]],[&quot;^1@&quot;,[4124,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4124,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4124,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4124,&quot;^?&quot;,&quot;~u6266bf77-6c07-4fd3-a771-e96e77d4b292&quot;,536871126]],[&quot;^1@&quot;,[4125,&quot;^[&quot;,&quot;互斥的方式，可保证任意时刻只有一个线程访问共享资源；互斥也并不是只针对多线程。在多进程竞争共享资源的时候，也同样是可以使用互斥的方式来避免资源竞争造成的资源混乱。&quot;,536871126]],[&quot;^1@&quot;,[4125,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4125,&quot;^K&quot;,4238,536871126]],[&quot;^1@&quot;,[4125,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4125,&quot;^13&quot;,4108,536871126]],[&quot;^1@&quot;,[4125,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4125,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4125,&quot;^?&quot;,&quot;~u6266bf77-057c-4423-b630-6500f9b2d8b1&quot;,536871126]],[&quot;^1@&quot;,[4126,&quot;^[&quot;,&quot;读写锁 - 应用场景\\n  \\n  读写锁适用于能明确区分读操作和写操作的场景(例如 数据库)\\n  \\n  所以说，写锁是独占锁，因为任何时刻只能有一个线程持有写锁，类似互斥锁和自旋锁，而读锁是共享锁，因为读锁可以被多个线程同时持有。&quot;,536871126]],[&quot;^1@&quot;,[4126,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4126,&quot;^K&quot;,4194,536871126]],[&quot;^1@&quot;,[4126,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4126,&quot;^13&quot;,4239,536871126]],[&quot;^1@&quot;,[4126,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4126,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4126,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4126,&quot;^?&quot;,&quot;~u6266bf77-5652-4287-8f17-a54e8629dfe0&quot;,536871126]],[&quot;^1@&quot;,[4127,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4127,&quot;^[&quot;,&quot;**互斥量（Mutex Semaphore（又名Mutex））**\\ncollapsed:: true\\n  \\n  互斥与临界区很相似，但是使用时相对复杂一些（互斥量为内核对象），不仅可以在同一应用程序的线程间实现同步，还可以在不同的进程间实现同步，从而实现资源的安全共享。(互斥量就是互斥锁？)&quot;,536871126]],[&quot;^1@&quot;,[4127,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4127,&quot;^K&quot;,4110,536871126]],[&quot;^1@&quot;,[4127,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4127,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4127,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4127,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4127,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4127,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4127,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4127,&quot;^?&quot;,&quot;~u6266bf77-5bbd-44cd-8e9f-5afa707ce4ed&quot;,536871126]],[&quot;^1@&quot;,[4128,&quot;^[&quot;,&quot;CAS（Compare And Swap）&quot;,536871126]],[&quot;^1@&quot;,[4128,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4128,&quot;^K&quot;,4095,536871126]],[&quot;^1@&quot;,[4128,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4128,&quot;^13&quot;,4116,536871126]],[&quot;^1@&quot;,[4128,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4128,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4128,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4128,&quot;^?&quot;,&quot;~u6266bf77-bc7a-4952-9c25-cd2b8f387fc1&quot;,536871126]],[&quot;^1@&quot;,[4129,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4129,&quot;^[&quot;,&quot;信号量why意义 -为共享内存服务\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4129,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4129,&quot;^K&quot;,4139,536871126]],[&quot;^1@&quot;,[4129,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4129,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4129,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4129,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4129,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4129,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4129,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4129,&quot;^?&quot;,&quot;~u6266bf77-4507-440b-b193-28d1a5c9cb29&quot;,536871126]],[&quot;^1@&quot;,[4130,&quot;^[&quot;,&quot;把 `old_ptr` 更新为 `new` 的新值&quot;,536871126]],[&quot;^1@&quot;,[4130,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4130,&quot;^K&quot;,4138,536871126]],[&quot;^1@&quot;,[4130,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4130,&quot;^13&quot;,4138,536871126]],[&quot;^1@&quot;,[4130,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4130,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4130,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4130,&quot;^?&quot;,&quot;~u6266bf77-e129-4706-9404-2e82239b7b02&quot;,536871126]],[&quot;^1@&quot;,[4131,&quot;^[&quot;,&quot;可以跨进程，忘记解锁会自动释放，要么存在要么没有。&quot;,536871126]],[&quot;^1@&quot;,[4131,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4131,&quot;^K&quot;,4167,536871126]],[&quot;^1@&quot;,[4131,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4131,&quot;^13&quot;,4173,536871126]],[&quot;^1@&quot;,[4131,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4131,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4131,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4131,&quot;^?&quot;,&quot;~u6266bf77-7f99-4794-8027-9ea2ca8e85e5&quot;,536871126]],[&quot;^1@&quot;,[4132,&quot;^[&quot;,&quot;无等待锁顾明思议就是获取不到锁的时候，不用自旋。\\n  \\n  既然不想自旋，那当没获取到锁的时候，就把当前线程放入到锁的等待队列，然后执行调度程序，把 CPU 让给其他线程执行。\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4c176030-9594-495b-8adc-205c30122f2e/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4c176030-9594-495b-8adc-205c30122f2e/Untitled.png)&quot;,536871126]],[&quot;^1@&quot;,[4132,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4132,&quot;^K&quot;,4185,536871126]],[&quot;^1@&quot;,[4132,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4132,&quot;^13&quot;,4109,536871126]],[&quot;^1@&quot;,[4132,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4132,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4132,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4132,&quot;^?&quot;,&quot;~u6266bf77-8a56-4f24-8529-e9bb4e7b787b&quot;,536871126]],[&quot;^1@&quot;,[4134,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4134,&quot;^[&quot;,&quot;pre：锁(lock)\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4134,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4134,&quot;^K&quot;,4177,536871126]],[&quot;^1@&quot;,[4134,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4134,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4134,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4134,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4134,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4134,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4134,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4134,&quot;^?&quot;,&quot;~u6266bf77-8f21-4677-ac13-8660b1020ccb&quot;,536871126]],[&quot;^1@&quot;,[4135,&quot;^[&quot;,&quot;当「写锁」没有被线程持有时，多个线程能够并发地持有读锁，这大大提高了共享资源的访问效率，因为「读锁」是用于读取共享资源的场景，所以多个线程同时持有读锁也不会破坏共享资源的数据。&quot;,536871126]],[&quot;^1@&quot;,[4135,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4135,&quot;^K&quot;,4194,536871126]],[&quot;^1@&quot;,[4135,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4135,&quot;^13&quot;,4194,536871126]],[&quot;^1@&quot;,[4135,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4135,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4135,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4135,&quot;^?&quot;,&quot;~u6266bf77-91b0-481a-8c5f-265725c588f3&quot;,536871126]],[&quot;^1@&quot;,[4136,&quot;^1F&quot;,&quot;-e5--8f--88--e5--8f--ab--e7--ba--bf--e7--a8--8b--e8--a7--a6--e5--8f--91--e5--99--a8--ef--bc--8c--e4--b8--8d--e5--8f--af--e4--bb--a5--e8--b7--a8--e8--bf--9b--e7--a8--8b--ef--bc--8c--e8--a6--81--e4--b9--88--e5--ad--98--e5--9c--a8--e8--a6--81--e4--b9--88--e6--b2--a1--e6--9c--89--ef--bc--8c--e4--b8--80--e4--b8--aa--e7--ba--bf--e7--a8--8b--e6--9d--a5--e5--94--a4--e9--86--92--e5--8f--a6--e4--b8--80--e4--b8--aa--e7--ba--bf--e7--a8--8b--ef--bc--88--e5--8c--85--e6--8b--ac--e8--87--aa--e5--8a--a8--e5--92--8c--e4--ba--ba--e5--b7--a5--e4--b8--a4--e7--a7--8d--e6--96--b9--e5--bc--8f--ef--bc--89-&quot;,536873460]],[&quot;^1@&quot;,[4136,&quot;^[&quot;,&quot;又叫线程触发器，不可以跨进程，要么存在要么没有，一个线程来唤醒另一个线程（包括自动和人工两种方式）\\n\\n事件Event对象是内核对象，代表系统的某一个状态（如），每一个事件都对应了一个事件触发函数。\\n&quot;,536873468]],[&quot;^1@&quot;,[4136,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4136,&quot;^K&quot;,4150,536871126]],[&quot;^1@&quot;,[4136,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4136,&quot;^13&quot;,4150,536871126]],[&quot;^1@&quot;,[4136,&quot;^12&quot;,2,536873468]],[&quot;^1@&quot;,[4136,&quot;^12&quot;,4089,536873468]],[&quot;^1@&quot;,[4136,&quot;^D&quot;,[&quot;^ &quot;],536873468]],[&quot;^1@&quot;,[4136,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4136,&quot;^?&quot;,&quot;~u6266bf77-d4f3-4802-9e23-809833f3cba2&quot;,536871126]],[&quot;^1@&quot;,[4137,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4137,&quot;^[&quot;,&quot;四种常见[算法](https://www.cnblogs.com/xiaolincoding/p/13346658.html)\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4137,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4137,&quot;^K&quot;,4215,536871126]],[&quot;^1@&quot;,[4137,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4137,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4137,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4137,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4137,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4137,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4137,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4137,&quot;^?&quot;,&quot;~u6266bf77-c630-4509-a481-2c80d73d793c&quot;,536871126]],[&quot;^1@&quot;,[4138,&quot;^[&quot;,&quot;原子执行\\n  \\n  ```cpp\\n  // google 命名风格： 函数驼峰， 变量下划线\\n  int TestAndSet(int *old_ptr, int new)\\n  {\\n  \\t\\tint old = *old_ptr;\\n  \\t\\t*old_ptr = new;\\n  \\t\\treturn old;\\n  }\\n  ```\\n  \\n  这些代码是原子执行。因为既可以测试旧值，又可以设置新值，所以我们把这条指令叫作「测试并设置」。测试并设置指令做了下述事情:&quot;,536871126]],[&quot;^1@&quot;,[4138,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4138,&quot;^K&quot;,4148,536871126]],[&quot;^1@&quot;,[4138,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4138,&quot;^13&quot;,4148,536871126]],[&quot;^1@&quot;,[4138,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4138,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4138,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4138,&quot;^?&quot;,&quot;~u6266bf77-4179-4e22-a436-aeef725b392d&quot;,536871126]],[&quot;^1@&quot;,[4139,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4139,&quot;^[&quot;,&quot;*信号量*：P、V 操作；\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4139,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4139,&quot;^K&quot;,4222,536871126]],[&quot;^1@&quot;,[4139,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4139,&quot;^13&quot;,4222,536871126]],[&quot;^1@&quot;,[4139,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4139,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4139,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4139,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4139,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4139,&quot;^?&quot;,&quot;~u6266bf77-9af9-4975-9e4d-71684bca1db0&quot;,536871126]],[&quot;^1@&quot;,[4140,&quot;^[&quot;,&quot;总结（待整理）\\n  \\n  \\n  |  | 互斥锁 | 自旋锁 |\\n  | --- | --- | --- |\\n  | 加锁失败 | 进行线程切换 | 不会主动产生线程切换，而是一直忙等待，直到获取到锁 |\\n  | 加锁失败开销 | 上下文切换 | CPU占用 |\\n  \\n  开发过程中，最常见的就是互斥锁的了，互斥锁加锁失败时，会用「线程切换」来应对，当加锁失败的线程再次加锁成功后的这一过程，会有两次线程上下文切换的成本，性能损耗比较大。\\n  \\n  如果我们明确知道被锁住的代码的执行时间很短，那我们应该选择开销比较小的自旋锁，因为自旋锁加锁失败时，并不会主动产生线程切换，而是一直忙等待，直到获取到锁，那么如果被锁住的代码执行时间很短，那这个忙等待的时间相对应也很短。\\n  \\n  读写锁允许多个读线程可以同时持有读锁，提高了读的并发性。根据偏袒读方还是写方，可以分为读优先锁和写优先锁，读优先锁并发性很强，但是写线程会被饿死，而写优先锁会优先服务写线程，读线程也可能会被饿死，那为了避免饥饿的问题，于是就有了公平读写锁，它是用队列把请求锁的线程排队，并保证先入先出的原则来对线程加锁，这样便保证了某种线程不会被饿死，通用性也更好点。读写锁可以根据场景来选择互斥锁、自旋锁这两种锁其中的一个进行实现。\\n  \\n  另外，互斥锁、自旋锁、读写锁都属于悲观锁，悲观锁认为并发访问共享资源时，冲突概率可能非常高，所以在访问共享资源前，都需要先加锁。\\n  \\n  相反的，如果并发访问共享资源时，冲突概率非常低的话，就可以使用乐观锁，它的工作方式是，在访问共享资源时，不用先加锁，修改完共享资源后，再验证这段时间内有没有发生冲突，如果没有其他线程在修改资源，那么操作完成，如果发现有其他线程已经修改过这个资源，就放弃本次操作。\\n  \\n  但是，一旦冲突概率上升，就不适合使用乐观锁了，因为它解决冲突的重试成本非常高。\\n  \\n  不管使用的哪种锁，我们的加锁的代码范围应该尽可能的小，也就是加锁的粒度要小，这样执行速度会比较快。再来，使用上了合适的锁，就会快上加快了。&quot;,536871126]],[&quot;^1@&quot;,[4140,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4140,&quot;^K&quot;,4197,536871126]],[&quot;^1@&quot;,[4140,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4140,&quot;^13&quot;,4166,536871126]],[&quot;^1@&quot;,[4140,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4140,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4140,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4140,&quot;^?&quot;,&quot;~u6266bf77-5a03-432c-8f41-05d4cf767b3d&quot;,536871126]],[&quot;^1@&quot;,[4141,&quot;^[&quot;,&quot;**自旋锁**加锁失败后，线程会**忙等待**，直到它拿到锁；\\n  \\n  自旋锁是通过 CPU 提供的 `CAS` 函数（Compare And Swap），在「用户态」完成加锁和解锁操作，不会主动产生线程上下文切换，所以相比互斥锁来说，会快一些，开销也小一些。&quot;,536871126]],[&quot;^1@&quot;,[4141,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4141,&quot;^K&quot;,4211,536871126]],[&quot;^1@&quot;,[4141,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4141,&quot;^13&quot;,4209,536871126]],[&quot;^1@&quot;,[4141,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4141,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4141,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4141,&quot;^?&quot;,&quot;~u6266bf77-dd54-4ba1-8a76-d9064160feeb&quot;,536871126]],[&quot;^1@&quot;,[4142,&quot;^[&quot;,&quot;当线程加锁失败时，内核会把线程的状态从「运行」状态设置为「睡眠」状态，然后把 CPU 切换给其他线程运行；&quot;,536871126]],[&quot;^1@&quot;,[4142,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4142,&quot;^K&quot;,4191,536871126]],[&quot;^1@&quot;,[4142,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4142,&quot;^13&quot;,4191,536871126]],[&quot;^1@&quot;,[4142,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4142,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4142,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4142,&quot;^?&quot;,&quot;~u6266bf77-7e6c-4fcf-a22f-2fe5c4749d1b&quot;,536871126]],[&quot;^1@&quot;,[4143,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4143,&quot;^[&quot;,&quot;PV 操作 应用？\\ncollapsed:: true\\n  \\n  信号量不仅可以实现临界区的互斥访问控制，还可以线程间的事件同步。&quot;,536871126]],[&quot;^1@&quot;,[4143,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4143,&quot;^K&quot;,4208,536871126]],[&quot;^1@&quot;,[4143,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4143,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4143,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4143,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4143,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4143,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4143,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4143,&quot;^?&quot;,&quot;~u6266bf77-fbdf-4e20-83b7-905a635db609&quot;,536871126]],[&quot;^1@&quot;,[4144,&quot;^[&quot;,&quot;并发，时钟中断等情况称为**竞争条件（race condition）**，当多线程相互竞争操作共享变量时，由于运气不好，即在执行过程中发生了上下文切换，我们得到了错误的结果，事实上，每次运行都可能得到不同的结果，因此输出的结果存在**不确定性**（**indeterminate**）&quot;,536871126]],[&quot;^1@&quot;,[4144,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4144,&quot;^K&quot;,4108,536871126]],[&quot;^1@&quot;,[4144,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4144,&quot;^13&quot;,4108,536871126]],[&quot;^1@&quot;,[4144,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4144,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4144,&quot;^?&quot;,&quot;~u6266bf77-3a52-4187-9a51-90153c96b1ad&quot;,536871126]],[&quot;^1@&quot;,[4145,&quot;^[&quot;,&quot;写优先锁&quot;,536871126]],[&quot;^1@&quot;,[4145,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4145,&quot;^K&quot;,4093,536871126]],[&quot;^1@&quot;,[4145,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4145,&quot;^13&quot;,4237,536871126]],[&quot;^1@&quot;,[4145,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4145,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4145,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4145,&quot;^?&quot;,&quot;~u6266bf77-a684-4a9d-9e3d-a33c8b04d31d&quot;,536871126]],[&quot;^1@&quot;,[4146,&quot;^[&quot;,&quot;悲观锁的实现方式是加锁，加锁既可以是对代码块加锁（如Java的synchronized关键字），也可以是对数据加锁（如MySQL中的排它锁）。&quot;,536871126]],[&quot;^1@&quot;,[4146,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4146,&quot;^K&quot;,4207,536871126]],[&quot;^1@&quot;,[4146,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4146,&quot;^13&quot;,4207,536871126]],[&quot;^1@&quot;,[4146,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4146,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4146,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4146,&quot;^?&quot;,&quot;~u6266bf77-e885-4481-8d61-029ff263f46b&quot;,536871126]],[&quot;^1@&quot;,[4147,&quot;^[&quot;,&quot;线程的上下文切换的是什么？&quot;,536871126]],[&quot;^1@&quot;,[4147,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4147,&quot;^K&quot;,4191,536871126]],[&quot;^1@&quot;,[4147,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4147,&quot;^13&quot;,4158,536871126]],[&quot;^1@&quot;,[4147,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4147,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4147,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4147,&quot;^?&quot;,&quot;~u6266bf77-60b5-422e-ac07-a05e9a31bf6b&quot;,536871126]],[&quot;^1@&quot;,[4148,&quot;^[&quot;,&quot;背景知识：CPU 体系结构提供的特殊原子操作指令 ——测试和置位（Test-and-Set）指令&quot;,536871126]],[&quot;^1@&quot;,[4148,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4148,&quot;^K&quot;,4116,536871126]],[&quot;^1@&quot;,[4148,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4148,&quot;^13&quot;,4116,536871126]],[&quot;^1@&quot;,[4148,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4148,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4148,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4148,&quot;^?&quot;,&quot;~u6266bf77-54ec-4bdb-8a88-0f0c8441f3ea&quot;,536871126]],[&quot;^1@&quot;,[4149,&quot;^[&quot;,&quot;第二种场景是，当某一个线程已经持有锁（即 `flag` 为1）。本线程调用 `lock()`，然后调用 `TestAndSet(flag, 1)`，这一次返回 1。只要另一个线程一直持有锁，`TestAndSet()` 会重复返回 1，本线程会一直**忙等**。当 `flag` 终于被改为 0，本线程会调用 `TestAndSet()`，返回 0 并且原子地设置为 1，从而获得锁，进入临界区。\\n\\n                            很明显，当获取不到锁时，线程就会一直 wile 循环，不做任何事情，所以就被称为「忙等待锁」，也被称为**自旋锁（*spin lock*）**。\\n\\n                            这是最简单的一种锁，一直自旋，利用 CPU 周期，直到锁可用。在单处理器上，需要抢占式的调度器（即不断通过时钟中断一个线程，运行其他线程）。否则，自旋锁在单 CPU 上无法使用，**因为一个自旋的线程永远不会放弃 CPU。**\\n\\n\\n                        自旋锁是通过 CPU 提供的 `CAS` 函数（Compare And Swap）实现的。  CAS 函数就把这两个步骤合并成一条硬件级指令，形成**原子指令**，这样就保证了这两个步骤是不可分割的，要么一次性执行完两个步骤，要么两个步骤都不执行。&quot;,536871126]],[&quot;^1@&quot;,[4149,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4149,&quot;^K&quot;,4155,536871126]],[&quot;^1@&quot;,[4149,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4149,&quot;^13&quot;,4153,536871126]],[&quot;^1@&quot;,[4149,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4149,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4149,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4149,&quot;^?&quot;,&quot;~u6266bf77-e708-4d52-b128-51a727fc42a6&quot;,536871126]],[&quot;^1@&quot;,[4150,&quot;^T&quot;,true,536873471]],[&quot;^1@&quot;,[4150,&quot;^[&quot;,&quot;1.什么是事件？\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4150,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4150,&quot;^K&quot;,4094,536871126]],[&quot;^1@&quot;,[4150,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4150,&quot;^13&quot;,4094,536871126]],[&quot;^1@&quot;,[4150,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4150,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4150,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4150,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4150,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4150,&quot;^?&quot;,&quot;~u6266bf77-ef97-4015-a141-f22c5f088062&quot;,536871126]],[&quot;^1@&quot;,[4151,&quot;^[&quot;,&quot;如果互斥信号量为 0，表示有一个线程进入临界区；&quot;,536871126]],[&quot;^1@&quot;,[4151,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4151,&quot;^K&quot;,4235,536871126]],[&quot;^1@&quot;,[4151,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4151,&quot;^13&quot;,4210,536871126]],[&quot;^1@&quot;,[4151,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4151,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4151,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4151,&quot;^?&quot;,&quot;~u6266bf77-c068-4db1-83f4-e362e4af7718&quot;,536871126]],[&quot;^1@&quot;,[4152,&quot;^[&quot;,&quot;第一步，查看锁的状态，如果锁是空闲的，则执行第二步；&quot;,536871126]],[&quot;^1@&quot;,[4152,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4152,&quot;^K&quot;,4232,536871126]],[&quot;^1@&quot;,[4152,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4152,&quot;^13&quot;,4232,536871126]],[&quot;^1@&quot;,[4152,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4152,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4152,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4152,&quot;^?&quot;,&quot;~u6266bf77-da9b-431a-91f9-808b29fb088b&quot;,536871126]],[&quot;^1@&quot;,[4153,&quot;^[&quot;,&quot;实现「忙等待锁」：\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ba7e2174-e567-4e60-a2ee-a11069d7d560/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ba7e2174-e567-4e60-a2ee-a11069d7d560/Untitled.png)\\n  \\n  我们来确保理解为什么这个锁能工作：&quot;,536871126]],[&quot;^1@&quot;,[4153,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4153,&quot;^K&quot;,4148,536871126]],[&quot;^1@&quot;,[4153,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4153,&quot;^13&quot;,4116,536871126]],[&quot;^1@&quot;,[4153,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4153,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4153,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4153,&quot;^?&quot;,&quot;~u6266bf77-f9a8-4949-afb7-07dfdb460c25&quot;,536871126]],[&quot;^1@&quot;,[4154,&quot;^[&quot;,&quot;**2、高竞争下的开销问题**\\n  \\n  在并发冲突概率大的高竞争环境下，如果CAS一直失败，会一直重试，CPU开销较大。针对这个问题的一个思路是引入退出机制，如重试次数超过一定阈值后失败退出。当然，更重要的是避免在高竞争环境下使用乐观锁。&quot;,536871126]],[&quot;^1@&quot;,[4154,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4154,&quot;^K&quot;,4214,536871126]],[&quot;^1@&quot;,[4154,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4154,&quot;^13&quot;,4102,536871126]],[&quot;^1@&quot;,[4154,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4154,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4154,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4154,&quot;^?&quot;,&quot;~u6266bf77-b07a-4def-88cc-3497818abd73&quot;,536871126]],[&quot;^1@&quot;,[4155,&quot;^[&quot;,&quot;第一个场景是，首先假设一个线程在运行，调用 `lock()`，没有其他线程持有锁，所以 `flag` 是 0。当调用 `TestAndSet(flag, 1)` 方法，返回 0，线程会跳出 while 循环，获取锁。同时也会原子的设置 flag 为1，标志锁已经被持有。当线程离开临界区，调用 `unlock()` 将 `flag` 清理为 0。&quot;,536871126]],[&quot;^1@&quot;,[4155,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4155,&quot;^K&quot;,4153,536871126]],[&quot;^1@&quot;,[4155,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4155,&quot;^13&quot;,4153,536871126]],[&quot;^1@&quot;,[4155,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4155,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4155,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4155,&quot;^?&quot;,&quot;~u6266bf77-3656-4286-b619-ba50d951e53e&quot;,536871126]],[&quot;^1@&quot;,[4156,&quot;^[&quot;,&quot;由于发生冲突的概率比较低，所以先让用户编辑文档，但是浏览器在下载文档时会记录下服务端返回的文档版本号；&quot;,536871126]],[&quot;^1@&quot;,[4156,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4156,&quot;^K&quot;,4179,536871126]],[&quot;^1@&quot;,[4156,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4156,&quot;^13&quot;,4179,536871126]],[&quot;^1@&quot;,[4156,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4156,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4156,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4156,&quot;^?&quot;,&quot;~u6266bf77-b0e0-485b-83df-59ce495f0895&quot;,536871126]],[&quot;^1@&quot;,[4157,&quot;^[&quot;,&quot;**实现事件同步**\\n  \\n  同步的方式是设置一个信号量，其初值为 `0`。\\n  \\n  我们把前面的「吃饭-做饭」同步的例子，用代码的方式实现一下：\\n  \\n  [https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS80MmVmNjQ2NS1iN2ZkLTRmZmMtOTIyOS0zZmIwMzAzYjlhY2YucG5n?x-oss-process=image/format,png](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS80MmVmNjQ2NS1iN2ZkLTRmZmMtOTIyOS0zZmIwMzAzYjlhY2YucG5n?x-oss-process=image/format,png)\\n  \\n  妈妈一开始询问儿子要不要做饭时，执行的是 `P(s1)` ，相当于询问儿子需不需要吃饭，由于 `s1` 初始值为 0，此时 `s1` 变成 -1，表明儿子不需要吃饭，所以妈妈线程就进入等待状态。\\n  \\n  当儿子肚子饿时，执行了 `V(s1)`，使得 `s1` 信号量从 -1 变成 0，表明此时儿子需要吃饭了，于是就唤醒了阻塞中的妈妈线程，妈妈线程就开始做饭。\\n  \\n  接着，儿子线程执行了 `P(s2)`，相当于询问妈妈饭做完了吗，由于 `s2` 初始值是 0，则此时 `s2` 变成 -1，说明妈妈还没做完饭，儿子线程就等待状态。\\n  \\n  最后，妈妈终于做完饭了，于是执行 `V(s2)`，`s2` 信号量从 -1 变回了 0，于是就唤醒等待中的儿子线程，唤醒后，儿子线程就可以进行吃饭了。&quot;,536871126]],[&quot;^1@&quot;,[4157,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4157,&quot;^K&quot;,4210,536871126]],[&quot;^1@&quot;,[4157,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4157,&quot;^13&quot;,4143,536871126]],[&quot;^1@&quot;,[4157,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4157,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4157,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4157,&quot;^?&quot;,&quot;~u6266bf77-6b8d-47dd-bab3-313241a9d3e7&quot;,536871126]],[&quot;^1@&quot;,[4158,&quot;^[&quot;,&quot;所以，互斥锁加锁失败时，会从用户态陷入到内核态，让内核帮我们切换线程，虽然简化了使用锁的难度，但是存在一定的**性能开销成本**。&quot;,536871126]],[&quot;^1@&quot;,[4158,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4158,&quot;^K&quot;,4211,536871126]],[&quot;^1@&quot;,[4158,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4158,&quot;^13&quot;,4211,536871126]],[&quot;^1@&quot;,[4158,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4158,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4158,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4158,&quot;^?&quot;,&quot;~u6266bf77-6cde-4e70-bf44-e4ff3d6e52a1&quot;,536871126]],[&quot;^1@&quot;,[4159,&quot;^1F&quot;,&quot;-e5--8d--8f--e4--bd--9c--e5--85--b3--e7--b3--bb--c2--a0--c2--a0--26-_-e5--90--8c--e6--ad--a5-&quot;,536873339]],[&quot;^1@&quot;,[4159,&quot;^T&quot;,true,536873425]],[&quot;^1@&quot;,[4159,&quot;^[&quot;,&quot;**协作关系  &amp; 同步**\\ncollapsed:: true&quot;,536873341]],[&quot;^1@&quot;,[4159,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4159,&quot;^K&quot;,4161,536871126]],[&quot;^1@&quot;,[4159,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4159,&quot;^13&quot;,4121,536871126]],[&quot;^1@&quot;,[4159,&quot;^12&quot;,4089,536873341]],[&quot;^1@&quot;,[4159,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536873341]],[&quot;^1@&quot;,[4159,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4159,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4159,&quot;^?&quot;,&quot;~u6266bf77-76ed-4044-b79d-6d909e1eec62&quot;,536871126]],[&quot;^1@&quot;,[4160,&quot;^[&quot;,&quot;通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作&quot;,536871126]],[&quot;^1@&quot;,[4160,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4160,&quot;^K&quot;,6255,536873468]],[&quot;^1@&quot;,[4160,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4160,&quot;^13&quot;,4150,536871126]],[&quot;^1@&quot;,[4160,&quot;^12&quot;,2,536873468]],[&quot;^1@&quot;,[4160,&quot;^12&quot;,4089,536873468]],[&quot;^1@&quot;,[4160,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4160,&quot;^?&quot;,&quot;~u6266bf77-fbcd-463a-a690-8f234a7bdab4&quot;,536871126]],[&quot;^1@&quot;,[4161,&quot;^T&quot;,true,536873419]],[&quot;^1@&quot;,[4161,&quot;^[&quot;,&quot;**竞争关系 &amp; 互斥**\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4161,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4161,&quot;^K&quot;,6233,536873110]],[&quot;^1@&quot;,[4161,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4161,&quot;^13&quot;,4121,536871126]],[&quot;^1@&quot;,[4161,&quot;^12&quot;,4089,536873110]],[&quot;^1@&quot;,[4161,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536873110]],[&quot;^1@&quot;,[4161,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4161,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4161,&quot;^?&quot;,&quot;~u6266bf77-15be-461b-be6f-15b76850603a&quot;,536871126]],[&quot;^1@&quot;,[4162,&quot;^[&quot;,&quot;直到进程 A 访问完共享内存，才会执行 V 操作，使得信号量恢复为 0，接着就会唤醒阻塞中的线程 B，使得进程 B 可以访问共享内存，最后完成共享内存的访问后，执行 V 操作，使信号量恢复到初始值 1。\\n\\n            可以发现，信号初始化为 `1`，就代表着是**互斥信号量**，它可以保证共享内存在任何时刻只有一个进程在访问，这就很好的保护了共享内存。\\n\\n            另外，在多进程里，每个进程并不一定是顺序执行的，它们基本是以各自独立的、不可预知的速度向前推进，但有时候我们又希望多个进程能密切合作，以实现一个共同的任务。\\n\\n            [https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS80YmI2YmUwMS0wY2JhLTRhMzUtYTkzMS1iZmE5ODFlNGViZDkucG5n?x-oss-process=image/format,png](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS80YmI2YmUwMS0wY2JhLTRhMzUtYTkzMS1iZmE5ODFlNGViZDkucG5n?x-oss-process=image/format,png)&quot;,536871126]],[&quot;^1@&quot;,[4162,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4162,&quot;^K&quot;,4196,536871126]],[&quot;^1@&quot;,[4162,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4162,&quot;^13&quot;,4103,536871126]],[&quot;^1@&quot;,[4162,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4162,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4162,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4162,&quot;^?&quot;,&quot;~u6266bf77-143b-46c7-a21f-3b092edbb5ee&quot;,536871126]],[&quot;^1@&quot;,[4163,&quot;^[&quot;,&quot;悲观锁：\\n  \\n  前面提到的互斥锁、自旋锁、读写锁，都是属于悲观锁。\\n  \\n  悲观锁做事比较悲观，它认为**多线程同时修改共享资源的概率比较高，于是很容易出现冲突，所以访问共享资源前，先要上锁**。\\n  \\n  相反，如果多线程同时修改共享资源的概率比较低，就可以采用乐观锁。&quot;,536871126]],[&quot;^1@&quot;,[4163,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4163,&quot;^K&quot;,4197,536871126]],[&quot;^1@&quot;,[4163,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4163,&quot;^13&quot;,4197,536871126]],[&quot;^1@&quot;,[4163,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4163,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4163,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4163,&quot;^?&quot;,&quot;~u6266bf77-fb9a-4e2b-bc98-ecc52a5cdad1&quot;,536871126]],[&quot;^1@&quot;,[4164,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4164,&quot;^[&quot;,&quot;[银行家算法](https://blog.csdn.net/qq_33414271/article/details/80245715) - 避免死锁\\ncollapsed:: true\\n  \\n  一句话：当一个进程申请使用资源的时候，银行家算法通过先 **试探** 分配给该进程资源，然后通过**安全性算法**判断分配后的系统**是否处于安全状态**，若不安全则试探分配作废，让该进程继续等待。&quot;,536871126]],[&quot;^1@&quot;,[4164,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4164,&quot;^K&quot;,4174,536871126]],[&quot;^1@&quot;,[4164,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4164,&quot;^13&quot;,4137,536871126]],[&quot;^1@&quot;,[4164,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4164,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4164,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4164,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4164,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4164,&quot;^?&quot;,&quot;~u6266bf77-6cab-470f-9b53-12b2ac0f3c4f&quot;,536871126]],[&quot;^1@&quot;,[4165,&quot;^1F&quot;,&quot;-e8--b5--84--e6--ba--90--e7--ab--9e--e4--ba--89--e5--87--ba--e7--8e--b0--e4--ba--86--e4--b8--a4--e4--b8--aa--e6--8e--a7--e5--88--b6--e9--97--ae--e9--a2--98--ef--bc--9a-&quot;,536873278]],[&quot;^1@&quot;,[4165,&quot;^T&quot;,true,536873302]],[&quot;^1@&quot;,[4165,&quot;^[&quot;,&quot;资源竞争出现了两个控制问题：\\n&quot;,536873287]],[&quot;^1@&quot;,[4165,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4165,&quot;^K&quot;,4108,536873284]],[&quot;^1@&quot;,[4165,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4165,&quot;^13&quot;,4161,536873284]],[&quot;^1@&quot;,[4165,&quot;^12&quot;,4089,536873287]],[&quot;^1@&quot;,[4165,&quot;^D&quot;,[&quot;^ &quot;],536873287]],[&quot;^1@&quot;,[4165,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4165,&quot;^?&quot;,&quot;~u6266bf77-70bf-4233-87a9-ddab2b596807&quot;,536871126]],[&quot;^1@&quot;,[4166,&quot;^[&quot;,&quot;种类&amp; 定义&quot;,536871126]],[&quot;^1@&quot;,[4166,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4166,&quot;^K&quot;,4119,536871126]],[&quot;^1@&quot;,[4166,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4166,&quot;^13&quot;,4134,536871126]],[&quot;^1@&quot;,[4166,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4166,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4166,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4166,&quot;^?&quot;,&quot;~u6266bf77-b4f8-47db-bfd8-d6820cd3c56e&quot;,536871126]],[&quot;^1@&quot;,[4167,&quot;^[&quot;,&quot;采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。&quot;,536871126]],[&quot;^1@&quot;,[4167,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4167,&quot;^K&quot;,4173,536871126]],[&quot;^1@&quot;,[4167,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4167,&quot;^13&quot;,4173,536871126]],[&quot;^1@&quot;,[4167,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4167,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4167,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4167,&quot;^?&quot;,&quot;~u6266bf77-59ad-47bb-b023-f76396123849&quot;,536871126]],[&quot;^1@&quot;,[4168,&quot;^[&quot;,&quot;信号量为控制一个具有有限数量用户资源而设计。解决共享内存的问题：如果多个进程同时修改同一个共享内存，很有可能就冲突了。为了防止多进程竞争共享资源，而造成的数据错乱，所以需要保护机制，使得共享的资源，在任意时刻只能被一个进程访问。正好，信号量就实现了这一保护机制。&quot;,536871126]],[&quot;^1@&quot;,[4168,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4168,&quot;^K&quot;,4129,536871126]],[&quot;^1@&quot;,[4168,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4168,&quot;^13&quot;,4129,536871126]],[&quot;^1@&quot;,[4168,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4168,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4168,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4168,&quot;^?&quot;,&quot;~u6266bf77-4153-47d0-85e0-ab0915aef03b&quot;,536871126]],[&quot;^1@&quot;,[4169,&quot;^[&quot;,&quot;linux 下实现原理 条件变量 [源码](https://www.jianshu.com/p/a7ddb2998b3b)：\\n  \\n  互斥锁的实现，实际上就是一把锁维护了一个等待队列和一个引用计数器，\\n  \\n  当获取锁之前，先对引用计数器减1操作，\\n  如果为非负，则可以获取锁进入临界区。\\n  否则需要将该任务挂在该等待对列上。&quot;,536871126]],[&quot;^1@&quot;,[4169,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4169,&quot;^K&quot;,4109,536871126]],[&quot;^1@&quot;,[4169,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4169,&quot;^13&quot;,4109,536871126]],[&quot;^1@&quot;,[4169,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4169,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4169,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4169,&quot;^?&quot;,&quot;~u6266bf77-24ee-4901-937a-a404b7926832&quot;,536871126]],[&quot;^1@&quot;,[4170,&quot;^[&quot;,&quot;例如，进程 A 是负责生产数据，而进程 B 是负责读取数据，这两个进程是相互合作、相互依赖的，进程 A 必须先生产了数据，进程 B 才能读取到数据，所以执行是有前后顺序的。那么这时候，就可以用信号量来实现多进程同步的方式，我们可以初始化信号量为 `0`。具体过程：&quot;,536871126]],[&quot;^1@&quot;,[4170,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4170,&quot;^K&quot;,4103,536871126]],[&quot;^1@&quot;,[4170,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4170,&quot;^13&quot;,4231,536871126]],[&quot;^1@&quot;,[4170,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4170,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4170,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4170,&quot;^?&quot;,&quot;~u6266bf77-6ab0-4832-9641-4818b6b529ba&quot;,536871126]],[&quot;^1@&quot;,[4171,&quot;^[&quot;,&quot;拟写入的新值(B)&quot;,536871126]],[&quot;^1@&quot;,[4171,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4171,&quot;^K&quot;,4202,536871126]],[&quot;^1@&quot;,[4171,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4171,&quot;^13&quot;,4218,536871126]],[&quot;^1@&quot;,[4171,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4171,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4171,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4171,&quot;^?&quot;,&quot;~u6266bf77-ccae-47ca-b7ab-b76c9699fcc6&quot;,536871126]],[&quot;^1@&quot;,[4172,&quot;^1F&quot;,&quot;-e5--9c--a8--e8--bf--99--e4--b8--aa--e4--be--8b--e5--ad--90--e4--b8--ad--ef--bc--8c--e6--88--91--e4--bb--ac--e5--8f--aa--e6--98--af--e6--83--b3--e7--bb--99--c2--a0--c2--a0--e5--8a--a0--e4--b8--8a--e6--95--b0--e5--ad--97-_1-ef--bc--8c--e9--82--a3--e4--b9--88--e5--ae--83--e5--af--b9--e5--ba--94--e7--9a--84--e6--b1--87--e7--bc--96--e6--8c--87--e4--bb--a4--e6--89--a7--e8--a1--8c--e8--bf--87--e7--a8--8b--e6--98--af--e8--bf--99--e6--a0--b7--e7--9a--84--ef--bc--9a-&quot;,536873071]],[&quot;^1@&quot;,[4172,&quot;^T&quot;,true,536873082]],[&quot;^1@&quot;,[4172,&quot;^[&quot;,&quot;在这个例子中，我们只是想给 `i` 加上数字 1，那么它对应的汇编指令执行过程是这样的：&quot;,536873072]],[&quot;^1@&quot;,[4172,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4172,&quot;^K&quot;,6240,536873255]],[&quot;^1@&quot;,[4172,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4172,&quot;^13&quot;,4240,536871126]],[&quot;^1@&quot;,[4172,&quot;^12&quot;,4089,536873255]],[&quot;^1@&quot;,[4172,&quot;^D&quot;,[&quot;^ &quot;],536873255]],[&quot;^1@&quot;,[4172,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4172,&quot;^?&quot;,&quot;~u6266bf77-0a81-4d81-b5fa-14a295ebe046&quot;,536871126]],[&quot;^1@&quot;,[4173,&quot;^[&quot;,&quot;**互斥量**：\\n  \\n  2、互斥量:为协调共同对一个共享资源的单独访问而设计的。&quot;,536871126]],[&quot;^1@&quot;,[4173,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4173,&quot;^K&quot;,4127,536871126]],[&quot;^1@&quot;,[4173,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4173,&quot;^13&quot;,4127,536871126]],[&quot;^1@&quot;,[4173,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4173,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4173,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4173,&quot;^?&quot;,&quot;~u6266bf77-39f8-4be2-bfd8-7c80070a2b17&quot;,536871126]],[&quot;^1@&quot;,[4174,&quot;^[&quot;,&quot;[[读者写者]] - 信号量实现同步&quot;,536871126]],[&quot;^1@&quot;,[4174,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4174,&quot;^K&quot;,4205,536871126]],[&quot;^1@&quot;,[4174,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4174,&quot;^13&quot;,4137,536871126]],[&quot;^1@&quot;,[4174,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4174,&quot;^12&quot;,4088,536871126]],[&quot;^1@&quot;,[4174,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4174,&quot;^M&quot;,4088,536871126]],[&quot;^1@&quot;,[4174,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4174,&quot;^?&quot;,&quot;~u6266bf77-a1e3-4845-85cf-1dcdf1858525&quot;,536871126]],[&quot;^1@&quot;,[4175,&quot;^[&quot;,&quot;进程 A 在访问共享内存前，先执行了 P 操作，由于信号量的初始值为 1，故在进程 A 执行 P 操作后信号量变为 0，表示共享资源可用，于是进程 A 就可以访问共享内存。&quot;,536871126]],[&quot;^1@&quot;,[4175,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4175,&quot;^K&quot;,4103,536871126]],[&quot;^1@&quot;,[4175,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4175,&quot;^13&quot;,4103,536871126]],[&quot;^1@&quot;,[4175,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4175,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4175,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4175,&quot;^?&quot;,&quot;~u6266bf77-846a-460e-b2fc-bc1ed2333c5e&quot;,536871126]],[&quot;^1@&quot;,[4176,&quot;^1F&quot;,&quot;-e4--b8--a5--e6--a0--bc--e6--84--8f--e4--b9--89--e4--b8--8a--ef--bc--9a--e5--be--88--e5--a4--9a--e6--83--85--e5--86--b5--e4--b8--8b--e8--bf--9b--e7--a8--8b--e4--b9--8b--e9--97--b4--e9--9c--80--e8--a6--81--e4--ba--a4--e6--8d--a2--e5--a4--a7--e6--89--b9--e6--95--b0--e6--8d--ae--ef--bc--8c--e4--be--8b--e5--a6--82--ef--bc--8c--e4--bc--a0--e9--80--81--e4--b8--80--e6--89--b9--e4--bf--a1--e6--81--af--e6--88--96--e6--95--b4--e4--b8--aa--e6--96--87--e4--bb--b6--ef--bc--8c--e8--bf--99--e5--8f--af--e4--bb--a5--e9--80--9a--e8--bf--87--e4--b8--80--e7--a7--8d--e6--96--b0--e7--9a--84--e9--80--9a--e4--bf--a1--e6--9c--ba--e5--88--b6--e6--9d--a5--e5--ae--8c--e6--88--90--ef--bc--8c--e8--bf--9b--e7--a8--8b--e4--b9--8b--e9--97--b4--e4--ba--92--e7--9b--b8--e4--ba--a4--e6--8d--a2--e4--bf--a1--e6--81--af--e7--9a--84--e5--b7--a5--e4--bd--9c--e7--a7--b0--e4--b9--8b--e4--b8--ba--e8--bf--9b--e7--a8--8b--e9--80--9a--e4--bf--a1-IPC_-ef--bc--88-InterProcess_Communication-ef--bc--89--ef--bc--88--e4--b8--bb--e8--a6--81--e6--98--af--e6--8c--87--e5--a4--a7--e9--87--8f--e6--95--b0--e6--8d--ae--e7--9a--84--e4--ba--a4--e6--8d--a2--ef--bc--89--e3--80--82-&quot;,536873317]],[&quot;^1@&quot;,[4176,&quot;^[&quot;,&quot;[[$red]]==严格意义上：==很多情况下进程之间需要交换大批数据，例如，传送一批信息或整个文件，这可以通过一种新的通信机制来完成，进程之间互相交换信息的工作称之为进程通信IPC （InterProcess Communication）（主要是指大量数据的交换）。&quot;,536873317]],[&quot;^1@&quot;,[4176,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4176,&quot;^K&quot;,4098,536871126]],[&quot;^1@&quot;,[4176,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4176,&quot;^13&quot;,4112,536871126]],[&quot;^1@&quot;,[4176,&quot;^12&quot;,2,536873317]],[&quot;^1@&quot;,[4176,&quot;^12&quot;,549,536873317]],[&quot;^1@&quot;,[4176,&quot;^12&quot;,4089,536873317]],[&quot;^1@&quot;,[4176,&quot;^D&quot;,[&quot;^ &quot;],536873317]],[&quot;^1@&quot;,[4176,&quot;^M&quot;,549,536873317]],[&quot;^1@&quot;,[4176,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4176,&quot;^?&quot;,&quot;~u6266bf77-9de6-4d3f-9bad-b2b924515d82&quot;,536871126]],[&quot;^1@&quot;,[4177,&quot;^1F&quot;,&quot;-e4--ba--92--e6--96--a5--e6--96--b9--e6--b3--95-&quot;,536873694]],[&quot;^1@&quot;,[4177,&quot;^T&quot;,true,536873510]],[&quot;^1@&quot;,[4177,&quot;^[&quot;,&quot;### 互斥方法\\ncollapsed:: true\\ncard-last-score:: 1\\ncard-repeats:: 1\\ncard-next-schedule:: 2022-03-24T16:00:00.000Z\\ncard-last-interval:: -1\\nid:: 623b4d4e-7c7d-433c-b946-20f79d406c0b\\ncard-ease-factor:: 2.5\\ncard-last-reviewed:: 2022-03-24T04:11:15.371Z&quot;,536873694]],[&quot;^1@&quot;,[4177,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4177,&quot;^14&quot;,3,536873694]],[&quot;^1@&quot;,[4177,&quot;^K&quot;,4184,536873516]],[&quot;^1@&quot;,[4177,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4177,&quot;^13&quot;,4089,536871126]],[&quot;^1@&quot;,[4177,&quot;^12&quot;,4089,536873694]],[&quot;^1@&quot;,[4177,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true,&quot;^1M&quot;,1,&quot;^1N&quot;,1,&quot;^1O&quot;,&quot;2022-03-24T16:00:00.000Z&quot;,&quot;^1P&quot;,&quot;-1&quot;,&quot;^1S&quot;,&quot;623b4d4e-7c7d-433c-b946-20f79d406c0b&quot;,&quot;^1Q&quot;,&quot;2.5&quot;,&quot;^1R&quot;,&quot;2022-03-24T04:11:15.371Z&quot;],536873694]],[&quot;^1@&quot;,[4177,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;,&quot;^1M&quot;,&quot;^1N&quot;,&quot;^1O&quot;,&quot;^1P&quot;,&quot;^1S&quot;,&quot;^1Q&quot;,&quot;^1R&quot;]],536873051]],[&quot;^1@&quot;,[4177,&quot;^1G&quot;,3,536873026]],[&quot;^1@&quot;,[4177,&quot;^15&quot;,&quot;^1H&quot;,536873694]],[&quot;^1@&quot;,[4177,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4177,&quot;^?&quot;,&quot;~u623b4d4e-7c7d-433c-b946-20f79d406c0b&quot;,536871126]],[&quot;^1@&quot;,[4178,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4178,&quot;^[&quot;,&quot;什么是[[信号量(PV)]]：\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4178,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4178,&quot;^K&quot;,4129,536871126]],[&quot;^1@&quot;,[4178,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4178,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4178,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4178,&quot;^12&quot;,4086,536871126]],[&quot;^1@&quot;,[4178,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4178,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4178,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4178,&quot;^M&quot;,4086,536871126]],[&quot;^1@&quot;,[4178,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4178,&quot;^?&quot;,&quot;~u6266bf77-9445-46bf-9db9-08fd62033642&quot;,536871126]],[&quot;^1@&quot;,[4179,&quot;^[&quot;,&quot;场景例子：在线文档。\\n  \\n  我们都知道在线文档可以同时多人编辑的，如果使用了悲观锁，那么只要有一个用户正在编辑文档，此时其他用户就无法打开相同的文档了，这用户体验当然不好了。\\n  \\n  那实现多人同时编辑，实际上是用了乐观锁，它允许多个用户打开同一个文档进行编辑，编辑完提交之后才验证修改的内容是否有冲突。\\n  \\n  怎么样才算发生冲突？这里举个例子，比如用户 A 先在浏览器编辑文档，之后用户 B 在浏览器也打开了相同的文档进行编辑，但是用户 B 比用户 A 提交改动，这一过程用户 A 是不知道的，当 A 提交修改完的内容时，那么 A 和 B 之间并行修改的地方就会发生冲突。\\n  \\n  服务端要怎么验证是否冲突了呢？通常方案如下：&quot;,536871126]],[&quot;^1@&quot;,[4179,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4179,&quot;^K&quot;,4188,536871126]],[&quot;^1@&quot;,[4179,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4179,&quot;^13&quot;,4197,536871126]],[&quot;^1@&quot;,[4179,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4179,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4179,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4179,&quot;^?&quot;,&quot;~u6266bf77-e8f8-406b-95e4-53d94cbdfc94&quot;,536871126]],[&quot;^1@&quot;,[4180,&quot;^1F&quot;,&quot;-e4--be--8b--e5--ad--90-_-e5--b0--8f--e6--95--85--e4--ba--8b--ef--bc--9a-&quot;,536873267]],[&quot;^1@&quot;,[4180,&quot;^[&quot;,&quot;例子-小故事：\\n&quot;,536873269]],[&quot;^1@&quot;,[4180,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4180,&quot;^K&quot;,4161,536871126]],[&quot;^1@&quot;,[4180,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4180,&quot;^13&quot;,4161,536871126]],[&quot;^1@&quot;,[4180,&quot;^12&quot;,4089,536873269]],[&quot;^1@&quot;,[4180,&quot;^D&quot;,[&quot;^ &quot;],536873269]],[&quot;^1@&quot;,[4180,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4180,&quot;^?&quot;,&quot;~u6266bf77-093a-4aac-8861-6c13c1e01b38&quot;,536871126]],[&quot;^1@&quot;,[4181,&quot;^[&quot;,&quot;CAS操作逻辑如下：\\n  \\n  如果内存位置V的值等于预期的A值，则将该位置更新为新值B，否则不进行任何操作。许多CAS的操作是自旋的：如果操作不成功，会一直重试，直到操作成功为止。\\n  \\n\\n                            这里引出一个新的问题，既然CAS包含了Compare和Swap两个操作，它又如何保证原子性呢？答案是：CAS是由CPU支持的原子操作，其原子性是在硬件层面进行保证的。&quot;,536871126]],[&quot;^1@&quot;,[4181,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4181,&quot;^K&quot;,4218,536871126]],[&quot;^1@&quot;,[4181,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4181,&quot;^13&quot;,4128,536871126]],[&quot;^1@&quot;,[4181,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4181,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4181,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4181,&quot;^?&quot;,&quot;~u6266bf77-2b4b-4d5e-8b13-769b585738b2&quot;,536871126]],[&quot;^1@&quot;,[4182,&quot;^[&quot;,&quot;需要读写的内存位置(V)&quot;,536871126]],[&quot;^1@&quot;,[4182,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4182,&quot;^K&quot;,4218,536871126]],[&quot;^1@&quot;,[4182,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4182,&quot;^13&quot;,4218,536871126]],[&quot;^1@&quot;,[4182,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4182,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4182,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4182,&quot;^?&quot;,&quot;~u6266bf77-b14c-487f-a0fa-ec2bce350ee9&quot;,536871126]],[&quot;^1@&quot;,[4183,&quot;^[&quot;,&quot;饥饿是由于资源分配策略不公引起的，当进程或线程无法访问它所需要的资源而不能继续执行时，就会发生饥饿现象。&quot;,536871126]],[&quot;^1@&quot;,[4183,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4183,&quot;^K&quot;,4217,536871126]],[&quot;^1@&quot;,[4183,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4183,&quot;^13&quot;,4217,536871126]],[&quot;^1@&quot;,[4183,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4183,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4183,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4183,&quot;^?&quot;,&quot;~u6266bf77-b698-450a-b868-c26f9b5adcf9&quot;,536871126]],[&quot;^1@&quot;,[4184,&quot;^1F&quot;,&quot;-e4--ba--92--e6--96--a5-_-26-_-e5--90--8c--e6--ad--a5-_-26-_-e9--80--9a--e4--bf--a1-__-e4--b8--89--e8--80--85--e6--a6--82--e5--bf--b5--e5--8c--ba--e5--88--86-&quot;,536873016]],[&quot;^1@&quot;,[4184,&quot;^T&quot;,true,536873685]],[&quot;^1@&quot;,[4184,&quot;^[&quot;,&quot;### [互斥 &amp; 同步 &amp; 通信](https://blog.csdn.net/weixin_41413441/article/details/80548683)  三者概念区分&quot;,536873023]],[&quot;^1@&quot;,[4184,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4184,&quot;^14&quot;,3,536873199]],[&quot;^1@&quot;,[4184,&quot;^K&quot;,6238,536873199]],[&quot;^1@&quot;,[4184,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4184,&quot;^13&quot;,4089,536871126]],[&quot;^1@&quot;,[4184,&quot;^12&quot;,4089,536873199]],[&quot;^1@&quot;,[4184,&quot;^D&quot;,[&quot;^ &quot;],536873199]],[&quot;^1@&quot;,[4184,&quot;^1G&quot;,3,536873023]],[&quot;^1@&quot;,[4184,&quot;^15&quot;,&quot;^1H&quot;,536873199]],[&quot;^1@&quot;,[4184,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4184,&quot;^?&quot;,&quot;~u6266bf77-7144-4088-9614-812d390d3d9b&quot;,536871126]],[&quot;^1@&quot;,[4185,&quot;^[&quot;,&quot;面试手撕代码 **mutex互斥锁怎么实现?**\\n  \\n  可以以原子的方式阻塞进程，直到某个特定条件为真为止。对条件的测试是在互斥锁的保护下进行的。条件变量始终与互斥锁一起使用。\\n  \\n  [https://blog.csdn.net/kid551/article/details/84338619](https://blog.csdn.net/kid551/article/details/84338619)\\n  \\n  实现mutex最重要的就是实现它的lock()方法和unlock()方法。我们保存一个全局变量flag，flag=1表明该锁已经锁住，flag=0表明锁没有锁住。\\n  实现lock()时，使用一个while循环不断检测flag是否等于1，如果等于1就一直循环。然后将flag设置为1；unlock()方法就将flag置为0；\\n  \\n  ```cpp\\n  static int flag=0;\\n  \\n  void lock(){\\n    while(TestAndSet(&amp;flag,1)==1);\\n    //flag=1;\\n  }\\n  void unlock(){\\n    flag=0;\\n  }\\n  \\n  //因为while有可能被重入，所以可以用TestandSet()方法。\\n  int TestAndSet(int *ptr, int new) {\\n      int old = *ptr;\\n      *ptr = new;\\n      return old;\\n  }\\n  ```&quot;,536871126]],[&quot;^1@&quot;,[4185,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4185,&quot;^K&quot;,4169,536871126]],[&quot;^1@&quot;,[4185,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4185,&quot;^13&quot;,4109,536871126]],[&quot;^1@&quot;,[4185,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4185,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4185,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4185,&quot;^?&quot;,&quot;~u6266bf77-5c54-49b7-a76e-9747e29b5cee&quot;,536871126]],[&quot;^1@&quot;,[4186,&quot;^[&quot;,&quot;互斥量\\n  \\n  互斥量和临界区很相似，只有拥有互斥对象的线程才具有访问资源的权限，互斥量比临界区负责，并且互斥量是可以命名的，因此互斥量不仅仅可以用于同一应用程序不同线程中资源的同步，也可以用于不同应用程序的线程之间实现对资源的同步。\\n  \\n  因此互斥量可以在整个系统中被任意进程的任意线程访问到，但它严格限定只有获取了互斥量的线程才能释放该互斥量。\\n  \\n\\n    互斥带来的问题&quot;,536871126]],[&quot;^1@&quot;,[4186,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4186,&quot;^K&quot;,4124,536871126]],[&quot;^1@&quot;,[4186,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4186,&quot;^13&quot;,4101,536871126]],[&quot;^1@&quot;,[4186,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4186,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4186,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4186,&quot;^?&quot;,&quot;~u6266bf77-e960-423c-a403-ca683819d1e7&quot;,536871126]],[&quot;^1@&quot;,[4187,&quot;^[&quot;,&quot;而写优先锁是优先服务写线程，其工作方式是：当读线程 A 先持有了读锁，写线程 B 在获取写锁的时候，会被阻塞，并且在阻塞过程中，后续来的读线程 C 获取读锁时会失败，于是读线程 C 将被阻塞在获取读锁的操作，这样只要读线程 A 释放读锁后，写线程 B 就可以成功获取读锁。如下图：\\n\\n                            ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/54367f04-a597-41bd-a37d-45e95cd9bb26/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/54367f04-a597-41bd-a37d-45e95cd9bb26/Untitled.png)\\n\\n\\n                        读优先锁对于读线程并发性更好，但也不是没有问题。我们试想一下，如果一直有读线程获取读锁，那么写线程将永远获取不到写锁，这就造成了写线程「饥饿」的现象。\\n\\n                        写优先锁可以保证写线程不会饿死，但是如果一直有写线程获取写锁，读线程也会被「饿死」。&quot;,536871126]],[&quot;^1@&quot;,[4187,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4187,&quot;^K&quot;,4145,536871126]],[&quot;^1@&quot;,[4187,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4187,&quot;^13&quot;,4145,536871126]],[&quot;^1@&quot;,[4187,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4187,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4187,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4187,&quot;^?&quot;,&quot;~u6266bf77-c60e-4ac8-9095-ed946827b711&quot;,536871126]],[&quot;^1@&quot;,[4188,&quot;^[&quot;,&quot;优缺点和适用场景\\n  \\n  乐观锁和悲观锁并没有优劣之分，它们有各自适合的场景；下面从两个方面进行说明。&quot;,536871126]],[&quot;^1@&quot;,[4188,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4188,&quot;^K&quot;,4207,536871126]],[&quot;^1@&quot;,[4188,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4188,&quot;^13&quot;,4197,536871126]],[&quot;^1@&quot;,[4188,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4188,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4188,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4188,&quot;^?&quot;,&quot;~u6266bf77-9efc-4f6b-9cc7-8007204c6c5a&quot;,536871126]],[&quot;^1@&quot;,[4189,&quot;^[&quot;,&quot;如果互斥信号量为 -1，表示一个线程进入临界区，另一个线程等待进入。\\n\\n                通过互斥信号量的方式，就能保证临界区任何时刻只有一个线程在执行，就达到了互斥的效果。&quot;,536871126]],[&quot;^1@&quot;,[4189,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4189,&quot;^K&quot;,4151,536871126]],[&quot;^1@&quot;,[4189,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4189,&quot;^13&quot;,4210,536871126]],[&quot;^1@&quot;,[4189,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4189,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4189,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4189,&quot;^?&quot;,&quot;~u6266bf77-d891-4607-84c9-2c760bef07c3&quot;,536871126]],[&quot;^1@&quot;,[4190,&quot;^[&quot;,&quot;图解\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d4ee977e-3578-4dde-ba1b-582761c563a5/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d4ee977e-3578-4dde-ba1b-582761c563a5/Untitled.png)&quot;,536871126]],[&quot;^1@&quot;,[4190,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4190,&quot;^K&quot;,4164,536871126]],[&quot;^1@&quot;,[4190,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4190,&quot;^13&quot;,4164,536871126]],[&quot;^1@&quot;,[4190,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4190,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4190,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4190,&quot;^?&quot;,&quot;~u6266bf77-0be6-4dcd-81cb-d2c7664692b2&quot;,536871126]],[&quot;^1@&quot;,[4191,&quot;^[&quot;,&quot;**两次线程上下文切换的成本**&quot;,536871126]],[&quot;^1@&quot;,[4191,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4191,&quot;^K&quot;,4158,536871126]],[&quot;^1@&quot;,[4191,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4191,&quot;^13&quot;,4158,536871126]],[&quot;^1@&quot;,[4191,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4191,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4191,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4191,&quot;^?&quot;,&quot;~u6266bf77-f621-42d7-8b3d-230d037ea75c&quot;,536871126]],[&quot;^1@&quot;,[4192,&quot;^[&quot;,&quot;原子操作（例如一个单一的全局变量）， 用户模式\\n  \\n  当然如果你要寻求更高效的同步方式，应该用原子锁，原子锁的效率是临界区的5倍左右\\n  \\n\\n        临界区对应着一个`CcriticalSection`对象，当线程需要访问保护数据时，调用`EnterCriticalSection`函数；当对保护数据的操作完成之后，调用`LeaveCriticalSection`函数释放对临界区对象的拥有权。&quot;,536871126]],[&quot;^1@&quot;,[4192,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4192,&quot;^K&quot;,4110,536871126]],[&quot;^1@&quot;,[4192,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4192,&quot;^13&quot;,4110,536871126]],[&quot;^1@&quot;,[4192,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4192,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4192,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4192,&quot;^?&quot;,&quot;~u6266bf77-17ef-47d7-920e-80d4412d96c2&quot;,536871126]],[&quot;^1@&quot;,[4193,&quot;^[&quot;,&quot;第二步，将锁设置为当前线程持有；&quot;,536871126]],[&quot;^1@&quot;,[4193,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4193,&quot;^K&quot;,4204,536871126]],[&quot;^1@&quot;,[4193,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4193,&quot;^13&quot;,4095,536871126]],[&quot;^1@&quot;,[4193,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4193,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4193,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4193,&quot;^?&quot;,&quot;~u6266bf77-8a4d-4f14-ab14-5be5874837fa&quot;,536871126]],[&quot;^1@&quot;,[4194,&quot;^[&quot;,&quot;读写锁的工作原理是：&quot;,536871126]],[&quot;^1@&quot;,[4194,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4194,&quot;^K&quot;,4239,536871126]],[&quot;^1@&quot;,[4194,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4194,&quot;^13&quot;,4239,536871126]],[&quot;^1@&quot;,[4194,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4194,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4194,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4194,&quot;^?&quot;,&quot;~u6266bf77-0746-407c-b0b8-fdb17da96c98&quot;,536871126]],[&quot;^1@&quot;,[4195,&quot;^[&quot;,&quot;当竞争不激烈 (出现并发冲突的概率小)时，乐观锁更有优势，因为悲观锁会锁住代码块或数据，其他线程无法同时访问，影响并发，而且加锁和释放锁都需要消耗额外的资源。&quot;,536871126]],[&quot;^1@&quot;,[4195,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4195,&quot;^K&quot;,4216,536871126]],[&quot;^1@&quot;,[4195,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4195,&quot;^13&quot;,4216,536871126]],[&quot;^1@&quot;,[4195,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4195,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4195,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4195,&quot;^?&quot;,&quot;~u6266bf77-0426-4d05-be74-2d6905de7a60&quot;,536871126]],[&quot;^1@&quot;,[4196,&quot;^[&quot;,&quot;若此时，进程 B 也想访问共享内存，执行了 P 操作，结果信号量变为了 -1，这就意味着临界资源已被占用，因此进程 B 被阻塞。&quot;,536871126]],[&quot;^1@&quot;,[4196,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4196,&quot;^K&quot;,4175,536871126]],[&quot;^1@&quot;,[4196,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4196,&quot;^13&quot;,4103,536871126]],[&quot;^1@&quot;,[4196,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4196,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4196,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4196,&quot;^?&quot;,&quot;~u6266bf77-03bf-404e-967d-649e59765aed&quot;,536871126]],[&quot;^1@&quot;,[4197,&quot;^[&quot;,&quot;[乐观锁与悲观锁](https://www.cnblogs.com/kismetv/p/10787228.html) - 思想\\n  \\n  乐观锁和悲观锁是**两种思想**，使用非常广泛，不局限于某种编程语言或数据库。&quot;,536871126]],[&quot;^1@&quot;,[4197,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4197,&quot;^K&quot;,4239,536871126]],[&quot;^1@&quot;,[4197,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4197,&quot;^13&quot;,4166,536871126]],[&quot;^1@&quot;,[4197,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4197,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4197,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4197,&quot;^?&quot;,&quot;~u6266bf77-c448-4290-9375-f6c0a624d38f&quot;,536871126]],[&quot;^1@&quot;,[4198,&quot;^[&quot;,&quot;最后，进程 B 被唤醒后，意味着进程 A 已经生产了数据，于是进程 B 就可以正常读取数据了。\\n\\n            可以发现，信号初始化为 `0`，就代表着是**同步信号量**，它可以保证进程 A 应在进程 B 之前执行。&quot;,536871126]],[&quot;^1@&quot;,[4198,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4198,&quot;^K&quot;,4122,536871126]],[&quot;^1@&quot;,[4198,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4198,&quot;^13&quot;,4170,536871126]],[&quot;^1@&quot;,[4198,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4198,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4198,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4198,&quot;^?&quot;,&quot;~u6266bf77-5d4a-48c3-805d-5d4adbe42dc7&quot;,536871126]],[&quot;^1@&quot;,[4199,&quot;^[&quot;,&quot;互斥锁与自旋锁 - 最底层&quot;,536871126]],[&quot;^1@&quot;,[4199,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4199,&quot;^K&quot;,4166,536871126]],[&quot;^1@&quot;,[4199,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4199,&quot;^13&quot;,4166,536871126]],[&quot;^1@&quot;,[4199,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4199,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4199,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4199,&quot;^?&quot;,&quot;~u6266bf77-0f33-440f-ad3a-a0af1b041465&quot;,536871126]],[&quot;^1@&quot;,[4200,&quot;^[&quot;,&quot;[定义：](https://www.zhihu.com/question/23281499/answer/1029690466)\\n  \\n  ABA的场景出现时，预期值和旧值相同会让线程以为这个值没有被改变过，然而“值相同=没有被改变过”无法成立，即使第二个线程确确实实改过这个值，只不过又改回来了。“值曾经发生过改动”这个事件就无法被观测到。对于需要跟踪值的改变过程（比如记录值改变的次数）的场景来说ABA问题就是致命的。&quot;,536871126]],[&quot;^1@&quot;,[4200,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4200,&quot;^K&quot;,4214,536871126]],[&quot;^1@&quot;,[4200,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4200,&quot;^13&quot;,4214,536871126]],[&quot;^1@&quot;,[4200,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4200,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4200,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4200,&quot;^?&quot;,&quot;~u6266bf77-2430-44e2-a4a7-27df379564be&quot;,536871126]],[&quot;^1@&quot;,[4201,&quot;^[&quot;,&quot;乐观锁的实现方式主要有两种：\\n  \\n  CAS机制和版本号机制（类似mvcc）&quot;,536871126]],[&quot;^1@&quot;,[4201,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4201,&quot;^K&quot;,4146,536871126]],[&quot;^1@&quot;,[4201,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4201,&quot;^13&quot;,4207,536871126]],[&quot;^1@&quot;,[4201,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4201,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4201,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4201,&quot;^?&quot;,&quot;~u6266bf77-6668-4222-a2d6-9ecb1399b88b&quot;,536871126]],[&quot;^1@&quot;,[4202,&quot;^[&quot;,&quot;进行比较的预期值(A)&quot;,536871126]],[&quot;^1@&quot;,[4202,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4202,&quot;^K&quot;,4182,536871126]],[&quot;^1@&quot;,[4202,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4202,&quot;^13&quot;,4218,536871126]],[&quot;^1@&quot;,[4202,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4202,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4202,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4202,&quot;^?&quot;,&quot;~u6266bf77-179d-46fe-87f1-3fa11be7a855&quot;,536871126]],[&quot;^1@&quot;,[4203,&quot;^[&quot;,&quot;版本号机制&quot;,536871126]],[&quot;^1@&quot;,[4203,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4203,&quot;^K&quot;,4201,536871126]],[&quot;^1@&quot;,[4203,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4203,&quot;^13&quot;,4201,536871126]],[&quot;^1@&quot;,[4203,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4203,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4203,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4203,&quot;^?&quot;,&quot;~u6266bf77-e826-4bab-b08c-665dea1cf9cd&quot;,536871126]],[&quot;^1@&quot;,[4204,&quot;^[&quot;,&quot;第一步，查看锁的状态，如果锁是空闲的，则执行第二步；&quot;,536871126]],[&quot;^1@&quot;,[4204,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4204,&quot;^K&quot;,4095,536871126]],[&quot;^1@&quot;,[4204,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4204,&quot;^13&quot;,4095,536871126]],[&quot;^1@&quot;,[4204,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4204,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4204,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4204,&quot;^?&quot;,&quot;~u6266bf77-9f9b-48e4-8d34-6ca7bbbc9871&quot;,536871126]],[&quot;^1@&quot;,[4205,&quot;^[&quot;,&quot;[[哲学家就餐]] - 同步问题&quot;,536871126]],[&quot;^1@&quot;,[4205,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4205,&quot;^K&quot;,4227,536871126]],[&quot;^1@&quot;,[4205,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4205,&quot;^13&quot;,4137,536871126]],[&quot;^1@&quot;,[4205,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4205,&quot;^12&quot;,4087,536871126]],[&quot;^1@&quot;,[4205,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4205,&quot;^M&quot;,4087,536871126]],[&quot;^1@&quot;,[4205,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4205,&quot;^?&quot;,&quot;~u6266bf77-8068-479f-a670-29280b3c1077&quot;,536871126]],[&quot;^1@&quot;,[4206,&quot;^[&quot;,&quot;1 功能限制\\n  \\n  与悲观锁相比，乐观锁适用的场景受到了更多的限制，无论是CAS还是版本号机制。\\n  \\n  例如，CAS只能保证单个变量操作的原子性，当涉及到多个变量时，CAS是无能为力的，而synchronized则可以通过对整个代码块加锁来处理。再比如版本号机制，如果query的时候是针对表1，而update的时候是针对表2，也很难通过简单的版本号来实现乐观锁。&quot;,536871126]],[&quot;^1@&quot;,[4206,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4206,&quot;^K&quot;,4188,536871126]],[&quot;^1@&quot;,[4206,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4206,&quot;^13&quot;,4188,536871126]],[&quot;^1@&quot;,[4206,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4206,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4206,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4206,&quot;^?&quot;,&quot;~u6266bf77-4e6c-49f6-92c6-69df6dad5b18&quot;,536871126]],[&quot;^1@&quot;,[4207,&quot;^[&quot;,&quot;实现方式&quot;,536871126]],[&quot;^1@&quot;,[4207,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4207,&quot;^K&quot;,4220,536871126]],[&quot;^1@&quot;,[4207,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4207,&quot;^13&quot;,4197,536871126]],[&quot;^1@&quot;,[4207,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4207,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4207,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4207,&quot;^?&quot;,&quot;~u6266bf77-9173-4a3f-89c1-014412306dd2&quot;,536871126]],[&quot;^1@&quot;,[4208,&quot;^[&quot;,&quot;linux code 实现 PV 操作\\n  \\n  PV 操作的函数是由操作系统管理和实现的，所以操作系统已经使得执行 PV 函数时是具有原子性的。\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2a170b4b-1834-4368-a704-9cfcbe1314da/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2a170b4b-1834-4368-a704-9cfcbe1314da/Untitled.png)&quot;,536871126]],[&quot;^1@&quot;,[4208,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4208,&quot;^K&quot;,4231,536871126]],[&quot;^1@&quot;,[4208,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4208,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4208,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4208,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4208,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4208,&quot;^?&quot;,&quot;~u6266bf77-ae7d-45bc-85df-481dec735858&quot;,536871126]],[&quot;^1@&quot;,[4209,&quot;^[&quot;,&quot;两者开销成本：\\n  \\n  两次线程上下文切换\\n  \\n  当已经有一个线程加锁后，其他线程加锁则就会失败，互斥锁和自旋锁对于加锁失败后的处理方式是不一样的：&quot;,536871126]],[&quot;^1@&quot;,[4209,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4209,&quot;^K&quot;,4114,536871126]],[&quot;^1@&quot;,[4209,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4209,&quot;^13&quot;,4199,536871126]],[&quot;^1@&quot;,[4209,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4209,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4209,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4209,&quot;^?&quot;,&quot;~u6266bf77-da14-42fb-a9ad-2ab5fa2faf26&quot;,536871126]],[&quot;^1@&quot;,[4210,&quot;^[&quot;,&quot;临界区的互斥访问\\n  \\n  为每类共享资源设置一个信号量 `s`，其初值为 `1`，表示该临界资源未被占用。\\n  \\n  只要把进入临界区的操作置于 `P(s)` 和 `V(s)` 之间，即可实现进程/线程互斥：\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c97d4cde-f837-4d26-a0e0-23170c3e0c9b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c97d4cde-f837-4d26-a0e0-23170c3e0c9b/Untitled.png)\\n  \\n  此时，任何想进入临界区的线程，必先在互斥信号量上执行 P 操作，在完成对临界资源的访问后再执行 V 操作。由于互斥信号量的初始值为 1，故在第一个线程执行 P 操作后 s 值变为 0，表示临界资源为空闲，可分配给该线程，使之进入临界区。\\n  \\n  若此时又有第二个线程想进入临界区，也应先执行 P 操作，结果使 s 变为负值，这就意味着临界资源已被占用，因此，第二个线程被阻塞。\\n  \\n  并且，直到第一个线程执行 V 操作，释放临界资源而恢复 s 值为 0 后，才唤醒第二个线程，使之进入临界区，待它完成临界资源的访问后，又执行 V 操作，使 s 恢复到初始值 1。\\n  \\n  对于两个并发线程，互斥信号量的值仅取 1、0 和 -1 三个值，分别表示：&quot;,536871126]],[&quot;^1@&quot;,[4210,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4210,&quot;^K&quot;,4143,536871126]],[&quot;^1@&quot;,[4210,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4210,&quot;^13&quot;,4143,536871126]],[&quot;^1@&quot;,[4210,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4210,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4210,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4210,&quot;^?&quot;,&quot;~u6266bf77-fd5a-4935-a716-43fce9bf68d6&quot;,536871126]],[&quot;^1@&quot;,[4211,&quot;^[&quot;,&quot;**互斥锁**加锁失败后，线程会**释放 CPU** ，给其他线程；\\n  \\n  ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/77b4380d-294b-40e9-baa9-74be770e6b02/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/77b4380d-294b-40e9-baa9-74be770e6b02/Untitled.png)\\n  \\n  互斥锁是一种「独占锁」，比如当线程 A 加锁成功后，此时互斥锁已经被线程 A 独占了，只要线程 A 没有释放手中的锁，线程 B 加锁就会失败，于是就会释放 CPU 让给其他线程，**既然线程 B 释放掉了 CPU，自然线程 B 加锁的代码就会被阻塞**。\\n  \\n  **对于互斥锁加锁失败而阻塞的现象，是由操作系统内核实现的**。当加锁失败时，内核会将线程置为「睡眠」状态，等到锁被释放后，内核会在**合适的时机**唤醒线程，当这个线程成功获取到锁后，于是就可以继续执行。&quot;,536871126]],[&quot;^1@&quot;,[4211,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4211,&quot;^K&quot;,4209,536871126]],[&quot;^1@&quot;,[4211,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4211,&quot;^13&quot;,4209,536871126]],[&quot;^1@&quot;,[4211,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4211,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4211,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4211,&quot;^?&quot;,&quot;~u6266bf77-95e8-49ff-958c-a00797d5508c&quot;,536871126]],[&quot;^1@&quot;,[4212,&quot;^[&quot;,&quot;当竞争激烈(出现并发冲突的概率大)时，悲观锁更有优势，因为乐观锁在执行更新时频繁失败，需要不断重试，浪费CPU资源。&quot;,536871126]],[&quot;^1@&quot;,[4212,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4212,&quot;^K&quot;,4195,536871126]],[&quot;^1@&quot;,[4212,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4212,&quot;^13&quot;,4216,536871126]],[&quot;^1@&quot;,[4212,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4212,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4212,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4212,&quot;^?&quot;,&quot;~u6266bf77-8ff1-4c22-8199-8742fee05ef0&quot;,536871126]],[&quot;^1@&quot;,[4213,&quot;^[&quot;,&quot;*V 操作*：将 `sem` 加 `1`，相加后，如果 `sem &amp;lt;= 0`，唤醒一个等待中的进程/线程，表明 V 操作不会阻塞；\\n  \\n  相加后如果信号量 &lt;= 0，则表明当前有阻塞中的进程，于是会将该进程唤醒运行；\\n  相加后如果信号量 &gt; 0，则表明当前没有阻塞中的进程；\\n  \\n\\n                ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5a7c2417-9c8b-4c39-96d4-56b9607c3149/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5a7c2417-9c8b-4c39-96d4-56b9607c3149/Untitled.png)\\n\\n\\n            （semaphore[ˈseməfɔ:(r)]）信号量其实是一个整型的计数器，主要用于**实现进/线程间的互斥与同步**，而**不是用于缓存**进程间通信的数据。&quot;,536871126]],[&quot;^1@&quot;,[4213,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4213,&quot;^K&quot;,4107,536871126]],[&quot;^1@&quot;,[4213,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4213,&quot;^13&quot;,4230,536871126]],[&quot;^1@&quot;,[4213,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4213,&quot;^12&quot;,4086,536871126]],[&quot;^1@&quot;,[4213,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4213,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4213,&quot;^?&quot;,&quot;~u6266bf77-7182-41b2-becc-7f939024271e&quot;,536871126]],[&quot;^1@&quot;,[4214,&quot;^[&quot;,&quot;**1、ABA问题**&quot;,536871126]],[&quot;^1@&quot;,[4214,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4214,&quot;^K&quot;,4102,536871126]],[&quot;^1@&quot;,[4214,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4214,&quot;^13&quot;,4102,536871126]],[&quot;^1@&quot;,[4214,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4214,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4214,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4214,&quot;^?&quot;,&quot;~u6266bf77-da7d-4e1e-86d4-db1e99b73f43&quot;,536871126]],[&quot;^1@&quot;,[4215,&quot;^[&quot;,&quot;[[死锁]]&quot;,536871126]],[&quot;^1@&quot;,[4215,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4215,&quot;^K&quot;,4217,536871126]],[&quot;^1@&quot;,[4215,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4215,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4215,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4215,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4215,&quot;^12&quot;,4090,536871126]],[&quot;^1@&quot;,[4215,&quot;^M&quot;,4090,536871126]],[&quot;^1@&quot;,[4215,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4215,&quot;^?&quot;,&quot;~u6266bf77-d9eb-4bef-a5be-3ddef031cf45&quot;,536871126]],[&quot;^1@&quot;,[4216,&quot;^[&quot;,&quot;2 竞争激烈程度\\n  \\n  如果悲观锁和乐观锁都可以使用，那么选择就要考虑竞争的激烈程度：&quot;,536871126]],[&quot;^1@&quot;,[4216,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4216,&quot;^K&quot;,4206,536871126]],[&quot;^1@&quot;,[4216,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4216,&quot;^13&quot;,4188,536871126]],[&quot;^1@&quot;,[4216,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4216,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4216,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4216,&quot;^?&quot;,&quot;~u6266bf77-dce7-44ed-8626-76c4ba348102&quot;,536871126]],[&quot;^1@&quot;,[4217,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4217,&quot;^[&quot;,&quot;饥饿\\ncollapsed:: true&quot;,536871126]],[&quot;^1@&quot;,[4217,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4217,&quot;^K&quot;,4101,536871126]],[&quot;^1@&quot;,[4217,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4217,&quot;^13&quot;,4177,536871126]],[&quot;^1@&quot;,[4217,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4217,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4217,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4217,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4217,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4217,&quot;^?&quot;,&quot;~u6266bf77-232f-40a3-b8c1-e9c671f2f414&quot;,536871126]],[&quot;^1@&quot;,[4218,&quot;^[&quot;,&quot;CAS操作包括了3个操作数：&quot;,536871126]],[&quot;^1@&quot;,[4218,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4218,&quot;^K&quot;,4128,536871126]],[&quot;^1@&quot;,[4218,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4218,&quot;^13&quot;,4128,536871126]],[&quot;^1@&quot;,[4218,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4218,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4218,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4218,&quot;^?&quot;,&quot;~u6266bf77-4a7a-42a4-b1ee-9866f5481c61&quot;,536871126]],[&quot;^1@&quot;,[4219,&quot;^1F&quot;,&quot;-e6--80--bb--e7--bb--93--ef--bc--9a-&quot;,536873326]],[&quot;^1@&quot;,[4219,&quot;^T&quot;,true,536873682]],[&quot;^1@&quot;,[4219,&quot;^[&quot;,&quot;总结：\\ncollapsed:: true&quot;,536873326]],[&quot;^1@&quot;,[4219,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4219,&quot;^K&quot;,4112,536871126]],[&quot;^1@&quot;,[4219,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4219,&quot;^13&quot;,4184,536871126]],[&quot;^1@&quot;,[4219,&quot;^12&quot;,4089,536873665]],[&quot;^1@&quot;,[4219,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536873665]],[&quot;^1@&quot;,[4219,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4219,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4219,&quot;^?&quot;,&quot;~u6266bf77-6fae-44fc-a4d8-313d395c3bdc&quot;,536871126]],[&quot;^1@&quot;,[4220,&quot;^[&quot;,&quot;乐观锁：\\n  \\n  假定冲突的概率很低，它的工作方式是：先修改完共享资源，再验证这段时间内有没有发生冲突，如果没有其他线程在修改资源，那么操作完成，如果发现有其他线程已经修改过这个资源，就放弃本次操作。(CMU 数据库好像讲过)\\n  \\n  放弃后如何重试，这跟业务场景息息相关，虽然重试的成本很高，但是冲突的概率足够低的话，还是可以接受的。\\n  \\n  另外，你会发现**乐观锁全程并没有加锁，所以它也叫无锁编程**。&quot;,536871126]],[&quot;^1@&quot;,[4220,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4220,&quot;^K&quot;,4163,536871126]],[&quot;^1@&quot;,[4220,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4220,&quot;^13&quot;,4197,536871126]],[&quot;^1@&quot;,[4220,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4220,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4220,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4220,&quot;^?&quot;,&quot;~u6266bf77-1465-49e7-9945-1fdb486873e8&quot;,536871126]],[&quot;^1@&quot;,[4221,&quot;^[&quot;,&quot;如果进程 B 比进程 A 先执行了，那么执行到 P 操作时，由于信号量初始值为 0，故信号量会变为 -1，表示进程 A 还没生产数据，于是进程 B 就阻塞等待；&quot;,536871126]],[&quot;^1@&quot;,[4221,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4221,&quot;^K&quot;,4170,536871126]],[&quot;^1@&quot;,[4221,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4221,&quot;^13&quot;,4170,536871126]],[&quot;^1@&quot;,[4221,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4221,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4221,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4221,&quot;^?&quot;,&quot;~u6266bf77-2672-4c01-83ac-54c90bdda7bd&quot;,536871126]],[&quot;^1@&quot;,[4222,&quot;^1F&quot;,&quot;-e5--90--8c--e6--ad--a5--e6--96--b9--e6--b3--95-&quot;,536873054]],[&quot;^1@&quot;,[4222,&quot;^T&quot;,true,536873504]],[&quot;^1@&quot;,[4222,&quot;^[&quot;,&quot;### 同步方法\\ncard-last-score:: 3\\ncard-repeats:: 1\\ncard-next-schedule:: 2022-03-28T03:11:02.357Z\\ncard-last-interval:: 4\\nid:: 623b4d4e-8f0b-489b-a3f6-fcdfdfaf1df3\\ncard-ease-factor:: 2.36\\ncard-last-reviewed:: 2022-03-24T03:11:02.372Z&quot;,536873688]],[&quot;^1@&quot;,[4222,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4222,&quot;^14&quot;,3,536873688]],[&quot;^1@&quot;,[4222,&quot;^K&quot;,4177,536871126]],[&quot;^1@&quot;,[4222,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4222,&quot;^13&quot;,4089,536871126]],[&quot;^1@&quot;,[4222,&quot;^12&quot;,4089,536873688]],[&quot;^1@&quot;,[4222,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1M&quot;,3,&quot;^1N&quot;,1,&quot;^1O&quot;,&quot;2022-03-28T03:11:02.357Z&quot;,&quot;^1P&quot;,4,&quot;^1S&quot;,&quot;623b4d4e-8f0b-489b-a3f6-fcdfdfaf1df3&quot;,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1R&quot;,&quot;2022-03-24T03:11:02.372Z&quot;],536873688]],[&quot;^1@&quot;,[4222,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1M&quot;,&quot;^1N&quot;,&quot;^1O&quot;,&quot;^1P&quot;,&quot;^1S&quot;,&quot;^1Q&quot;,&quot;^1R&quot;]],536873032]],[&quot;^1@&quot;,[4222,&quot;^1G&quot;,3,536873029]],[&quot;^1@&quot;,[4222,&quot;^15&quot;,&quot;^1H&quot;,536873688]],[&quot;^1@&quot;,[4222,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4222,&quot;^?&quot;,&quot;~u623b4d4e-8f0b-489b-a3f6-fcdfdfaf1df3&quot;,536871126]],[&quot;^1@&quot;,[4223,&quot;^[&quot;,&quot;当两个线程是属于同一个进程，**因为虚拟内存是共享的，所以在切换时，虚拟内存这些资源就保持不动，只需要切换线程的私有数据、寄存器等不共享的数据。**\\n\\n                                上下切换的耗时有大佬统计过，大概在几十纳秒到几微秒之间，如果你锁住的代码执行时间比较短，那可能上下文切换的时间都比你锁住的代码执行时间还要长。\\n\\n\\n                            所以，**如果你能确定被锁住的代码执行时间很短，就不应该用互斥锁，而应该选用自旋锁，否则使用互斥锁。**&quot;,536871126]],[&quot;^1@&quot;,[4223,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4223,&quot;^K&quot;,4147,536871126]],[&quot;^1@&quot;,[4223,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4223,&quot;^13&quot;,4147,536871126]],[&quot;^1@&quot;,[4223,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4223,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4223,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4223,&quot;^?&quot;,&quot;~u6266bf77-7f65-4d16-b069-4d637d2728e4&quot;,536871126]],[&quot;^1@&quot;,[4224,&quot;^1F&quot;,&quot;-e9--80--9a--e4--bf--a1--e6--96--b9--e6--b3--95-&quot;,536873137]],[&quot;^1@&quot;,[4224,&quot;^T&quot;,true,536873513]],[&quot;^1@&quot;,[4224,&quot;^[&quot;,&quot;### 通信方法&quot;,536873137]],[&quot;^1@&quot;,[4224,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4224,&quot;^14&quot;,3,536873137]],[&quot;^1@&quot;,[4224,&quot;^K&quot;,4222,536871126]],[&quot;^1@&quot;,[4224,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4224,&quot;^13&quot;,4089,536871126]],[&quot;^1@&quot;,[4224,&quot;^12&quot;,4089,536873137]],[&quot;^1@&quot;,[4224,&quot;^D&quot;,[&quot;^ &quot;],536873137]],[&quot;^1@&quot;,[4224,&quot;^1G&quot;,3,536873036]],[&quot;^1@&quot;,[4224,&quot;^15&quot;,&quot;^1H&quot;,536873137]],[&quot;^1@&quot;,[4224,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4224,&quot;^?&quot;,&quot;~u6266bf77-c4b2-4ced-8aa3-91b8898a9123&quot;,536871126]],[&quot;^1@&quot;,[4225,&quot;^[&quot;,&quot;首先是银行家算法中的进程：\\n  \\n  包含进程Pi的需求资源数量（也是最大需求资源数量，MAX）\\n  已分配给该进程的资源A（Allocation）\\n  还需要的资源数量N（Need=M-A）\\n  \\n  Available为空闲资源数量，即资源池（注意：资源池的剩余资源数量+已分配给所有进程的资源数量=系统中的资源总量）\\n  \\n\\n                假设资源P1申请资源，银行家算法先试探的分配给它（当然先要看看当前资源池中的资源数量够不够），若申请的资源数量小于等于Available，然后接着判断分配给P1后剩余的资源，能不能使进程队列的某个进程执行完毕\\n\\n                若没有进程可执行完毕，则系统处于不安全状态（即此时没有一个进程能够完成并释放资源，随时间推移，系统终将处于死锁状态）。\\n\\n                若有进程可执行完毕，则假设回收已分配给它的资源（剩余资源数量增加），把这个进程标记为可完成，并继续判断队列中的其它进程，若所有进程都可执行完毕，则系统处于安全状态，并根据可完成进程的分配顺序生成安全序列（如{P0，P3，P2，P1}表示将申请后的剩余资源Work先分配给P0–&gt;回收（Work+已分配给P0的A0=Work）–&gt;分配给P3–&gt;回收（Work+A3=Work）–&gt;分配给P2–&gt;······满足所有进程）。\\n\\n                如此就可避免系统存在潜在死锁的风险。\\n\\n\\n        面试：思考算法的改进&quot;,536871126]],[&quot;^1@&quot;,[4225,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4225,&quot;^K&quot;,4190,536871126]],[&quot;^1@&quot;,[4225,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4225,&quot;^13&quot;,4190,536871126]],[&quot;^1@&quot;,[4225,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4225,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4225,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4225,&quot;^?&quot;,&quot;~u6266bf77-d0f1-406d-a802-f9e7ccc63265&quot;,536871126]],[&quot;^1@&quot;,[4226,&quot;^[&quot;,&quot;[经典同步问题](https://www.cnblogs.com/xiaolincoding/p/13346658.html)&quot;,536871126]],[&quot;^1@&quot;,[4226,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4226,&quot;^K&quot;,4143,536871126]],[&quot;^1@&quot;,[4226,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4226,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4226,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4226,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4226,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4226,&quot;^?&quot;,&quot;~u6266bf77-d312-45e2-9452-212ff84a99a8&quot;,536871126]],[&quot;^1@&quot;,[4227,&quot;^[&quot;,&quot;[[生产者消费者]]  - 同步问题&quot;,536871126]],[&quot;^1@&quot;,[4227,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4227,&quot;^K&quot;,4137,536871126]],[&quot;^1@&quot;,[4227,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4227,&quot;^13&quot;,4137,536871126]],[&quot;^1@&quot;,[4227,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4227,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4227,&quot;^12&quot;,4092,536871126]],[&quot;^1@&quot;,[4227,&quot;^M&quot;,4092,536871126]],[&quot;^1@&quot;,[4227,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4227,&quot;^?&quot;,&quot;~u6266bf77-b2ed-43e1-9edb-10315c2d4a61&quot;,536871126]],[&quot;^1@&quot;,[4228,&quot;^[&quot;,&quot;但是，一旦「写锁」被线程持有后，读线程的获取读锁的操作会被阻塞，而且其他写线程的获取写锁的操作也会被阻塞。&quot;,536871126]],[&quot;^1@&quot;,[4228,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4228,&quot;^K&quot;,4135,536871126]],[&quot;^1@&quot;,[4228,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4228,&quot;^13&quot;,4194,536871126]],[&quot;^1@&quot;,[4228,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4228,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4228,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4228,&quot;^?&quot;,&quot;~u6266bf77-1218-4965-bfbd-f86d9906512d&quot;,536871126]],[&quot;^1@&quot;,[4229,&quot;^1F&quot;,&quot;2-2e--e4--ba--8b--e4--bb--b6--e4--bb--80--e4--b9--88--e6--97--b6--e5--80--99--e4--ba--a7--e7--94--9f--3f-&quot;,536873443]],[&quot;^1@&quot;,[4229,&quot;^[&quot;,&quot;2.事件什么时候产生?&quot;,536873451]],[&quot;^1@&quot;,[4229,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4229,&quot;^K&quot;,4150,536871126]],[&quot;^1@&quot;,[4229,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4229,&quot;^13&quot;,4094,536871126]],[&quot;^1@&quot;,[4229,&quot;^12&quot;,2,536873451]],[&quot;^1@&quot;,[4229,&quot;^12&quot;,4089,536873451]],[&quot;^1@&quot;,[4229,&quot;^D&quot;,[&quot;^ &quot;],536873451]],[&quot;^1@&quot;,[4229,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4229,&quot;^?&quot;,&quot;~u6266bf77-a5cd-48c4-8473-e73422bd7b4f&quot;,536871126]],[&quot;^1@&quot;,[4230,&quot;^T&quot;,true,536871126]],[&quot;^1@&quot;,[4230,&quot;^[&quot;,&quot;是操作系统提供的一种协调共享资源访问的方法。通常信号量表示资源的数量，对应的变量是一个整型（**sem**）变量。控制信号量的方式有两种原子操作：（pv荷兰语缩写）\\ncollapsed:: true\\n  \\n  P 操作是用在进入共享资源之前，V 操作是用在离开共享资源之后，这两个操作是必须成对出现的。&quot;,536871126]],[&quot;^1@&quot;,[4230,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4230,&quot;^K&quot;,4106,536871126]],[&quot;^1@&quot;,[4230,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4230,&quot;^13&quot;,4178,536871126]],[&quot;^1@&quot;,[4230,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4230,&quot;^12&quot;,4086,536871126]],[&quot;^1@&quot;,[4230,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4230,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871126]],[&quot;^1@&quot;,[4230,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871126]],[&quot;^1@&quot;,[4230,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4230,&quot;^?&quot;,&quot;~u6266bf77-f6e1-4686-bff0-8ee110551851&quot;,536871126]],[&quot;^1@&quot;,[4231,&quot;^[&quot;,&quot;例子&quot;,536871126]],[&quot;^1@&quot;,[4231,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4231,&quot;^K&quot;,4178,536871126]],[&quot;^1@&quot;,[4231,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4231,&quot;^13&quot;,4139,536871126]],[&quot;^1@&quot;,[4231,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4231,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4231,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4231,&quot;^?&quot;,&quot;~u6266bf77-bb04-4fb4-b2b7-c25727562c82&quot;,536871126]],[&quot;^1@&quot;,[4232,&quot;^[&quot;,&quot;一般加锁的过程，包含两个步骤：&quot;,536871126]],[&quot;^1@&quot;,[4232,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4232,&quot;^K&quot;,4141,536871126]],[&quot;^1@&quot;,[4232,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4232,&quot;^13&quot;,4141,536871126]],[&quot;^1@&quot;,[4232,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4232,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4232,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4232,&quot;^?&quot;,&quot;~u6266bf77-8fa7-4b43-91e7-5daed5862ac0&quot;,536871126]],[&quot;^1@&quot;,[4233,&quot;^[&quot;,&quot;返回 `old_ptr` 的旧值；\\n\\n                                当然，**关键是这些代码是原子执行**。因为既可以测试旧值，又可以设置新值，所以我们把这条指令叫作「测试并设置」。&quot;,536871126]],[&quot;^1@&quot;,[4233,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4233,&quot;^K&quot;,4130,536871126]],[&quot;^1@&quot;,[4233,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4233,&quot;^13&quot;,4138,536871126]],[&quot;^1@&quot;,[4233,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4233,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4233,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4233,&quot;^?&quot;,&quot;~u6266bf77-cdc5-4809-b908-1bde7df9e5a4&quot;,536871126]],[&quot;^1@&quot;,[4234,&quot;^[&quot;,&quot;就是要么全部执行，要么都不执行，不能出现执行到一半的中间状态&quot;,536871126]],[&quot;^1@&quot;,[4234,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4234,&quot;^K&quot;,4115,536871126]],[&quot;^1@&quot;,[4234,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4234,&quot;^13&quot;,4115,536871126]],[&quot;^1@&quot;,[4234,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4234,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4234,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4234,&quot;^?&quot;,&quot;~u6266bf77-996e-4fcd-aff0-a3448216a861&quot;,536871126]],[&quot;^1@&quot;,[4235,&quot;^[&quot;,&quot;如果互斥信号量为 1，表示没有线程进入临界区；&quot;,536871126]],[&quot;^1@&quot;,[4235,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4235,&quot;^K&quot;,4210,536871126]],[&quot;^1@&quot;,[4235,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4235,&quot;^13&quot;,4210,536871126]],[&quot;^1@&quot;,[4235,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4235,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4235,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4235,&quot;^?&quot;,&quot;~u6266bf77-a21e-4db8-b2e7-1da3861207c1&quot;,536871126]],[&quot;^1@&quot;,[4236,&quot;^[&quot;,&quot;当用户提交修改时，发给服务端的请求会带上原始文档版本号，服务器收到后将它与当前版本号进行比较，如果版本号一致则修改成功，否则提交失败。\\n\\n                    实际上，我们常见的 SVN 和 Git 也是用了乐观锁的思想，先让用户编辑代码，然后提交的时候，通过版本号来判断是否产生了冲突，发生了冲突的地方，需要我们自己修改后，再重新提交。\\n\\n\\n                乐观锁虽然去除了加锁解锁的操作，但是一旦发生冲突，重试的成本非常高，所以**只有在冲突概率非常低，且加锁成本非常高的场景时，才考虑使用乐观锁。**&quot;,536871126]],[&quot;^1@&quot;,[4236,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4236,&quot;^K&quot;,4156,536871126]],[&quot;^1@&quot;,[4236,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4236,&quot;^13&quot;,4179,536871126]],[&quot;^1@&quot;,[4236,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4236,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4236,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4236,&quot;^?&quot;,&quot;~u6266bf77-250e-493a-867c-54ff04862a2e&quot;,536871126]],[&quot;^1@&quot;,[4237,&quot;^[&quot;,&quot;**读写锁在读多写少的场景，能发挥出优势**。另外，根据实现的不同，读写锁可以分为「读优先锁」和「写优先锁」。&quot;,536871126]],[&quot;^1@&quot;,[4237,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4237,&quot;^K&quot;,4126,536871126]],[&quot;^1@&quot;,[4237,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4237,&quot;^13&quot;,4126,536871126]],[&quot;^1@&quot;,[4237,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4237,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4237,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4237,&quot;^?&quot;,&quot;~u6266bf77-1d81-4aa8-b50d-6fc14fd62dc4&quot;,536871126]],[&quot;^1@&quot;,[4238,&quot;^[&quot;,&quot;**保证一个线程在临界区执行时，其他线程应该被阻止进入临界区**(代码执行过程中，最多只能出现一个线程)&quot;,536871126]],[&quot;^1@&quot;,[4238,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4238,&quot;^K&quot;,4144,536871126]],[&quot;^1@&quot;,[4238,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4238,&quot;^13&quot;,4108,536871126]],[&quot;^1@&quot;,[4238,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4238,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4238,&quot;^?&quot;,&quot;~u6266bf77-2009-462a-8e24-92acd987bf24&quot;,536871126]],[&quot;^1@&quot;,[4239,&quot;^[&quot;,&quot;读写锁 - 角色模式\\n  \\n  允许多个线程同时读共享数据，而对写操作是互斥的。&quot;,536871126]],[&quot;^1@&quot;,[4239,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4239,&quot;^K&quot;,4199,536871126]],[&quot;^1@&quot;,[4239,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4239,&quot;^13&quot;,4166,536871126]],[&quot;^1@&quot;,[4239,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4239,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4239,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4239,&quot;^?&quot;,&quot;~u6266bf77-50c7-4302-947f-948eceb216c5&quot;,536871126]],[&quot;^1@&quot;,[4240,&quot;^1F&quot;,&quot;-e5--b9--b6--e5--8f--91--e4--b8--8e--e6--97--b6--e9--97--b4--e7--89--87-&quot;,536873067]],[&quot;^1@&quot;,[4240,&quot;^T&quot;,true,536873410]],[&quot;^1@&quot;,[4240,&quot;^[&quot;,&quot;并发与时间片&quot;,536873230]],[&quot;^1@&quot;,[4240,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4240,&quot;^K&quot;,4184,536871126]],[&quot;^1@&quot;,[4240,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4240,&quot;^13&quot;,4184,536871126]],[&quot;^1@&quot;,[4240,&quot;^12&quot;,4089,536873230]],[&quot;^1@&quot;,[4240,&quot;^D&quot;,[&quot;^ &quot;],536873230]],[&quot;^1@&quot;,[4240,&quot;^1G&quot;,3,536873227]],[&quot;^1@&quot;,[4240,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4240,&quot;^?&quot;,&quot;~u6266bf77-0dd8-489c-899f-9d398b022209&quot;,536871126]],[&quot;^1@&quot;,[4241,&quot;^[&quot;,&quot;如何实现读写锁\\n  \\n  **[阿里巴巴面试之利用两个int值实现读写锁](https://www.cnblogs.com/DarrenChan/p/8619476.html)**&quot;,536871126]],[&quot;^1@&quot;,[4241,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4241,&quot;^K&quot;,4126,536871126]],[&quot;^1@&quot;,[4241,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4241,&quot;^13&quot;,4239,536871126]],[&quot;^1@&quot;,[4241,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4241,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4241,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4241,&quot;^?&quot;,&quot;~u6266bf77-0c96-4273-9b69-a52c0a4a9d87&quot;,536871126]],[&quot;^1@&quot;,[4242,&quot;^[&quot;,&quot;并发进程之间的交互必须满足两个基本要求：同步和通信。进程竞争资源时要实施互斥，互斥是一种特殊的同步，进程同步是一种进程通信。&quot;,536871126]],[&quot;^1@&quot;,[4242,&quot;^X&quot;,&quot;^1D&quot;,536871126]],[&quot;^1@&quot;,[4242,&quot;^K&quot;,4112,536871126]],[&quot;^1@&quot;,[4242,&quot;^17&quot;,4089,536871126]],[&quot;^1@&quot;,[4242,&quot;^13&quot;,4112,536871126]],[&quot;^1@&quot;,[4242,&quot;^12&quot;,2,536871126]],[&quot;^1@&quot;,[4242,&quot;^12&quot;,4089,536871126]],[&quot;^1@&quot;,[4242,&quot;^1E&quot;,true,536871126]],[&quot;^1@&quot;,[4242,&quot;^?&quot;,&quot;~u6266bf77-b42b-4f40-ab73-9af50c2157d8&quot;,536871126]],[&quot;^1@&quot;,[4426,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4426,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4426,&quot;^K&quot;,4427,536871134]],[&quot;^1@&quot;,[4426,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4426,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4426,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4426,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4426,&quot;^?&quot;,&quot;~u6266bf77-0581-4025-b5e1-06a16455e434&quot;,536871134]],[&quot;^1@&quot;,[4427,&quot;^[&quot;,&quot;{{renderer :toc_lkjpayax}}&quot;,536871134]],[&quot;^1@&quot;,[4427,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4427,&quot;^K&quot;,4432,536871134]],[&quot;^1@&quot;,[4427,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4427,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4427,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4427,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4427,&quot;^?&quot;,&quot;~u6266bf77-5e2f-49b9-ae8c-c4b3e7822430&quot;,536871134]],[&quot;^1@&quot;,[4428,&quot;^[&quot;,&quot;而在块设备上构建了文件系统后，文件系统帮助块设备组织管理数据，数据存储对用户更加友好（以文件名来读写数据）。Ceph文件系统接口解决了“Ceph块设备+本地文件系统”不支持多客户端共享读写的问题，但由于文件系统结构的复杂性导致了存储性能较Ceph块设备差。&quot;,536871134]],[&quot;^1@&quot;,[4428,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4428,&quot;^K&quot;,4443,536871134]],[&quot;^1@&quot;,[4428,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4428,&quot;^13&quot;,4448,536871134]],[&quot;^1@&quot;,[4428,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4428,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4428,&quot;^?&quot;,&quot;~u6266bf77-9951-4203-9f82-62305a89965b&quot;,536871134]],[&quot;^1@&quot;,[4429,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4429,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4429,&quot;^K&quot;,4431,536871134]],[&quot;^1@&quot;,[4429,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4429,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4429,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4429,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4429,&quot;^?&quot;,&quot;~u6266bf77-1394-48c1-b7e5-f7c275a99b53&quot;,536871134]],[&quot;^1@&quot;,[4430,&quot;^T&quot;,true,536871134]],[&quot;^1@&quot;,[4430,&quot;^[&quot;,&quot;🤣🤣🤣  LMAO for the first time i see this picture.\\ncollapsed:: true&quot;,536871134]],[&quot;^1@&quot;,[4430,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4430,&quot;^K&quot;,4440,536871134]],[&quot;^1@&quot;,[4430,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4430,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4430,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4430,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871134]],[&quot;^1@&quot;,[4430,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871134]],[&quot;^1@&quot;,[4430,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4430,&quot;^?&quot;,&quot;~u6266bf77-ef2c-410f-9de2-4e47c47443a3&quot;,536871134]],[&quot;^1@&quot;,[4431,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4431,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4431,&quot;^K&quot;,4435,536871134]],[&quot;^1@&quot;,[4431,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4431,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4431,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4431,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4431,&quot;^?&quot;,&quot;~u6266bf77-e878-4560-84ae-ef059bc7d972&quot;,536871134]],[&quot;^1@&quot;,[4432,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4432,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4432,&quot;^K&quot;,4446,536871134]],[&quot;^1@&quot;,[4432,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4432,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4432,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4432,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4432,&quot;^?&quot;,&quot;~u6266bf77-5bca-426b-a800-6f216cc37dfb&quot;,536871134]],[&quot;^1@&quot;,[4433,&quot;^[&quot;,&quot;![image.png](../assets/image_1650360878463_0.png)&quot;,536871134]],[&quot;^1@&quot;,[4433,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4433,&quot;^K&quot;,4430,536871134]],[&quot;^1@&quot;,[4433,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4433,&quot;^13&quot;,4430,536871134]],[&quot;^1@&quot;,[4433,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4433,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4433,&quot;^?&quot;,&quot;~u6266bf77-3bc5-4e92-8999-364cb56067ba&quot;,536871134]],[&quot;^1@&quot;,[4434,&quot;^T&quot;,true,536871134]],[&quot;^1@&quot;,[4434,&quot;^[&quot;,&quot;## 分类意义：[为什么会出现三种差别](https://www.zhihu.com/question/21536660)？\\ncollapsed:: true&quot;,536871134]],[&quot;^1@&quot;,[4434,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4434,&quot;^14&quot;,2,536871134]],[&quot;^1@&quot;,[4434,&quot;^K&quot;,4441,536871134]],[&quot;^1@&quot;,[4434,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4434,&quot;^13&quot;,4427,536871134]],[&quot;^1@&quot;,[4434,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4434,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871134]],[&quot;^1@&quot;,[4434,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871134]],[&quot;^1@&quot;,[4434,&quot;^1G&quot;,2,536871134]],[&quot;^1@&quot;,[4434,&quot;^15&quot;,&quot;^1H&quot;,536871134]],[&quot;^1@&quot;,[4434,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4434,&quot;^?&quot;,&quot;~u6266bf77-23e1-4de6-b9b3-f7b2420ddbaa&quot;,536871134]],[&quot;^1@&quot;,[4435,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4435,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4435,&quot;^K&quot;,4426,536871134]],[&quot;^1@&quot;,[4435,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4435,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4435,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4435,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4435,&quot;^?&quot;,&quot;~u6266bf77-7e2b-4a83-90b8-20c05dad3af7&quot;,536871134]],[&quot;^1@&quot;,[4436,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4436,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4436,&quot;^K&quot;,4430,536871134]],[&quot;^1@&quot;,[4436,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4436,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4436,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4436,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4436,&quot;^?&quot;,&quot;~u6266bf77-0c3e-4c60-bd9c-2c7e1109e9d1&quot;,536871134]],[&quot;^1@&quot;,[4437,&quot;^[&quot;,&quot;对象存储接口是一种折中，保证一定的存储性能，同时支持多客户端共享读写。&quot;,536871134]],[&quot;^1@&quot;,[4437,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4437,&quot;^K&quot;,4428,536871134]],[&quot;^1@&quot;,[4437,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4437,&quot;^13&quot;,4448,536871134]],[&quot;^1@&quot;,[4437,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4437,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4437,&quot;^?&quot;,&quot;~u6266bf77-0f27-440c-a768-3783b0b40808&quot;,536871134]],[&quot;^1@&quot;,[4438,&quot;^[&quot;,&quot;文件存储的用户是自然人；&quot;,536871134]],[&quot;^1@&quot;,[4438,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4438,&quot;^K&quot;,4450,536871134]],[&quot;^1@&quot;,[4438,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4438,&quot;^13&quot;,4445,536871134]],[&quot;^1@&quot;,[4438,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4438,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4438,&quot;^?&quot;,&quot;~u6266bf77-53cf-4898-a412-a6a9871260de&quot;,536871134]],[&quot;^1@&quot;,[4439,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4439,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4439,&quot;^K&quot;,4449,536871134]],[&quot;^1@&quot;,[4439,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4439,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4439,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4439,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4439,&quot;^?&quot;,&quot;~u6266bf77-dc0a-464d-8d6f-2d82b38c2c9b&quot;,536871134]],[&quot;^1@&quot;,[4440,&quot;^[&quot;,&quot;public:: true\\ntitle:: 分布式存储系统对比: 块，文件，对象\\n\\n&quot;,536871134]],[&quot;^1@&quot;,[4440,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4440,&quot;^K&quot;,295,536871134]],[&quot;^1@&quot;,[4440,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4440,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4440,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4440,&quot;^=&quot;,true,536871134]],[&quot;^1@&quot;,[4440,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true,&quot;^1L&quot;,&quot;分布式存储系统对比: 块，文件，对象&quot;],536871134]],[&quot;^1@&quot;,[4440,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1B&quot;,&quot;^1L&quot;]],536871134]],[&quot;^1@&quot;,[4440,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4440,&quot;^?&quot;,&quot;~u6266bf77-f4a2-4c90-b8d3-17549596b026&quot;,536871134]],[&quot;^1@&quot;,[4441,&quot;^T&quot;,true,536871134]],[&quot;^1@&quot;,[4441,&quot;^[&quot;,&quot;## 分布式存储\\ncollapsed:: true&quot;,536871134]],[&quot;^1@&quot;,[4441,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4441,&quot;^14&quot;,2,536871134]],[&quot;^1@&quot;,[4441,&quot;^K&quot;,4427,536871134]],[&quot;^1@&quot;,[4441,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4441,&quot;^13&quot;,4427,536871134]],[&quot;^1@&quot;,[4441,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4441,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871134]],[&quot;^1@&quot;,[4441,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871134]],[&quot;^1@&quot;,[4441,&quot;^1G&quot;,2,536871134]],[&quot;^1@&quot;,[4441,&quot;^15&quot;,&quot;^1H&quot;,536871134]],[&quot;^1@&quot;,[4441,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4441,&quot;^?&quot;,&quot;~u6266bf77-3b29-4d5a-98a8-2fe4f3cb9c4f&quot;,536871134]],[&quot;^1@&quot;,[4442,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4442,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4442,&quot;^K&quot;,4429,536871134]],[&quot;^1@&quot;,[4442,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4442,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4442,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4442,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4442,&quot;^?&quot;,&quot;~u6266bf77-5a42-4d13-8ead-396679975112&quot;,536871134]],[&quot;^1@&quot;,[4443,&quot;^[&quot;,&quot;块设备速度快，对存储的数据没有进行组织管理，但在大多数场景下，用户数据读写不方便（以块设备位置offset + 数据的length来记录数据位置，读写数据）。&quot;,536871134]],[&quot;^1@&quot;,[4443,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4443,&quot;^K&quot;,4448,536871134]],[&quot;^1@&quot;,[4443,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4443,&quot;^13&quot;,4448,536871134]],[&quot;^1@&quot;,[4443,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4443,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4443,&quot;^?&quot;,&quot;~u6266bf77-13ae-4e7b-95cd-f10a3bddadf6&quot;,536871134]],[&quot;^1@&quot;,[4444,&quot;^[&quot;,&quot;对象存储的用户则是其它计算机软件。&quot;,536871134]],[&quot;^1@&quot;,[4444,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4444,&quot;^K&quot;,4438,536871134]],[&quot;^1@&quot;,[4444,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4444,&quot;^13&quot;,4445,536871134]],[&quot;^1@&quot;,[4444,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4444,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4444,&quot;^?&quot;,&quot;~u6266bf77-c599-4439-ad97-19f16af934f1&quot;,536871134]],[&quot;^1@&quot;,[4445,&quot;^[&quot;,&quot;[answer1](https://www.zhihu.com/question/21536660/answer/1159036357) 本质差别是使用数据的“用户”不同:&quot;,536871134]],[&quot;^1@&quot;,[4445,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4445,&quot;^K&quot;,4434,536871134]],[&quot;^1@&quot;,[4445,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4445,&quot;^13&quot;,4434,536871134]],[&quot;^1@&quot;,[4445,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4445,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4445,&quot;^?&quot;,&quot;~u6266bf77-a34a-4a40-a648-3086cf384dc7&quot;,536871134]],[&quot;^1@&quot;,[4446,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4446,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4446,&quot;^K&quot;,4439,536871134]],[&quot;^1@&quot;,[4446,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4446,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4446,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4446,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4446,&quot;^?&quot;,&quot;~u6266bf77-2245-401e-980a-77c6ac21de38&quot;,536871134]],[&quot;^1@&quot;,[4447,&quot;^[&quot;,&quot;所谓分布式存储，就是这个底层的存储系统，因为要存放的数据非常多，单一服务器所能连接的物理介质是有限的，提供的IO性能也是有限的，所以通过多台服务器协同工作，每台服务器连接若干物理介质，一起为多个系统提供存储服务。为了满足不同的访问需求，往往一个分布式存储系统，可以同时提供文件存储、块存储和对象存储这三种形式的服务。&quot;,536871134]],[&quot;^1@&quot;,[4447,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4447,&quot;^K&quot;,4441,536871134]],[&quot;^1@&quot;,[4447,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4447,&quot;^13&quot;,4441,536871134]],[&quot;^1@&quot;,[4447,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4447,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4447,&quot;^?&quot;,&quot;~u6266bf77-b9ec-4e25-aea3-77e03672a5d0&quot;,536871134]],[&quot;^1@&quot;,[4448,&quot;^T&quot;,true,536871134]],[&quot;^1@&quot;,[4448,&quot;^[&quot;,&quot;## 性能对比：[块存储 vs 文件存储 vs 对象存储](https://blog.csdn.net/gengzhikui1992/article/details/55805944)\\ncollapsed:: true&quot;,536871134]],[&quot;^1@&quot;,[4448,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4448,&quot;^14&quot;,2,536871134]],[&quot;^1@&quot;,[4448,&quot;^K&quot;,4434,536871134]],[&quot;^1@&quot;,[4448,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4448,&quot;^13&quot;,4427,536871134]],[&quot;^1@&quot;,[4448,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4448,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536871134]],[&quot;^1@&quot;,[4448,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536871134]],[&quot;^1@&quot;,[4448,&quot;^1G&quot;,2,536871134]],[&quot;^1@&quot;,[4448,&quot;^15&quot;,&quot;^1H&quot;,536871134]],[&quot;^1@&quot;,[4448,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4448,&quot;^?&quot;,&quot;~u6266bf77-43a7-4b8d-a9d9-ac5b68e3ea3a&quot;,536871134]],[&quot;^1@&quot;,[4449,&quot;^[&quot;,&quot;{{renderer :tocgen, [[分布式存储系统对比: 块，文件，对象]] , 2}}&quot;,536871134]],[&quot;^1@&quot;,[4449,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4449,&quot;^K&quot;,4436,536871134]],[&quot;^1@&quot;,[4449,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4449,&quot;^13&quot;,295,536871134]],[&quot;^1@&quot;,[4449,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4449,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4449,&quot;^?&quot;,&quot;~u6266bf77-b19f-4fa2-9a74-2bded25f142c&quot;,536871134]],[&quot;^1@&quot;,[4450,&quot;^[&quot;,&quot;块存储的用户是可以读写块设备的软件系统，例如传统的文件系统、数据库；&quot;,536871134]],[&quot;^1@&quot;,[4450,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4450,&quot;^K&quot;,4445,536871134]],[&quot;^1@&quot;,[4450,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4450,&quot;^13&quot;,4445,536871134]],[&quot;^1@&quot;,[4450,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4450,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4450,&quot;^?&quot;,&quot;~u6266bf77-ac87-4238-88ec-0b1beaaf7e3b&quot;,536871134]],[&quot;^1@&quot;,[4451,&quot;^[&quot;,&quot;&quot;,536871134]],[&quot;^1@&quot;,[4451,&quot;^X&quot;,&quot;^1D&quot;,536871134]],[&quot;^1@&quot;,[4451,&quot;^K&quot;,4445,536871134]],[&quot;^1@&quot;,[4451,&quot;^17&quot;,295,536871134]],[&quot;^1@&quot;,[4451,&quot;^13&quot;,4434,536871134]],[&quot;^1@&quot;,[4451,&quot;^12&quot;,295,536871134]],[&quot;^1@&quot;,[4451,&quot;^1E&quot;,true,536871134]],[&quot;^1@&quot;,[4451,&quot;^?&quot;,&quot;~u6266bf77-b486-4f9d-8d8f-7db24cff86c0&quot;,536871134]],[&quot;^1@&quot;,[5726,&quot;^11&quot;,&quot;^10&quot;,536871188]],[&quot;^1@&quot;,[5727,&quot;^2&quot;,1,536871189]],[&quot;^1@&quot;,[5727,&quot;^11&quot;,&quot;^2&quot;,536871189]],[&quot;^1@&quot;,[5729,&quot;^1=&quot;,1,536871191]],[&quot;^1@&quot;,[5738,&quot;^1=&quot;,1,536871436]],[&quot;^1@&quot;,[6046,&quot;^1=&quot;,1,536871468]],[&quot;^1@&quot;,[6069,&quot;^1=&quot;,1,536871807]],[&quot;^1@&quot;,[6161,&quot;^1=&quot;,1,536872805]],[&quot;^1@&quot;,[6171,&quot;^[&quot;,&quot;IPC（Inter Process Communication）&quot;,536872972]],[&quot;^1@&quot;,[6171,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6171,&quot;^K&quot;,4224,536872973]],[&quot;^1@&quot;,[6171,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6171,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6171,&quot;^12&quot;,4089,536872973]],[&quot;^1@&quot;,[6171,&quot;^12&quot;,4091,536872973]],[&quot;^1@&quot;,[6171,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6171,&quot;^?&quot;,&quot;~u8b005397-a245-4336-b60f-5aabeb4dfeef&quot;,536872972]],[&quot;^1@&quot;,[6172,&quot;^T&quot;,true,536873480]],[&quot;^1@&quot;,[6172,&quot;^[&quot;,&quot;why [进程间需要通信](https://blog.csdn.net/alpha_love/article/details/62238170)？\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6172,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6172,&quot;^K&quot;,6171,536872972]],[&quot;^1@&quot;,[6172,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6172,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6172,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6172,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6172,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6172,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6172,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6172,&quot;^?&quot;,&quot;~u2f0f1c6c-39f7-4e11-87ae-2f94a69da08c&quot;,536872972]],[&quot;^1@&quot;,[6173,&quot;^[&quot;,&quot;通知事件：一个进程需要向另一个或一组进程发送消息，通知它（它们）发生了某种事件（如进程终止时要通知父进程）。\\n  \\n  进程控制：有些进程希望完全控制另一个进程的执行（如 Debug 进程），此时控制进程希望能够拦截另一个进程的所有陷入和异常，并能够及时知道它的状态改变。\\n  \\n  数据传输：一个进程需要将它的数据发送给另一个进程。（copy粘贴，大量并行计算）&quot;,536872972]],[&quot;^1@&quot;,[6173,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6173,&quot;^K&quot;,6172,536872972]],[&quot;^1@&quot;,[6173,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6173,&quot;^13&quot;,6172,536872972]],[&quot;^1@&quot;,[6173,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6173,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6173,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6173,&quot;^?&quot;,&quot;~u5cce5fc0-a186-4d44-92a0-5a1d851a0281&quot;,536872972]],[&quot;^1@&quot;,[6174,&quot;^T&quot;,true,536873484]],[&quot;^1@&quot;,[6174,&quot;^[&quot;,&quot;what 进程间通信 - 定义\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6174,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6174,&quot;^K&quot;,6172,536872972]],[&quot;^1@&quot;,[6174,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6174,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6174,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6174,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6174,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6174,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6174,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6174,&quot;^?&quot;,&quot;~ua363cbaa-205c-48d9-976c-38d48272fef8&quot;,536872972]],[&quot;^1@&quot;,[6175,&quot;^[&quot;,&quot;进程之间互相交换信息的工作称之为进程通信IPC （InterProcess Communication）（主要是指大量数据的交换）。&quot;,536872972]],[&quot;^1@&quot;,[6175,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6175,&quot;^K&quot;,6174,536872972]],[&quot;^1@&quot;,[6175,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6175,&quot;^13&quot;,6174,536872972]],[&quot;^1@&quot;,[6175,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6175,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6175,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6175,&quot;^?&quot;,&quot;~u3435a390-471e-44e1-92f6-5a554e6b6e5d&quot;,536872972]],[&quot;^1@&quot;,[6176,&quot;^T&quot;,true,536873490]],[&quot;^1@&quot;,[6176,&quot;^[&quot;,&quot;what 线程间通信 - 定义\\ncollapsed:: true\\n  [线程通信是同一个进程的多个子线程之间的通信。](https://zhuanlan.zhihu.com/p/365838214)&quot;,536872972]],[&quot;^1@&quot;,[6176,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6176,&quot;^K&quot;,6174,536872972]],[&quot;^1@&quot;,[6176,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6176,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6176,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6176,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6176,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6176,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6176,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6176,&quot;^?&quot;,&quot;~u1a3b80ff-4d8c-4b77-99e7-252e5cb3b024&quot;,536872972]],[&quot;^1@&quot;,[6177,&quot;^[&quot;,&quot;（一个进程下的线程间是共享内存空间的，故线程A可以之间访问线程B中定义的变量，但是必须注意并发的情况）&quot;,536872972]],[&quot;^1@&quot;,[6177,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6177,&quot;^K&quot;,6176,536872972]],[&quot;^1@&quot;,[6177,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6177,&quot;^13&quot;,6176,536872972]],[&quot;^1@&quot;,[6177,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6177,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6177,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6177,&quot;^?&quot;,&quot;~u0d2ed1e5-dad0-4aad-b5f3-8cd55087f60c&quot;,536872972]],[&quot;^1@&quot;,[6178,&quot;^[&quot;,&quot;理论上所有的进程通信方式都是可以达到线程间通信的，因为进程就可以看作是一个不能为空的线程集。下面我们主要谈一些线程层面的或者说特有的通信方式。&quot;,536872972]],[&quot;^1@&quot;,[6178,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6178,&quot;^K&quot;,6177,536872972]],[&quot;^1@&quot;,[6178,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6178,&quot;^13&quot;,6176,536872972]],[&quot;^1@&quot;,[6178,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6178,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6178,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6178,&quot;^?&quot;,&quot;~u1d7b9e02-c561-4d5c-8714-922f17ce2c66&quot;,536872972]],[&quot;^1@&quot;,[6179,&quot;^[&quot;,&quot;![image.png](../assets/image_1648114113818_0.png)&quot;,536872972]],[&quot;^1@&quot;,[6179,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6179,&quot;^K&quot;,6178,536872972]],[&quot;^1@&quot;,[6179,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6179,&quot;^13&quot;,6176,536872972]],[&quot;^1@&quot;,[6179,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6179,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6179,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6179,&quot;^?&quot;,&quot;~u32c8cf89-dccd-4c55-8426-12f25f0091a1&quot;,536872972]],[&quot;^1@&quot;,[6180,&quot;^T&quot;,true,536873498]],[&quot;^1@&quot;,[6180,&quot;^[&quot;,&quot;where 在哪里通信？\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6180,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6180,&quot;^K&quot;,6176,536872972]],[&quot;^1@&quot;,[6180,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6180,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6180,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6180,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6180,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6180,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6180,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6180,&quot;^?&quot;,&quot;~u853f798b-22b8-40a4-8111-8d1abc6a62fd&quot;,536872972]],[&quot;^1@&quot;,[6181,&quot;^[&quot;,&quot;每个进程的用户地址空间都是独立的，一般而言是不能互相访问的，但内核空间是每个进程都共享的，所以进程之间要通信必须通过==内核==。（想一想linux 用户分区）&quot;,536872972]],[&quot;^1@&quot;,[6181,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6181,&quot;^K&quot;,6180,536872972]],[&quot;^1@&quot;,[6181,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6181,&quot;^13&quot;,6180,536872972]],[&quot;^1@&quot;,[6181,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6181,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6181,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6181,&quot;^?&quot;,&quot;~u6eaa8b25-5a75-45a6-964c-7f6661816ad7&quot;,536872972]],[&quot;^1@&quot;,[6182,&quot;^T&quot;,true,536873497]],[&quot;^1@&quot;,[6182,&quot;^[&quot;,&quot;进程间通信方法：（定义&amp;优缺点）&quot;,536872972]],[&quot;^1@&quot;,[6182,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6182,&quot;^K&quot;,6180,536872972]],[&quot;^1@&quot;,[6182,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6182,&quot;^13&quot;,4224,536872972]],[&quot;^1@&quot;,[6182,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6182,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6182,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6182,&quot;^?&quot;,&quot;~u48e708b9-9bc4-41df-9cdd-b4f9f5d5639b&quot;,536872972]],[&quot;^1@&quot;,[6183,&quot;^[&quot;,&quot;[[管道]]&quot;,536872972]],[&quot;^1@&quot;,[6183,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6183,&quot;^K&quot;,6182,536872972]],[&quot;^1@&quot;,[6183,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6183,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6183,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6183,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6183,&quot;^12&quot;,5104,536872972]],[&quot;^1@&quot;,[6183,&quot;^M&quot;,5104,536872972]],[&quot;^1@&quot;,[6183,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6183,&quot;^?&quot;,&quot;~u4bc97eaa-67a1-4497-9521-a8672e898cdd&quot;,536872972]],[&quot;^1@&quot;,[6184,&quot;^[&quot;,&quot;[[消息队列]]&quot;,536872972]],[&quot;^1@&quot;,[6184,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6184,&quot;^K&quot;,6183,536872972]],[&quot;^1@&quot;,[6184,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6184,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6184,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6184,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6184,&quot;^12&quot;,4922,536872972]],[&quot;^1@&quot;,[6184,&quot;^M&quot;,4922,536872972]],[&quot;^1@&quot;,[6184,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6184,&quot;^?&quot;,&quot;~u428c76ce-b905-459f-b35e-b4d727d41524&quot;,536872972]],[&quot;^1@&quot;,[6185,&quot;^[&quot;,&quot;[[共享内存]]&quot;,536872972]],[&quot;^1@&quot;,[6185,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6185,&quot;^K&quot;,6184,536872972]],[&quot;^1@&quot;,[6185,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6185,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6185,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6185,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6185,&quot;^12&quot;,4244,536872972]],[&quot;^1@&quot;,[6185,&quot;^M&quot;,4244,536872972]],[&quot;^1@&quot;,[6185,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6185,&quot;^?&quot;,&quot;~u10352b79-f307-4fc1-ae96-8aa9e5c7736c&quot;,536872972]],[&quot;^1@&quot;,[6186,&quot;^[&quot;,&quot;三者总结&quot;,536872972]],[&quot;^1@&quot;,[6186,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6186,&quot;^K&quot;,6185,536872972]],[&quot;^1@&quot;,[6186,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6186,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6186,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6186,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6186,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6186,&quot;^?&quot;,&quot;~uac9b7dea-9c49-4edf-ac54-669cb42f26f7&quot;,536872972]],[&quot;^1@&quot;,[6187,&quot;^[&quot;,&quot;管道和消息队列区别： #card\\ncard-last-interval:: 4\\ncard-repeats:: 1\\ncard-ease-factor:: 2.36\\ncard-next-schedule:: 2022-03-28T09:55:36.745Z\\ncard-last-reviewed:: 2022-03-24T09:55:36.746Z\\ncard-last-score:: 3&quot;,536872972]],[&quot;^1@&quot;,[6187,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6187,&quot;^K&quot;,6186,536872972]],[&quot;^1@&quot;,[6187,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6187,&quot;^13&quot;,6186,536872972]],[&quot;^1@&quot;,[6187,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6187,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6187,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6187,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1P&quot;,4,&quot;^1N&quot;,1,&quot;^1Q&quot;,&quot;2.36&quot;,&quot;^1O&quot;,&quot;2022-03-28T09:55:36.745Z&quot;,&quot;^1R&quot;,&quot;2022-03-24T09:55:36.746Z&quot;,&quot;^1M&quot;,3],536872972]],[&quot;^1@&quot;,[6187,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1P&quot;,&quot;^1N&quot;,&quot;^1Q&quot;,&quot;^1O&quot;,&quot;^1R&quot;,&quot;^1M&quot;,&quot;^1S&quot;]],536872972]],[&quot;^1@&quot;,[6187,&quot;^M&quot;,2,536872972]],[&quot;^1@&quot;,[6187,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6187,&quot;^?&quot;,&quot;~u0f2822c1-f395-48fe-8dd9-81522f418817&quot;,536872972]],[&quot;^1@&quot;,[6188,&quot;^T&quot;,true,536872972]],[&quot;^1@&quot;,[6188,&quot;^[&quot;,&quot;1 生命周期\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6188,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6188,&quot;^K&quot;,6187,536872972]],[&quot;^1@&quot;,[6188,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6188,&quot;^13&quot;,6187,536872972]],[&quot;^1@&quot;,[6188,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6188,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6188,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6188,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6188,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6188,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6188,&quot;^?&quot;,&quot;~u21012e9d-e113-4641-aa3c-912f164667e9&quot;,536872972]],[&quot;^1@&quot;,[6189,&quot;^[&quot;,&quot;匿名管道的生命周期，是随进程的创建而建立，随进程的结束而销毁&quot;,536872972]],[&quot;^1@&quot;,[6189,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6189,&quot;^K&quot;,6188,536872972]],[&quot;^1@&quot;,[6189,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6189,&quot;^13&quot;,6188,536872972]],[&quot;^1@&quot;,[6189,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6189,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6189,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6189,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6189,&quot;^?&quot;,&quot;~u0d5e7b82-171b-4388-91f2-46d9ccab0927&quot;,536872972]],[&quot;^1@&quot;,[6190,&quot;^[&quot;,&quot;消息队列生命周期随内核，如果没有释放消息队列或者没有关闭操作系统，消息队列会一直存在&quot;,536872972]],[&quot;^1@&quot;,[6190,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6190,&quot;^K&quot;,6189,536872972]],[&quot;^1@&quot;,[6190,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6190,&quot;^13&quot;,6188,536872972]],[&quot;^1@&quot;,[6190,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6190,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6190,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6190,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6190,&quot;^?&quot;,&quot;~u8af1588f-730a-4d00-a389-a49ccb7da567&quot;,536872972]],[&quot;^1@&quot;,[6191,&quot;^T&quot;,true,536872972]],[&quot;^1@&quot;,[6191,&quot;^[&quot;,&quot;2 存储方式\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6191,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6191,&quot;^K&quot;,6188,536872972]],[&quot;^1@&quot;,[6191,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6191,&quot;^13&quot;,6187,536872972]],[&quot;^1@&quot;,[6191,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6191,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6191,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6191,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6191,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6191,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6191,&quot;^?&quot;,&quot;~u9ab5e3ab-83d7-4d4d-a3c2-1d16b51a63dc&quot;,536872972]],[&quot;^1@&quot;,[6192,&quot;^[&quot;,&quot;消息队列是保存在内核中的消息链表，&quot;,536872972]],[&quot;^1@&quot;,[6192,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6192,&quot;^K&quot;,6191,536872972]],[&quot;^1@&quot;,[6192,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6192,&quot;^13&quot;,6191,536872972]],[&quot;^1@&quot;,[6192,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6192,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6192,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6192,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6192,&quot;^?&quot;,&quot;~ue89ef4a4-206f-48d2-baa6-2d7eadb69efe&quot;,536872972]],[&quot;^1@&quot;,[6193,&quot;^[&quot;,&quot;管道是无格式的字节流数据&quot;,536872972]],[&quot;^1@&quot;,[6193,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6193,&quot;^K&quot;,6192,536872972]],[&quot;^1@&quot;,[6193,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6193,&quot;^13&quot;,6191,536872972]],[&quot;^1@&quot;,[6193,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6193,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6193,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6193,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6193,&quot;^?&quot;,&quot;~u8c30662b-2e2c-483a-bd73-c19a09c77885&quot;,536872972]],[&quot;^1@&quot;,[6194,&quot;^[&quot;,&quot;|  | 管道 | 消息队列 | 共享内存 |\\n    | --- | --- | --- | --- |\\n    | 定义 |  |  |  |\\n    | 数据形态 | 无格式的字节流数据 | 消息队列是保存在内核中的消息链表，消息体是固定大小的存储块 | 直接数据 |\\n    | 内存中位置 | 内核 | 内核 | 文件 或者 RAM |\\n    | 效率 | 最慢 |  | 高 |&quot;,536872972]],[&quot;^1@&quot;,[6194,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6194,&quot;^K&quot;,6193,536872972]],[&quot;^1@&quot;,[6194,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6194,&quot;^13&quot;,6191,536872972]],[&quot;^1@&quot;,[6194,&quot;^12&quot;,2,536872972]],[&quot;^1@&quot;,[6194,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6194,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6194,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6194,&quot;^?&quot;,&quot;~u107a6456-5973-4bd9-a601-729693e7fc16&quot;,536872972]],[&quot;^1@&quot;,[6195,&quot;^T&quot;,true,536872972]],[&quot;^1@&quot;,[6195,&quot;^[&quot;,&quot;信号\\ncollapsed:: true&quot;,536872972]],[&quot;^1@&quot;,[6195,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6195,&quot;^K&quot;,6186,536872972]],[&quot;^1@&quot;,[6195,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6195,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6195,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6195,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6195,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6195,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6195,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6195,&quot;^?&quot;,&quot;~u95dec4c8-ab2e-460e-a7c6-e8a0492b2ad1&quot;,536872972]],[&quot;^1@&quot;,[6196,&quot;^[&quot;,&quot;上面说的进程间通信，都是常规状态下的工作模式。对于异常情况下的工作模式，就需要用「信号」的方式来通知进程。&quot;,536872972]],[&quot;^1@&quot;,[6196,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6196,&quot;^K&quot;,6195,536872972]],[&quot;^1@&quot;,[6196,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6196,&quot;^13&quot;,6195,536872972]],[&quot;^1@&quot;,[6196,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6196,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6196,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6196,&quot;^?&quot;,&quot;~u7de183f2-0a86-4df5-80a1-c790dd1e377c&quot;,536872972]],[&quot;^1@&quot;,[6197,&quot;^[&quot;,&quot;在 Linux 操作系统中， 为了响应各种各样的事件，提供了几十种信号，分别代表不同的意义。我们可以通过 `kill -l` 命令，查看所有的信号：&quot;,536872972]],[&quot;^1@&quot;,[6197,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6197,&quot;^K&quot;,6196,536872972]],[&quot;^1@&quot;,[6197,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6197,&quot;^13&quot;,6195,536872972]],[&quot;^1@&quot;,[6197,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6197,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6197,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6197,&quot;^?&quot;,&quot;~ud9cede69-f248-47bc-b83e-0a5ab86c077e&quot;,536872972]],[&quot;^1@&quot;,[6198,&quot;^[&quot;,&quot;运行在 shell 终端的进程，我们可以通过键盘输入某些组合键的时候，给进程发送信号。例如&quot;,536872972]],[&quot;^1@&quot;,[6198,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6198,&quot;^K&quot;,6197,536872972]],[&quot;^1@&quot;,[6198,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6198,&quot;^13&quot;,6195,536872972]],[&quot;^1@&quot;,[6198,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6198,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6198,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6198,&quot;^?&quot;,&quot;~ube2ba874-3f0d-4f62-8591-b07a034f1497&quot;,536872972]],[&quot;^1@&quot;,[6199,&quot;^[&quot;,&quot;Ctrl+C 产生 `SIGINT` 信号，表示终止该进程；&quot;,536872972]],[&quot;^1@&quot;,[6199,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6199,&quot;^K&quot;,6198,536872972]],[&quot;^1@&quot;,[6199,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6199,&quot;^13&quot;,6198,536872972]],[&quot;^1@&quot;,[6199,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6199,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6199,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6199,&quot;^?&quot;,&quot;~u7092feef-1047-46e2-b9d5-272a951166cd&quot;,536872972]],[&quot;^1@&quot;,[6200,&quot;^[&quot;,&quot;Ctrl+Z 产生 `SIGTSTP` 信号，表示停止该进程，但还未结束；\\n\\n        如果进程在后台运行，可以通过 kill 命令的方式给进程发送信号，但前提需要知道运行中的进程 PID 号，例如：&quot;,536872972]],[&quot;^1@&quot;,[6200,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6200,&quot;^K&quot;,6199,536872972]],[&quot;^1@&quot;,[6200,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6200,&quot;^13&quot;,6198,536872972]],[&quot;^1@&quot;,[6200,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6200,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6200,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6200,&quot;^?&quot;,&quot;~uef867bdd-0dd5-4fa9-943c-4be4eb550387&quot;,536872972]],[&quot;^1@&quot;,[6201,&quot;^[&quot;,&quot;~`kill`：`kill -9 1050` ，表示给 PID 为 1050 的进程发送 SIGKILL 信号，用来立即结束该进程；&quot;,536872972]],[&quot;^1@&quot;,[6201,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6201,&quot;^K&quot;,6200,536872972]],[&quot;^1@&quot;,[6201,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6201,&quot;^13&quot;,6198,536872972]],[&quot;^1@&quot;,[6201,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6201,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6201,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6201,&quot;^?&quot;,&quot;~u6ba37a83-c513-4230-9e5d-2b393673866d&quot;,536872972]],[&quot;^1@&quot;,[6202,&quot;^[&quot;,&quot;所以，信号事件的来源主要有硬件来源（如键盘 Cltr+C ）和软件来源（如 kill 命令）。&quot;,536872972]],[&quot;^1@&quot;,[6202,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6202,&quot;^K&quot;,6198,536872972]],[&quot;^1@&quot;,[6202,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6202,&quot;^13&quot;,6195,536872972]],[&quot;^1@&quot;,[6202,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6202,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6202,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6202,&quot;^?&quot;,&quot;~ufe1575e2-42ca-4055-8f36-cd2b1223593f&quot;,536872972]],[&quot;^1@&quot;,[6203,&quot;^[&quot;,&quot;信号是进程间通信机制中**唯一的异步通信机制**，因为可以在任何时候发送信号给某一进程，一旦有信号产生，我们就有下面这几种，用户进程对信号的处理方式。\\n  \\n  **1.执行默认操作**。Linux 对每种信号都规定了默认操作，例如，上面列表中的 SIGTERM 信号，就是终止进程的意思。Core 的意思是 Core Dump，也即终止进程后，通过 Core Dump 将当前进程的运行状态保存在文件里面，方便程序员事后进行分析问题在哪里。\\n  \\n  **2.捕捉信号**。我们可以为信号定义一个信号处理函数。当信号发生时，我们就执行相应的信号处理函数。\\n  \\n  **3.忽略信号**。当我们不希望处理某些信号的时候，就可以忽略该信号，不做任何处理。有两个信号是应用进程无法捕捉和忽略的，即 `SIGKILL` 和 `SEGSTOP`，它们用于在任何时候中断或结束某一进程。&quot;,536872972]],[&quot;^1@&quot;,[6203,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6203,&quot;^K&quot;,6202,536872972]],[&quot;^1@&quot;,[6203,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6203,&quot;^13&quot;,6195,536872972]],[&quot;^1@&quot;,[6203,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6203,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6203,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6203,&quot;^?&quot;,&quot;~u9cba2fd0-66c9-4a65-8745-92b2f6c36bb7&quot;,536872972]],[&quot;^1@&quot;,[6204,&quot;^T&quot;,true,536872972]],[&quot;^1@&quot;,[6204,&quot;^[&quot;,&quot;[socket](https://www.notion.so/OS-Linux-socket-851919365453451c9cd9ca4a3e45b1d2)\\ncollapsed:: true\\n  \\n  套接字通信并不为Linux所专有，在所有提供了TCP/IP协议栈的操作系统中几乎都提供了socket，而所有这样操作系统，对套接字的编程方法几乎是完全一样的\\n  \\n  前面都是同一台主机，Socket 通信不仅可以跨网络与不同主机的进程间通信，还可以在同主机上进程间通信。我们来看看创建 socket 的系统调用：\\n  \\n  ```cpp\\n  int socket(int domain, int type, int protocal)\\n  ```&quot;,536872972]],[&quot;^1@&quot;,[6204,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6204,&quot;^K&quot;,6195,536872972]],[&quot;^1@&quot;,[6204,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6204,&quot;^13&quot;,6182,536872972]],[&quot;^1@&quot;,[6204,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6204,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6204,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1I&quot;,true],536872972]],[&quot;^1@&quot;,[6204,&quot;^Q&quot;,[&quot;^1?&quot;,[&quot;^1I&quot;]],536872972]],[&quot;^1@&quot;,[6204,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6204,&quot;^?&quot;,&quot;~u3ea61501-f233-4f5a-850d-994237fcdaac&quot;,536872972]],[&quot;^1@&quot;,[6205,&quot;^[&quot;,&quot;三个参数分别代表：&quot;,536872972]],[&quot;^1@&quot;,[6205,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6205,&quot;^K&quot;,6204,536872972]],[&quot;^1@&quot;,[6205,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6205,&quot;^13&quot;,6204,536872972]],[&quot;^1@&quot;,[6205,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6205,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6205,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6205,&quot;^?&quot;,&quot;~uda1105e8-1ec5-4c01-b34a-31879862cf32&quot;,536872972]],[&quot;^1@&quot;,[6206,&quot;^[&quot;,&quot;domain 参数用来指定协议族，比如 AF_INET 用于 IPV4、AF_INET6 用于 IPV6、AF_LOCAL/AF_UNIX 用于本机；&quot;,536872972]],[&quot;^1@&quot;,[6206,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6206,&quot;^K&quot;,6205,536872972]],[&quot;^1@&quot;,[6206,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6206,&quot;^13&quot;,6205,536872972]],[&quot;^1@&quot;,[6206,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6206,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6206,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6206,&quot;^?&quot;,&quot;~u72666dbd-3cd6-42a3-a7fd-56abb82e2834&quot;,536872972]],[&quot;^1@&quot;,[6207,&quot;^[&quot;,&quot;type 参数用来指定通信特性，比如 SOCK_STREAM 表示的是字节流，对应 TCP、SOCK_DGRAM 表示的是数据报，对应 UDP、SOCK_RAW 表示的是原始套接字；&quot;,536872972]],[&quot;^1@&quot;,[6207,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6207,&quot;^K&quot;,6206,536872972]],[&quot;^1@&quot;,[6207,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6207,&quot;^13&quot;,6205,536872972]],[&quot;^1@&quot;,[6207,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6207,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6207,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6207,&quot;^?&quot;,&quot;~ua20e4300-86d4-48be-bbab-5eec5c6561cc&quot;,536872972]],[&quot;^1@&quot;,[6208,&quot;^[&quot;,&quot;protocal 参数原本是用来指定通信协议的，但现在基本废弃。因为协议已经通过前面两个参数指定完成，protocol 目前一般写成 0 即可；&quot;,536872972]],[&quot;^1@&quot;,[6208,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6208,&quot;^K&quot;,6207,536872972]],[&quot;^1@&quot;,[6208,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6208,&quot;^13&quot;,6205,536872972]],[&quot;^1@&quot;,[6208,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6208,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6208,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6208,&quot;^?&quot;,&quot;~u266da17c-9f72-4c89-9013-acbdfe60e329&quot;,536872972]],[&quot;^1@&quot;,[6209,&quot;^[&quot;,&quot;根据创建 socket 类型的不同，通信的方式也就不同：&quot;,536872972]],[&quot;^1@&quot;,[6209,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6209,&quot;^K&quot;,6205,536872972]],[&quot;^1@&quot;,[6209,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6209,&quot;^13&quot;,6204,536872972]],[&quot;^1@&quot;,[6209,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6209,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6209,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6209,&quot;^?&quot;,&quot;~uaf9831ba-30d1-4b5f-807e-b6a0b65acd3e&quot;,536872972]],[&quot;^1@&quot;,[6210,&quot;^[&quot;,&quot;实现 TCP 字节流通信： socket 类型是 AF_INET 和 SOCK_STREAM；&quot;,536872972]],[&quot;^1@&quot;,[6210,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6210,&quot;^K&quot;,6209,536872972]],[&quot;^1@&quot;,[6210,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6210,&quot;^13&quot;,6209,536872972]],[&quot;^1@&quot;,[6210,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6210,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6210,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6210,&quot;^?&quot;,&quot;~u6c7c0454-7036-46ec-ac3d-b8b8859ad465&quot;,536872972]],[&quot;^1@&quot;,[6211,&quot;^[&quot;,&quot;实现 UDP 数据报通信：socket 类型是 AF_INET 和 SOCK_DGRAM；&quot;,536872972]],[&quot;^1@&quot;,[6211,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6211,&quot;^K&quot;,6210,536872972]],[&quot;^1@&quot;,[6211,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6211,&quot;^13&quot;,6209,536872972]],[&quot;^1@&quot;,[6211,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6211,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6211,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6211,&quot;^?&quot;,&quot;~u835e0a78-aafd-4687-9807-d8c975b46c0d&quot;,536872972]],[&quot;^1@&quot;,[6212,&quot;^[&quot;,&quot;实现本地进程间通信： 「本地字节流 socket 」类型是 AF_LOCAL 和 SOCK_STREAM，「本地数据报 socket 」类型是 AF_LOCAL 和 SOCK_DGRAM。另外，AF_UNIX 和 AF_LOCAL 是等价的，所以 AF_UNIX 也属于本地 socket；\\n\\n    接下来，简单说一下这三种通信的编程模式。&quot;,536872972]],[&quot;^1@&quot;,[6212,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6212,&quot;^K&quot;,6211,536872972]],[&quot;^1@&quot;,[6212,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6212,&quot;^13&quot;,6209,536872972]],[&quot;^1@&quot;,[6212,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6212,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6212,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6212,&quot;^?&quot;,&quot;~u39888ef0-79ee-4376-a2b1-d9b3982a0742&quot;,536872972]],[&quot;^1@&quot;,[6213,&quot;^[&quot;,&quot;针对 TCP 协议通信的 socket 编程模型&quot;,536872972]],[&quot;^1@&quot;,[6213,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6213,&quot;^K&quot;,6209,536872972]],[&quot;^1@&quot;,[6213,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6213,&quot;^13&quot;,6204,536872972]],[&quot;^1@&quot;,[6213,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6213,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6213,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6213,&quot;^?&quot;,&quot;~uf1caff9e-b147-4465-abf8-d253d37060ad&quot;,536872972]],[&quot;^1@&quot;,[6214,&quot;^[&quot;,&quot;服务端和客户端初始化 `socket`，得到文件描述符；&quot;,536872972]],[&quot;^1@&quot;,[6214,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6214,&quot;^K&quot;,6213,536872972]],[&quot;^1@&quot;,[6214,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6214,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6214,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6214,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6214,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6214,&quot;^?&quot;,&quot;~u67e8cab7-b21b-4bed-9fba-7d8030b10505&quot;,536872972]],[&quot;^1@&quot;,[6215,&quot;^[&quot;,&quot;服务端调用 `bind`，将绑定在 IP 地址和端口;&quot;,536872972]],[&quot;^1@&quot;,[6215,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6215,&quot;^K&quot;,6214,536872972]],[&quot;^1@&quot;,[6215,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6215,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6215,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6215,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6215,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6215,&quot;^?&quot;,&quot;~u61d064b5-6f6b-4c21-9a70-134fbb24b147&quot;,536872972]],[&quot;^1@&quot;,[6216,&quot;^[&quot;,&quot;服务端调用 `listen`，进行监听；&quot;,536872972]],[&quot;^1@&quot;,[6216,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6216,&quot;^K&quot;,6215,536872972]],[&quot;^1@&quot;,[6216,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6216,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6216,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6216,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6216,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6216,&quot;^?&quot;,&quot;~ud76fb85f-ea56-40a8-8c9c-ecdc8ae09d57&quot;,536872972]],[&quot;^1@&quot;,[6217,&quot;^[&quot;,&quot;服务端调用 `accept`，等待客户端连接；\\n  \\n  这里需要注意的是，服务端调用 `accept` 时，连接成功了会返回一个已完成连接的 socket，后续用来传输数据。&quot;,536872972]],[&quot;^1@&quot;,[6217,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6217,&quot;^K&quot;,6216,536872972]],[&quot;^1@&quot;,[6217,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6217,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6217,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6217,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6217,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6217,&quot;^?&quot;,&quot;~u6f30013b-9289-4d4c-a98d-75b052034bdb&quot;,536872972]],[&quot;^1@&quot;,[6218,&quot;^[&quot;,&quot;客户端调用 `connect`，向服务器端的地址和端口发起连接请求；&quot;,536872972]],[&quot;^1@&quot;,[6218,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6218,&quot;^K&quot;,6217,536872972]],[&quot;^1@&quot;,[6218,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6218,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6218,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6218,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6218,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6218,&quot;^?&quot;,&quot;~ub42789aa-b5c1-4f4e-a89b-478d4b9e9909&quot;,536872972]],[&quot;^1@&quot;,[6219,&quot;^[&quot;,&quot;服务端 `accept` 返回用于传输的 `socket` 的文件描述符；&quot;,536872972]],[&quot;^1@&quot;,[6219,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6219,&quot;^K&quot;,6218,536872972]],[&quot;^1@&quot;,[6219,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6219,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6219,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6219,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6219,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6219,&quot;^?&quot;,&quot;~u14ea55df-5695-47f5-acd5-3f90e3916b2c&quot;,536872972]],[&quot;^1@&quot;,[6220,&quot;^[&quot;,&quot;客户端调用 `write` 写入数据；服务端调用 `read` 读取数据；&quot;,536872972]],[&quot;^1@&quot;,[6220,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6220,&quot;^K&quot;,6219,536872972]],[&quot;^1@&quot;,[6220,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6220,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6220,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6220,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6220,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6220,&quot;^?&quot;,&quot;~u199a2298-c46d-4c92-b800-3cd770b53b38&quot;,536872972]],[&quot;^1@&quot;,[6221,&quot;^[&quot;,&quot;客户端断开连接时，会调用 `close`，那么服务端 `read` 读取数据的时候，就会读取到了 `EOF`，待处理完数据后，服务端调用 `close`，表示连接关闭。\\n\\n        所以，监听的 socket 和真正用来传送数据的 socket，是「**两个**」 socket，一个叫作**监听 socket**，一个叫作**已完成连接 socket**。\\n\\n        成功连接建立之后，双方开始通过 read 和 write 函数来读写数据，就像往一个文件流里面写东西一样。\\n\\n        [https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS9iMDU3MmRkOS03YTI1LTQ0OTUtOWIyZS0wZTg1NjM0MTg1ZTMucG5n?x-oss-process=image/format,png](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS9iMDU3MmRkOS03YTI1LTQ0OTUtOWIyZS0wZTg1NjM0MTg1ZTMucG5n?x-oss-process=image/format,png)&quot;,536872972]],[&quot;^1@&quot;,[6221,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6221,&quot;^K&quot;,6220,536872972]],[&quot;^1@&quot;,[6221,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6221,&quot;^13&quot;,6213,536872972]],[&quot;^1@&quot;,[6221,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6221,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6221,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6221,&quot;^?&quot;,&quot;~ud0b3d63a-4966-4991-b9b1-d751dae871eb&quot;,536872972]],[&quot;^1@&quot;,[6222,&quot;^[&quot;,&quot;针对 UDP 协议通信的 socket 编程模型\\n  \\n  [https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS82NTRjY2Y3NC02MWJkLTQ3OTItYWNlZi1jYWI3ZWUwZGM5YzkucG5n?x-oss-process=image/format,png](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS82NTRjY2Y3NC02MWJkLTQ3OTItYWNlZi1jYWI3ZWUwZGM5YzkucG5n?x-oss-process=image/format,png)\\n  \\n  UDP 是没有连接的，所以不需要三次握手，也就不需要像 TCP 调用 listen 和 connect，但是 UDP 的交互仍然需要 IP 地址和端口号，因此也需要 bind。\\n  \\n  对于 UDP 来说，不需要要维护连接，那么也就没有所谓的发送方和接收方，甚至都不存在客户端和服务端的概念，只要有一个 socket 多台机器就可以任意通信，因此每一个 UDP 的 socket 都需要 bind。\\n  \\n  另外，每次通信时，调用 sendto 和 recvfrom，都要传入目标主机的 IP 地址和端口。&quot;,536872972]],[&quot;^1@&quot;,[6222,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6222,&quot;^K&quot;,6213,536872972]],[&quot;^1@&quot;,[6222,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6222,&quot;^13&quot;,6204,536872972]],[&quot;^1@&quot;,[6222,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6222,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6222,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6222,&quot;^?&quot;,&quot;~ufbfd434a-f47b-4342-9af2-131fea4e36f7&quot;,536872972]],[&quot;^1@&quot;,[6223,&quot;^[&quot;,&quot;针对本地进程间通信的 socket 编程模型\\n  \\n  本地 socket 被用于在**同一台主机上进程间通信**的场景：&quot;,536872972]],[&quot;^1@&quot;,[6223,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6223,&quot;^K&quot;,6222,536872972]],[&quot;^1@&quot;,[6223,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6223,&quot;^13&quot;,6204,536872972]],[&quot;^1@&quot;,[6223,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6223,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6223,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6223,&quot;^?&quot;,&quot;~u5fbf2f2f-a4ec-4a7b-8971-b5d60cd83799&quot;,536872972]],[&quot;^1@&quot;,[6224,&quot;^[&quot;,&quot;本地 socket 的编程接口和 IPv4 、IPv6 套接字编程接口是一致的，可以支持「字节流」和「数据报」两种协议；&quot;,536872972]],[&quot;^1@&quot;,[6224,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6224,&quot;^K&quot;,6223,536872972]],[&quot;^1@&quot;,[6224,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6224,&quot;^13&quot;,6223,536872972]],[&quot;^1@&quot;,[6224,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6224,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6224,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6224,&quot;^?&quot;,&quot;~u17f0d5b4-37ff-4759-8320-c45d1fe1b691&quot;,536872972]],[&quot;^1@&quot;,[6225,&quot;^[&quot;,&quot;本地 socket 的实现效率大大高于 IPv4 和 IPv6 的字节流、数据报 socket 实现；\\n\\n        对于本地字节流 socket，其 socket 类型是 AF_LOCAL 和 SOCK_STREAM。\\n\\n        对于本地数据报 socket，其 socket 类型是 AF_LOCAL 和 SOCK_DGRAM。\\n\\n        本地字节流 socket 和 本地数据报 socket 在 bind 的时候，不像 TCP 和 UDP 要绑定 IP 地址和端口，而是**绑定一个本地文件**，这也就是它们之间的最大区别。&quot;,536872972]],[&quot;^1@&quot;,[6225,&quot;^X&quot;,&quot;^1D&quot;,536872972]],[&quot;^1@&quot;,[6225,&quot;^K&quot;,6224,536872972]],[&quot;^1@&quot;,[6225,&quot;^17&quot;,4089,536872972]],[&quot;^1@&quot;,[6225,&quot;^13&quot;,6223,536872972]],[&quot;^1@&quot;,[6225,&quot;^12&quot;,4089,536872972]],[&quot;^1@&quot;,[6225,&quot;^12&quot;,4091,536872972]],[&quot;^1@&quot;,[6225,&quot;^1E&quot;,true,536872972]],[&quot;^1@&quot;,[6225,&quot;^?&quot;,&quot;~u18cf7643-20bf-4274-b21c-feb917d2cbfd&quot;,536872972]],[&quot;^1@&quot;,[6227,&quot;^1F&quot;,&quot;&quot;,536873039]],[&quot;^1@&quot;,[6227,&quot;^[&quot;,&quot;&quot;,536873039]],[&quot;^1@&quot;,[6227,&quot;^X&quot;,&quot;^1D&quot;,536873039]],[&quot;^1@&quot;,[6227,&quot;^E&quot;,false,536873039]],[&quot;^1@&quot;,[6227,&quot;^K&quot;,4224,536873039]],[&quot;^1@&quot;,[6227,&quot;^17&quot;,4089,536873039]],[&quot;^1@&quot;,[6227,&quot;^13&quot;,4089,536873039]],[&quot;^1@&quot;,[6227,&quot;^12&quot;,4089,536873042]],[&quot;^1@&quot;,[6227,&quot;^D&quot;,[&quot;^ &quot;],536873042]],[&quot;^1@&quot;,[6227,&quot;^1E&quot;,true,536873039]],[&quot;^1@&quot;,[6227,&quot;^?&quot;,&quot;~u626b5882-423f-400e-9f98-bdb5a2be984f&quot;,536873039]],[&quot;^1@&quot;,[6230,&quot;^1F&quot;,&quot;-e5--9c--a8--e5--8d--95--e6--a0--b8-_CPU_-e7--b3--bb--e7--bb--9f--e2--be--a5--ef--bc--8c--e4--b8--ba--e4--ba--86--e5--ae--9e--e7--8e--b0--e5--a4--9a--e4--b8--aa--e7--a8--8b--e5--ba--8f--e5--90--8c--e6--97--b6--e8--bf--90--e2--be--8f--e7--9a--84--e5--81--87--e8--b1--a1--ef--bc--8c--e6--93--8d--e4--bd--9c--e7--b3--bb--e7--bb--9f--e9--80--9a--e5--b8--b8--e4--bb--a5--e6--97--b6--e9--97--b4--e2--bd--9a--e8--b0--83--e5--ba--a6--e7--9a--84--e2--bd--85--e5--bc--8f--ef--bc--8c--e8--ae--a9--e6--af--8f--e4--b8--aa--e8--bf--9b--e7--a8--8b-_-e6--89--a7--e2--be--8f--e6--af--8f--e6--ac--a1--e6--89--a7--e2--be--8f--e2--bc--80--e4--b8--aa--e6--97--b6--e9--97--b4--e2--bd--9a--ef--bc--8c--e6--97--b6--e9--97--b4--e2--bd--9a--e2--bd--a4--e5--ae--8c--e4--ba--86--ef--bc--8c--e5--b0--b1--e5--88--87--e6--8d--a2--e4--b8--8b--e2--bc--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e8--bf--90--e2--be--8f--ef--bc--8c--e7--94--b1--e4--ba--8e--e8--bf--99--e4--b8--aa--e6--97--b6--e9--97--b4--e2--bd--9a--e7--9a--84--e6--97--b6--e9--97--b4--e5--be--88--e7--9f--ad--ef--bc--8c--e4--ba--8e--e6--98--af--e5--b0--b1--e9--80--a0--e6--88--90--e4--ba--86--e3--80--8c--e5--b9--b6--e5--8f--91--e3--80--8d--e7--9a--84--e7--8e--b0--e8--b1--a1--e3--80--82-&quot;,536873068]],[&quot;^1@&quot;,[6230,&quot;^[&quot;,&quot;在单核 CPU 系统⾥，为了实现多个程序同时运⾏的假象，操作系统通常以时间⽚调度的⽅式，让每个进程 执⾏每次执⾏⼀个时间⽚，时间⽚⽤完了，就切换下⼀个进程运⾏，由于这个时间⽚的时间很短，于是就造成了**「并发」**的现象。\\n  \\n  另外，操作系统也为每个进程创建巨⼤、私有的虚拟内存的假象，这种地址空间的抽象让每个程序好像拥 有⾃⼰的内存，⽽实际上操作系统在背后秘密地**让多个虚拟地址空间「复⽤」物理内存或者磁盘**。\\n  \\n  不加锁冲突容易发生墨菲定律：[多个线程如果竞争共享资源，如果不采取有效的措施，则会造成共享数据的混乱。为什么会发生这种情况](https://www.cnblogs.com/xiaolincoding/p/13346658.html)?&quot;,536873068]],[&quot;^1@&quot;,[6230,&quot;^X&quot;,&quot;^1D&quot;,536873068]],[&quot;^1@&quot;,[6230,&quot;^K&quot;,4240,536873068]],[&quot;^1@&quot;,[6230,&quot;^17&quot;,4089,536873068]],[&quot;^1@&quot;,[6230,&quot;^13&quot;,4240,536873068]],[&quot;^1@&quot;,[6230,&quot;^12&quot;,4089,536873255]],[&quot;^1@&quot;,[6230,&quot;^D&quot;,[&quot;^ &quot;],536873255]],[&quot;^1@&quot;,[6230,&quot;^1E&quot;,true,536873068]],[&quot;^1@&quot;,[6230,&quot;^?&quot;,&quot;~u626b58a0-2356-49db-8f91-fc06e8d6fe29&quot;,536873068]],[&quot;^1@&quot;,[6231,&quot;^1F&quot;,&quot;-e5--8f--af--e4--bb--a5--e5--8f--91--e7--8e--b0--ef--bc--8c--e5--8f--aa--e6--98--af--e5--8d--95--e7--ba--af--e7--bb--99--c2--a0--c2--a0--e5--8a--a0--e4--b8--8a--e6--95--b0--e5--ad--97-_1-ef--bc--8c--e5--9c--a8-_CPU_-e8--bf--90--e8--a1--8c--e7--9a--84--e6--97--b6--e5--80--99--ef--bc--8c--e5--ae--9e--e9--99--85--e4--b8--8a--e8--a6--81--e6--89--a7--e8--a1--8c--c2--a0--c2--a0--e6--9d--a1--e6--8c--87--e4--bb--a4--e3--80--82-&quot;,536873072]],[&quot;^1@&quot;,[6231,&quot;^T&quot;,true,536873252]],[&quot;^1@&quot;,[6231,&quot;^[&quot;,&quot;可以发现，只是单纯给 `i` 加上数字 1，在 CPU 运行的时候，实际上要执行 `3` 条指令。&quot;,536873242]],[&quot;^1@&quot;,[6231,&quot;^X&quot;,&quot;^1D&quot;,536873072]],[&quot;^1@&quot;,[6231,&quot;^K&quot;,4172,536873079]],[&quot;^1@&quot;,[6231,&quot;^17&quot;,4089,536873072]],[&quot;^1@&quot;,[6231,&quot;^13&quot;,4240,536873072]],[&quot;^1@&quot;,[6231,&quot;^12&quot;,4089,536873243]],[&quot;^1@&quot;,[6231,&quot;^D&quot;,[&quot;^ &quot;],536873243]],[&quot;^1@&quot;,[6231,&quot;^1E&quot;,true,536873072]],[&quot;^1@&quot;,[6231,&quot;^?&quot;,&quot;~u626b58b8-908d-4b41-b4f7-ef1fe1a75b62&quot;,536873072]],[&quot;^1@&quot;,[6232,&quot;^1F&quot;,&quot;image-2e-png&quot;,536873078]],[&quot;^1@&quot;,[6232,&quot;^[&quot;,&quot;![image.png](../assets/image_1651202235111_0.png)&quot;,536873078]],[&quot;^1@&quot;,[6232,&quot;^X&quot;,&quot;^1D&quot;,536873075]],[&quot;^1@&quot;,[6232,&quot;^K&quot;,4172,536873075]],[&quot;^1@&quot;,[6232,&quot;^17&quot;,4089,536873075]],[&quot;^1@&quot;,[6232,&quot;^13&quot;,4172,536873079]],[&quot;^1@&quot;,[6232,&quot;^12&quot;,4089,536873079]],[&quot;^1@&quot;,[6232,&quot;^D&quot;,[&quot;^ &quot;],536873079]],[&quot;^1@&quot;,[6232,&quot;^1E&quot;,true,536873075]],[&quot;^1@&quot;,[6232,&quot;^?&quot;,&quot;~u626b58b9-a0a3-4432-be64-a8edb0546da8&quot;,536873075]],[&quot;^1@&quot;,[6233,&quot;^1F&quot;,&quot;-e5--9c--a8--e5--a4--9a--e9--81--93--e7--a8--8b--e5--ba--8f--e8--ae--be--e8--ae--a1--e7--b3--bb--e7--bb--9f--e4--b8--ad--ef--bc--8c--e5--90--8c--e4--b8--80--e6--97--b6--e5--88--bb--e5--8f--af--e8--83--bd--e6--9c--89--e8--ae--b8--e5--a4--9a--e8--bf--9b--e7--a8--8b--ef--bc--8c--e8--bf--99--e4--ba--9b--e8--bf--9b--e7--a8--8b--e4--b9--8b--e9--97--b4--e5--ad--98--e5--9c--a8--e4--b8--a4--e7--a7--8d--e5--9f--ba--e6--9c--ac--e5--85--b3--e7--b3--bb--ef--bc--9a-&quot;,536873119]],[&quot;^1@&quot;,[6233,&quot;^[&quot;,&quot;在多道程序设计系统中，同一时刻可能有许多进程，这些进程之间存在两种基本关系：&quot;,536873119]],[&quot;^1@&quot;,[6233,&quot;^X&quot;,&quot;^1D&quot;,536873101]],[&quot;^1@&quot;,[6233,&quot;^K&quot;,4121,536873110]],[&quot;^1@&quot;,[6233,&quot;^17&quot;,4089,536873101]],[&quot;^1@&quot;,[6233,&quot;^13&quot;,4121,536873110]],[&quot;^1@&quot;,[6233,&quot;^12&quot;,4089,536873119]],[&quot;^1@&quot;,[6233,&quot;^D&quot;,[&quot;^ &quot;],536873119]],[&quot;^1@&quot;,[6233,&quot;^1E&quot;,true,536873101]],[&quot;^1@&quot;,[6233,&quot;^?&quot;,&quot;~u626b58e9-cbbf-4505-ad32-375670dd67d2&quot;,536873101]],[&quot;^1@&quot;,[6234,&quot;^1F&quot;,&quot;image-2e-png&quot;,536873128]],[&quot;^1@&quot;,[6234,&quot;^[&quot;,&quot;![image.png](../assets/image_1651202335082_0.png)&quot;,536873128]],[&quot;^1@&quot;,[6234,&quot;^X&quot;,&quot;^1D&quot;,536873125]],[&quot;^1@&quot;,[6234,&quot;^K&quot;,4219,536873666]],[&quot;^1@&quot;,[6234,&quot;^17&quot;,4089,536873125]],[&quot;^1@&quot;,[6234,&quot;^13&quot;,4184,536873125]],[&quot;^1@&quot;,[6234,&quot;^12&quot;,4089,536873666]],[&quot;^1@&quot;,[6234,&quot;^D&quot;,[&quot;^ &quot;],536873666]],[&quot;^1@&quot;,[6234,&quot;^1E&quot;,true,536873125]],[&quot;^1@&quot;,[6234,&quot;^?&quot;,&quot;~u626b591e-8b98-49e1-ac76-59cb53d9680e&quot;,536873125]],[&quot;^1@&quot;,[6237,&quot;^1F&quot;,&quot;&quot;,536873205]],[&quot;^1@&quot;,[6237,&quot;^[&quot;,&quot;{{renderer :tocgen}}&quot;,536873208]],[&quot;^1@&quot;,[6237,&quot;^X&quot;,&quot;^1D&quot;,536873193]],[&quot;^1@&quot;,[6237,&quot;^K&quot;,6257,536873577]],[&quot;^1@&quot;,[6237,&quot;^17&quot;,4089,536873193]],[&quot;^1@&quot;,[6237,&quot;^13&quot;,4089,536873193]],[&quot;^1@&quot;,[6237,&quot;^12&quot;,4089,536873577]],[&quot;^1@&quot;,[6237,&quot;^D&quot;,[&quot;^ &quot;],536873577]],[&quot;^1@&quot;,[6237,&quot;^1E&quot;,true,536873193]],[&quot;^1@&quot;,[6237,&quot;^?&quot;,&quot;~u626b5afa-9b0b-48a4-8c5d-4a151c92b390&quot;,536873193]],[&quot;^1@&quot;,[6238,&quot;^1F&quot;,&quot;&quot;,536873199]],[&quot;^1@&quot;,[6238,&quot;^[&quot;,&quot;&quot;,536873199]],[&quot;^1@&quot;,[6238,&quot;^X&quot;,&quot;^1D&quot;,536873199]],[&quot;^1@&quot;,[6238,&quot;^K&quot;,6237,536873199]],[&quot;^1@&quot;,[6238,&quot;^17&quot;,4089,536873199]],[&quot;^1@&quot;,[6238,&quot;^13&quot;,4089,536873199]],[&quot;^1@&quot;,[6238,&quot;^12&quot;,4089,536873199]],[&quot;^1@&quot;,[6238,&quot;^D&quot;,[&quot;^ &quot;],536873199]],[&quot;^1@&quot;,[6238,&quot;^1E&quot;,true,536873199]],[&quot;^1@&quot;,[6238,&quot;^?&quot;,&quot;~u626b5b0b-40fc-4ace-b42d-568a09acb625&quot;,536873199]],[&quot;^1@&quot;,[6239,&quot;^1F&quot;,&quot;image-2e-png&quot;,536873249]],[&quot;^1@&quot;,[6239,&quot;^[&quot;,&quot;![image.png](../assets/image_1651202953799_0.png)&quot;,536873249]],[&quot;^1@&quot;,[6239,&quot;^X&quot;,&quot;^1D&quot;,536873243]],[&quot;^1@&quot;,[6239,&quot;^K&quot;,6231,536873243]],[&quot;^1@&quot;,[6239,&quot;^17&quot;,4089,536873243]],[&quot;^1@&quot;,[6239,&quot;^13&quot;,6231,536873246]],[&quot;^1@&quot;,[6239,&quot;^12&quot;,4089,536873249]],[&quot;^1@&quot;,[6239,&quot;^D&quot;,[&quot;^ &quot;],536873249]],[&quot;^1@&quot;,[6239,&quot;^1E&quot;,true,536873243]],[&quot;^1@&quot;,[6239,&quot;^?&quot;,&quot;~u626b5b88-9968-41ec-97f4-4181eeaee37c&quot;,536873243]],[&quot;^1@&quot;,[6240,&quot;^1F&quot;,&quot;&quot;,536873255]],[&quot;^1@&quot;,[6240,&quot;^[&quot;,&quot;&quot;,536873255]],[&quot;^1@&quot;,[6240,&quot;^X&quot;,&quot;^1D&quot;,536873255]],[&quot;^1@&quot;,[6240,&quot;^K&quot;,6230,536873255]],[&quot;^1@&quot;,[6240,&quot;^17&quot;,4089,536873255]],[&quot;^1@&quot;,[6240,&quot;^13&quot;,4240,536873255]],[&quot;^1@&quot;,[6240,&quot;^12&quot;,4089,536873255]],[&quot;^1@&quot;,[6240,&quot;^D&quot;,[&quot;^ &quot;],536873255]],[&quot;^1@&quot;,[6240,&quot;^1E&quot;,true,536873255]],[&quot;^1@&quot;,[6240,&quot;^?&quot;,&quot;~u626b5b9d-5e3b-442c-9697-d7bd2e49a7ae&quot;,536873255]],[&quot;^1@&quot;,[6241,&quot;^1F&quot;,&quot;-e5--88--b0--e4--ba--86--e5--8e--95--e6--89--80--ef--bc--88--e5--85--b1--e4--ba--ab--e8--b5--84--e6--ba--90--ef--bc--89--ef--bc--8c--e7--94--b1--e4--ba--8e--e5--86--85--e6--80--a5--e2--bc--a9--e6--98--8e--e7--9b--b4--e6--8e--a5--e5--86--b2--e2--bc--8a--e5--8e--95--e6--89--80--ef--bc--8c--e7--ac--ac--e2--bc--80--e4--b8--aa--e2--bb--94--e6--b2--a1--e9--94--81--e2--bb--94--ef--bc--8c--e4--be--bf--e5--a4--ba--e2--bb--94--e2--bd--bd--e2--bc--8a--e3--80--82--e2--bf--8a--e6--9a--97--e4--b8--ad--ef--bc--8c--e2--bc--a9--e7--ba--a2--e6--ad--a3--e5--9c--a8--e4--bd--bf--e7--94--a8--ef--bc--8c--e5--90--93--e4--b8--80--e8--b7--b3--ef--bc--8c-_-e2--bc--80--e8--84--9a--e8--b8--a2--e4--ba--86--e8--bf--87--e5--8e--bb--e3--80--82-&quot;,536873272]],[&quot;^1@&quot;,[6241,&quot;^[&quot;,&quot;到了厕所（共享资源），由于内急⼩明直接冲⼊厕所，第⼀个⻔没锁⻔，便夺⻔⽽⼊。⿊暗中，⼩红正在使用，吓一跳， ⼀脚踢了过去。\\n扯了那么多，实际上是为了说明，对于共享资源，如果没有上锁，在多线程的环境⾥，那么就可能会发⽣翻⻋现场。&quot;,536873275]],[&quot;^1@&quot;,[6241,&quot;^X&quot;,&quot;^1D&quot;,536873269]],[&quot;^1@&quot;,[6241,&quot;^K&quot;,4180,536873269]],[&quot;^1@&quot;,[6241,&quot;^17&quot;,4089,536873269]],[&quot;^1@&quot;,[6241,&quot;^13&quot;,4161,536873269]],[&quot;^1@&quot;,[6241,&quot;^12&quot;,4089,536873275]],[&quot;^1@&quot;,[6241,&quot;^D&quot;,[&quot;^ &quot;],536873275]],[&quot;^1@&quot;,[6241,&quot;^1E&quot;,true,536873269]],[&quot;^1@&quot;,[6241,&quot;^?&quot;,&quot;~u626b5bb0-be33-491b-8b7b-b94bacf054f4&quot;,536873269]],[&quot;^1@&quot;,[6242,&quot;^1F&quot;,&quot;-e4--b8--80--e4--b8--aa--e6--98--af--e6--ad--bb--e9--94--81-_-ef--bc--88-deadlock_-ef--bc--89--e9--97--ae--e9--a2--98--ef--bc--8c--e4--b8--80--e7--bb--84--e8--bf--9b--e7--a8--8b--e5--a6--82--e6--9e--9c--e9--83--bd--e8--8e--b7--e5--be--97--e4--ba--86--e9--83--a8--e5--88--86--e8--b5--84--e6--ba--90--ef--bc--8c--e8--bf--98--e6--83--b3--e8--a6--81--e5--be--97--e5--88--b0--e5--85--b6--e4--bb--96--e8--bf--9b--e7--a8--8b--e6--89--80--e5--8d--a0--e6--9c--89--e7--9a--84--e8--b5--84--e6--ba--90--ef--bc--8c--e6--9c--80--e7--bb--88--e6--89--80--e6--9c--89--e7--9a--84--e8--bf--9b--e7--a8--8b--e5--b0--86--e9--99--b7--e5--85--a5--e6--ad--bb--e9--94--81--e3--80--82-&quot;,536873287]],[&quot;^1@&quot;,[6242,&quot;^[&quot;,&quot;一个是死锁 （deadlock ）问题，一组进程如果都获得了部分资源，还想要得到其他进程所占有的资源，最终所有的进程将陷入死锁。\\n&quot;,536873295]],[&quot;^1@&quot;,[6242,&quot;^X&quot;,&quot;^1D&quot;,536873287]],[&quot;^1@&quot;,[6242,&quot;^K&quot;,4165,536873287]],[&quot;^1@&quot;,[6242,&quot;^17&quot;,4089,536873287]],[&quot;^1@&quot;,[6242,&quot;^13&quot;,4165,536873290]],[&quot;^1@&quot;,[6242,&quot;^12&quot;,4089,536873295]],[&quot;^1@&quot;,[6242,&quot;^D&quot;,[&quot;^ &quot;],536873295]],[&quot;^1@&quot;,[6242,&quot;^1E&quot;,true,536873287]],[&quot;^1@&quot;,[6242,&quot;^?&quot;,&quot;~u626b5bc8-dfce-42ab-bca8-9ca20293bc7f&quot;,536873287]],[&quot;^1@&quot;,[6243,&quot;^1F&quot;,&quot;-e4--b8--80--e4--b8--aa--e6--98--af--e9--a5--a5--e9--a5--bf--ef--bc--88-starvation_-ef--bc--89--e9--97--ae--e9--a2--98--ef--bc--8c--e8--bf--99--e6--98--af--e6--8c--87--e8--bf--99--e6--a0--b7--e4--b8--80--e7--a7--8d--e6--83--85--e5--86--b5--ef--bc--9a--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e7--94--b1--e4--ba--8e--e5--85--b6--e4--bb--96--e8--bf--9b--e7--a8--8b--e6--80--bb--e6--98--af--e4--bc--98--e5--85--88--e4--ba--8e--e5--ae--83--e8--80--8c--e8--a2--ab--e6--97--a0--e9--99--90--e6--9c--9f--e6--8b--96--e5--bb--b6--e3--80--82-&quot;,536873295]],[&quot;^1@&quot;,[6243,&quot;^[&quot;,&quot;一个是饥饿（starvation ）问题，这是指这样一种情况：一个进程由于其他进程总是优先于它而被无限期拖延。\\n  \\n\\n            进程的互斥（mutual exclusion ）是解决进程间竞争关系( **间接制约关系**) 的手段。进程互斥指若干个进程要使用同一共享资源时，任何时刻最多允许一个进程去使用，其他要使用该资源的进程必须等待，直到占有资源的进程释放该资源。\\n\\n            ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/78d6b407-b3bd-429d-831c-554d4d0b1046/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/78d6b407-b3bd-429d-831c-554d4d0b1046/Untitled.png)&quot;,536873295]],[&quot;^1@&quot;,[6243,&quot;^X&quot;,&quot;^1D&quot;,536873295]],[&quot;^1@&quot;,[6243,&quot;^K&quot;,6242,536873295]],[&quot;^1@&quot;,[6243,&quot;^17&quot;,4089,536873295]],[&quot;^1@&quot;,[6243,&quot;^13&quot;,4165,536873299]],[&quot;^1@&quot;,[6243,&quot;^12&quot;,4089,536873299]],[&quot;^1@&quot;,[6243,&quot;^D&quot;,[&quot;^ &quot;],536873299]],[&quot;^1@&quot;,[6243,&quot;^1E&quot;,true,536873295]],[&quot;^1@&quot;,[6243,&quot;^?&quot;,&quot;~u626b5bcc-3ac1-4001-ab85-1964a4f3d214&quot;,536873295]],[&quot;^1@&quot;,[6244,&quot;^1F&quot;,&quot;-ef--bc--88-eg-ef--bc--9a--e6--9f--90--e4--b8--aa--e8--bf--9b--e7--a8--8b--e7--ad--89--e5--be--85--e5--8f--a6--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e7--9a--84--e4--bf--a1--e5--8f--b7--ef--bc--89-&quot;,536873341]],[&quot;^1@&quot;,[6244,&quot;^[&quot;,&quot;（eg：某个进程等待另一个进程的信号）&quot;,536873375]],[&quot;^1@&quot;,[6244,&quot;^X&quot;,&quot;^1D&quot;,536873341]],[&quot;^1@&quot;,[6244,&quot;^K&quot;,4159,536873341]],[&quot;^1@&quot;,[6244,&quot;^17&quot;,4089,536873341]],[&quot;^1@&quot;,[6244,&quot;^13&quot;,4159,536873360]],[&quot;^1@&quot;,[6244,&quot;^12&quot;,4089,536873375]],[&quot;^1@&quot;,[6244,&quot;^D&quot;,[&quot;^ &quot;],536873375]],[&quot;^1@&quot;,[6244,&quot;^1E&quot;,true,536873341]],[&quot;^1@&quot;,[6244,&quot;^?&quot;,&quot;~u626b5c1d-d0e1-44ab-9975-75f2b790bf0d&quot;,536873341]],[&quot;^1@&quot;,[6246,&quot;^1F&quot;,&quot;-e8--bf--9b--e7--a8--8b--e9--97--b4--e7--9a--84--e5--8d--8f--e4--bd--9c--e5--8f--af--e4--bb--a5--e6--98--af--e5--8f--8c--e6--96--b9--e4--b8--8d--e7--9f--a5--e9--81--93--e5--af--b9--e6--96--b9--e5--90--8d--e5--ad--97--e7--9a--84--e9--97--b4--e6--8e--a5--e5--8d--8f--e4--bd--9c--ef--bc--8c--e4--be--8b--e5--a6--82--ef--bc--8c--e9--80--9a--e8--bf--87--e5--85--b1--e4--ba--ab--e8--ae--bf--e9--97--ae--e4--b8--80--e4--b8--aa--e7--bc--93--e5--86--b2--e5--8c--ba--e8--bf--9b--e8--a1--8c--e6--9d--be--e6--95--a3--e5--bc--8f--e5--8d--8f--e4--bd--9c--ef--bc--9b--e4--b9--9f--e5--8f--af--e4--bb--a5--e6--98--af--e5--8f--8c--e6--96--b9--e7--9f--a5--e9--81--93--e5--af--b9--e6--96--b9--e5--90--8d--e5--ad--97--ef--bc--8c--e7--9b--b4--e6--8e--a5--e9--80--9a--e8--bf--87--e9--80--9a--e4--bf--a1--e6--9c--ba--e5--88--b6--e8--bf--9b--e8--a1--8c--e7--b4--a7--e5--af--86--e5--8d--8f--e4--bd--9c--e3--80--82--e5--85--81--e8--ae--b8--e8--bf--9b--e7--a8--8b--e5--8d--8f--e5--90--8c--e5--b7--a5--e4--bd--9c--e6--9c--89--e5--88--a9--e4--ba--8e--e5--85--b1--e4--ba--ab--e4--bf--a1--e6--81--af--e3--80--81--e6--9c--89--e5--88--a9--e4--ba--8e--e5--8a--a0--e5--bf--ab--e8--ae--a1--e7--ae--97--e9--80--9f--e5--ba--a6--e3--80--81--e6--9c--89--e5--88--a9--e4--ba--8e--e5--ae--9e--e7--8e--b0--e6--a8--a1--e5--9d--97--e5--8c--96--e7--a8--8b--e5--ba--8f--e8--ae--be--e8--ae--a1--e3--80--82-&quot;,536873367]],[&quot;^1@&quot;,[6246,&quot;^[&quot;,&quot;进程间的协作可以是双方不知道对方名字的间接协作，例如，通过共享访问一个缓冲区进行松散式协作；也可以是双方知道对方名字，直接通过通信机制进行紧密协作。允许进程协同工作有利于共享信息、有利于加快计算速度、有利于实现模块化程序设计。&quot;,536873367]],[&quot;^1@&quot;,[6246,&quot;^X&quot;,&quot;^1D&quot;,536873367]],[&quot;^1@&quot;,[6246,&quot;^K&quot;,6249,536873372]],[&quot;^1@&quot;,[6246,&quot;^17&quot;,4089,536873367]],[&quot;^1@&quot;,[6246,&quot;^13&quot;,4159,536873367]],[&quot;^1@&quot;,[6246,&quot;^12&quot;,4089,536873372]],[&quot;^1@&quot;,[6246,&quot;^1E&quot;,true,536873367]],[&quot;^1@&quot;,[6246,&quot;^?&quot;,&quot;~u65e10494-b92d-4617-b96e-02cb25b36041&quot;,536873367]],[&quot;^1@&quot;,[6247,&quot;^1F&quot;,&quot;-e8--bf--9b--e7--a8--8b--e7--9a--84--e5--90--8c--e6--ad--a5--ef--bc--88-Synchronization-ef--bc--89--e6--98--af--e8--a7--a3--e5--86--b3--e8--bf--9b--e7--a8--8b--e9--97--b4--e5--8d--8f--e4--bd--9c--e5--85--b3--e7--b3--bb-(-c2--a0--e7--9b--b4--e6--8e--a5--e5--88--b6--e7--ba--a6--e5--85--b3--e7--b3--bb-)_-e7--9a--84--e6--89--8b--e6--ae--b5--e3--80--82-&quot;,536873367]],[&quot;^1@&quot;,[6247,&quot;^[&quot;,&quot;进程的同步（Synchronization）是解决进程间协作关系( **直接制约关系**) 的手段。&quot;,536873367]],[&quot;^1@&quot;,[6247,&quot;^X&quot;,&quot;^1D&quot;,536873367]],[&quot;^1@&quot;,[6247,&quot;^K&quot;,6246,536873367]],[&quot;^1@&quot;,[6247,&quot;^17&quot;,4089,536873367]],[&quot;^1@&quot;,[6247,&quot;^13&quot;,4159,536873367]],[&quot;^1@&quot;,[6247,&quot;^12&quot;,4089,536873367]],[&quot;^1@&quot;,[6247,&quot;^1E&quot;,true,536873367]],[&quot;^1@&quot;,[6247,&quot;^?&quot;,&quot;~u511272a0-bf96-4057-b16b-e031a100ceb6&quot;,536873367]],[&quot;^1@&quot;,[6248,&quot;^1F&quot;,&quot;-e8--bf--9b--e7--a8--8b--e5--90--8c--e6--ad--a5--e6--8c--87--e4--b8--a4--e4--b8--aa--e4--bb--a5--e4--b8--8a--e8--bf--9b--e7--a8--8b--e5--9f--ba--e4--ba--8e--e6--9f--90--e4--b8--aa--e6--9d--a1--e4--bb--b6--e6--9d--a5--e5--8d--8f--e8--b0--83--e5--ae--83--e4--bb--ac--e7--9a--84--e6--b4--bb--e5--8a--a8--e3--80--82--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e7--9a--84--e6--89--a7--e8--a1--8c--e4--be--9d--e8--b5--96--e4--ba--8e--e5--8f--a6--e4--b8--80--e4--b8--aa--e5--8d--8f--e4--bd--9c--e8--bf--9b--e7--a8--8b--e7--9a--84--e6--b6--88--e6--81--af--e6--88--96--e4--bf--a1--e5--8f--b7--ef--bc--8c--e5--bd--93--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e6--b2--a1--e6--9c--89--e5--be--97--e5--88--b0--e6--9d--a5--e8--87--aa--e4--ba--8e--e5--8f--a6--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e7--9a--84--e6--b6--88--e6--81--af--e6--88--96--e4--bf--a1--e5--8f--b7--e6--97--b6--e5--88--99--e9--9c--80--e7--ad--89--e5--be--85--ef--bc--8c--e7--9b--b4--e5--88--b0--e6--b6--88--e6--81--af--e6--88--96--e4--bf--a1--e5--8f--b7--e5--88--b0--e8--be--be--e6--89--8d--e8--a2--ab--e5--94--a4--e9--86--92--e3--80--82-&quot;,536873367]],[&quot;^1@&quot;,[6248,&quot;^[&quot;,&quot;进程同步指两个以上进程基于某个条件来协调它们的活动。一个进程的执行依赖于另一个协作进程的消息或信号，当一个进程没有得到来自于另一个进程的消息或信号时则需等待，直到消息或信号到达才被唤醒。&quot;,536873367]],[&quot;^1@&quot;,[6248,&quot;^X&quot;,&quot;^1D&quot;,536873367]],[&quot;^1@&quot;,[6248,&quot;^K&quot;,6247,536873367]],[&quot;^1@&quot;,[6248,&quot;^17&quot;,4089,536873367]],[&quot;^1@&quot;,[6248,&quot;^13&quot;,4159,536873367]],[&quot;^1@&quot;,[6248,&quot;^12&quot;,4089,536873367]],[&quot;^1@&quot;,[6248,&quot;^1E&quot;,true,536873367]],[&quot;^1@&quot;,[6248,&quot;^?&quot;,&quot;~u86b28588-179e-4a1e-aa01-0fc09a923562&quot;,536873367]],[&quot;^1@&quot;,[6249,&quot;^1F&quot;,&quot;-e6--9f--90--e4--ba--9b--e8--bf--9b--e7--a8--8b--e4--b8--ba--e5--ae--8c--e6--88--90--e5--90--8c--e4--b8--80--e4--bb--bb--e5--8a--a1--e9--9c--80--e8--a6--81--e5--88--86--e5--b7--a5--e5--8d--8f--e4--bd--9c--ef--bc--8c--e7--94--b1--e4--ba--8e--e5--90--88--e4--bd--9c--e7--9a--84--e6--af--8f--e4--b8--80--e4--b8--aa--e8--bf--9b--e7--a8--8b--e9--83--bd--e6--98--af--e7--8b--ac--e7--ab--8b--e5--9c--b0--e4--bb--a5--e4--b8--8d--e5--8f--af--e9--a2--84--e7--9f--a5--e7--9a--84--e9--80--9f--e5--ba--a6--e6--8e--a8--e8--bf--9b--ef--bc--8c--e8--bf--99--e5--b0--b1--e9--9c--80--e8--a6--81--e7--9b--b8--e4--ba--92--e5--8d--8f--e4--bd--9c--e7--9a--84--e8--bf--9b--e7--a8--8b--e5--9c--a8--e6--9f--90--e4--ba--9b--e5--8d--8f--e8--b0--83--e7--82--b9--e4--b8--8a--e5--8d--8f-_-e8--b0--83--e5--90--84--e8--87--aa--e7--9a--84--e5--b7--a5--e4--bd--9c--e3--80--82--e5--bd--93--e5--90--88--e4--bd--9c--e8--bf--9b--e7--a8--8b--e4--b8--ad--e7--9a--84--e4--b8--80--e4--b8--aa--e5--88--b0--e8--be--be--e5--8d--8f--e8--b0--83--e7--82--b9--e5--90--8e--ef--bc--8c--e5--9c--a8--e5--b0--9a--e6--9c--aa--e5--be--97--e5--88--b0--e5--85--b6--e4--bc--99--e4--bc--b4--e8--bf--9b--e7--a8--8b--e5--8f--91--e6--9d--a5--e7--9a--84--e6--b6--88--e6--81--af--e6--88--96--e4--bf--a1--e5--8f--b7--e4--b9--8b--e5--89--8d--e5--ba--94--e9--98--bb--e5--a1--9e--e8--87--aa--e5--b7--b1--ef--bc--8c--e7--9b--b4--e5--88--b0--e5--85--b6--e4--bb--96--e5--90--88--e4--bd--9c--e8--bf--9b--e7--a8--8b--e5--8f--91--e6--9d--a5--e5--8d--8f--e8--b0--83--e4--bf--a1--e5--8f--b7--e6--88--96--e6--b6--88--e6--81--af--e5--90--8e--e6--96--b9--e8--a2--ab--e5--94--a4--e9--86--92--e5--b9--b6--e7--bb--a7--e7--bb--ad--e6--89--a7--e8--a1--8c--e3--80--82--e8--bf--99--e7--a7--8d--e5--8d--8f--e4--bd--9c--e8--bf--9b--e7--a8--8b--e4--b9--8b--e9--97--b4--e7--9b--b8--e4--ba--92--e7--ad--89--e5--be--85--e5--af--b9--e6--96--b9--e6--b6--88--e6--81--af--e6--88--96--e4--bf--a1--e5--8f--b7--e7--9a--84--e5--8d--8f--e8--b0--83--e5--85--b3--e7--b3--bb--e7--a7--b0--e4--b8--ba--e8--bf--9b--e7--a8--8b--e5--90--8c--e6--ad--a5--e3--80--82-&quot;,536873372]],[&quot;^1@&quot;,[6249,&quot;^[&quot;,&quot;某些进程为完成同一任务需要分工协作，由于合作的每一个进程都是独立地以不可预知的速度推进，这就需要相互协作的进程在某些协调点上协 调各自的工作。当合作进程中的一个到达协调点后，在尚未得到其伙伴进程发来的消息或信号之前应阻塞自己，直到其他合作进程发来协调信号或消息后方被唤醒并继续执行。这种协作进程之间相互等待对方消息或信号的协调关系称为进程同步。&quot;,536873372]],[&quot;^1@&quot;,[6249,&quot;^X&quot;,&quot;^1D&quot;,536873372]],[&quot;^1@&quot;,[6249,&quot;^K&quot;,6244,536873376]],[&quot;^1@&quot;,[6249,&quot;^17&quot;,4089,536873372]],[&quot;^1@&quot;,[6249,&quot;^13&quot;,4159,536873372]],[&quot;^1@&quot;,[6249,&quot;^12&quot;,4089,536873376]],[&quot;^1@&quot;,[6249,&quot;^D&quot;,[&quot;^ &quot;],536873376]],[&quot;^1@&quot;,[6249,&quot;^1E&quot;,true,536873372]],[&quot;^1@&quot;,[6249,&quot;^?&quot;,&quot;~u626b5c44-d3c4-42b6-b480-ce7e5677b5ce&quot;,536873372]],[&quot;^1@&quot;,[6253,&quot;^1F&quot;,&quot;-e5--bd--93--e7--94--a8--e6--88--b7--e8--a7--a6--e5--8f--91--e6--9f--90--e5--85--83--e7--b4--a0--e7--9a--84--e7--89--b9--e5--ae--9a--e4--ba--8b--e4--bb--b6--e7--9a--84--e6--97--b6--e5--80--99--ef--bc--88--e5--a6--82--ef--bc--9a-mouseMove-2c-click-ef--bc--89--ef--bc--8c--e4--ba--8b--e4--bb--b6--e4--bc--9a--e8--b0--83--e7--94--a8--e4--ba--8b--e4--bb--b6--e5--93--8d--e5--ba--94--e5--87--bd--e6--95--b0--ef--bc--8c--e4--bc--a0--e9--80--92--e4--b8--8b--e5--8e--bb--ef--bc--8c--e5--87--bd--e6--95--b0--e4--b8--8d--e4--bc--9a--e5--9c--a8--e4--ba--8b--e4--bb--b6--e5--8f--91--e7--94--9f--e5--89--8d--e8--a2--ab--e6--89--a7--e8--a1--8c--e3--80--82-&quot;,536873445]],[&quot;^1@&quot;,[6253,&quot;^[&quot;,&quot;当用户触发某元素的特定事件的时候（如：mouseMove,click），事件会调用事件响应函数，传递下去，函数不会在事件发生前被执行。&quot;,536873445]],[&quot;^1@&quot;,[6253,&quot;^X&quot;,&quot;^1D&quot;,536873445]],[&quot;^1@&quot;,[6253,&quot;^K&quot;,4229,536873452]],[&quot;^1@&quot;,[6253,&quot;^17&quot;,4089,536873445]],[&quot;^1@&quot;,[6253,&quot;^13&quot;,4229,536873448]],[&quot;^1@&quot;,[6253,&quot;^12&quot;,4089,536873452]],[&quot;^1@&quot;,[6253,&quot;^D&quot;,[&quot;^ &quot;],536873452]],[&quot;^1@&quot;,[6253,&quot;^1E&quot;,true,536873445]],[&quot;^1@&quot;,[6253,&quot;^?&quot;,&quot;~u626b5d71-a922-4d27-9b00-e6d2a2579e1d&quot;,536873445]],[&quot;^1@&quot;,[6255,&quot;^1F&quot;,&quot;4-e3--80--81--e4--ba--8b-_-e4--bb--b6--3a--e7--94--a8--e6--9d--a5--e9--80--9a--e7--9f--a5--e7--ba--bf--e7--a8--8b--e6--9c--89--e4--b8--80--e4--ba--9b--e4--ba--8b--e4--bb--b6--e5--b7--b2--e5--8f--91--e7--94--9f--ef--bc--8c--e4--bb--8e--e8--80--8c--e5--90--af--e5--8a--a8--e5--90--8e--e7--bb--a7--e4--bb--bb--e5--8a--a1--e7--9a--84--e5--bc--80--e5--a7--8b--e3--80--82-&quot;,536873468]],[&quot;^1@&quot;,[6255,&quot;^[&quot;,&quot;4、事 件:用来通知线程有一些事件已发生，从而启动后继任务的开始。&quot;,536873468]],[&quot;^1@&quot;,[6255,&quot;^X&quot;,&quot;^1D&quot;,536873468]],[&quot;^1@&quot;,[6255,&quot;^K&quot;,4136,536873468]],[&quot;^1@&quot;,[6255,&quot;^17&quot;,4089,536873468]],[&quot;^1@&quot;,[6255,&quot;^13&quot;,4150,536873468]],[&quot;^1@&quot;,[6255,&quot;^12&quot;,4089,536873468]],[&quot;^1@&quot;,[6255,&quot;^D&quot;,[&quot;^ &quot;],536873468]],[&quot;^1@&quot;,[6255,&quot;^1E&quot;,true,536873468]],[&quot;^1@&quot;,[6255,&quot;^?&quot;,&quot;~u626b5d83-6717-4dc3-9257-39be61bd78bf&quot;,536873468]],[&quot;^1@&quot;,[6257,&quot;^[&quot;,&quot;public:: true&quot;,536873577]],[&quot;^1@&quot;,[6257,&quot;^X&quot;,&quot;^1D&quot;,536873577]],[&quot;^1@&quot;,[6257,&quot;^K&quot;,4089,536873577]],[&quot;^1@&quot;,[6257,&quot;^17&quot;,4089,536873577]],[&quot;^1@&quot;,[6257,&quot;^13&quot;,4089,536873577]],[&quot;^1@&quot;,[6257,&quot;^=&quot;,true,536873577]],[&quot;^1@&quot;,[6257,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536873577]],[&quot;^1@&quot;,[6257,&quot;^?&quot;,&quot;~u626b5e51-2783-4bbf-bb8b-73a7a4a4b013&quot;,536873577]],[&quot;^1@&quot;,[6258,&quot;^1F&quot;,&quot;-e5--87--a0--e7--a7--8d--e5--b8--b8--e8--a7--81--e6--95--b0--e6--8d--ae--e5--ba--93--e5--af--b9--e6--af--94-&quot;,536873612]],[&quot;^1@&quot;,[6258,&quot;^[&quot;,&quot;几种常见数据库对比&quot;,536873612]],[&quot;^1@&quot;,[6258,&quot;^X&quot;,&quot;^1D&quot;,536873588]],[&quot;^1@&quot;,[6258,&quot;^E&quot;,false,536873588]],[&quot;^1@&quot;,[6258,&quot;^K&quot;,6259,536873590]],[&quot;^1@&quot;,[6258,&quot;^17&quot;,297,536873588]],[&quot;^1@&quot;,[6258,&quot;^13&quot;,297,536873588]],[&quot;^1@&quot;,[6258,&quot;^12&quot;,297,536873654]],[&quot;^1@&quot;,[6258,&quot;^D&quot;,[&quot;^ &quot;],536873654]],[&quot;^1@&quot;,[6258,&quot;^1E&quot;,true,536873588]],[&quot;^1@&quot;,[6258,&quot;^?&quot;,&quot;~u626b6064-fdd8-43ba-ab93-f607581451d7&quot;,536873588]],[&quot;^1@&quot;,[6259,&quot;^[&quot;,&quot;public:: true&quot;,536873590]],[&quot;^1@&quot;,[6259,&quot;^X&quot;,&quot;^1D&quot;,536873590]],[&quot;^1@&quot;,[6259,&quot;^K&quot;,297,536873590]],[&quot;^1@&quot;,[6259,&quot;^17&quot;,297,536873590]],[&quot;^1@&quot;,[6259,&quot;^13&quot;,297,536873590]],[&quot;^1@&quot;,[6259,&quot;^=&quot;,true,536873590]],[&quot;^1@&quot;,[6259,&quot;^D&quot;,[&quot;^ &quot;,&quot;^1B&quot;,true],536873590]],[&quot;^1@&quot;,[6259,&quot;^?&quot;,&quot;~u626b606b-76e9-4a24-b1b9-dc113354e56e&quot;,536873590]],[&quot;^1@&quot;,[6265,&quot;^1F&quot;,&quot;&quot;,536873654]],[&quot;^1@&quot;,[6265,&quot;^[&quot;,&quot;&quot;,536873654]],[&quot;^1@&quot;,[6265,&quot;^X&quot;,&quot;^1D&quot;,536873654]],[&quot;^1@&quot;,[6265,&quot;^E&quot;,false,536873654]],[&quot;^1@&quot;,[6265,&quot;^K&quot;,6258,536873654]],[&quot;^1@&quot;,[6265,&quot;^17&quot;,297,536873654]],[&quot;^1@&quot;,[6265,&quot;^13&quot;,6258,536873657]],[&quot;^1@&quot;,[6265,&quot;^12&quot;,297,536873657]],[&quot;^1@&quot;,[6265,&quot;^D&quot;,[&quot;^ &quot;],536873657]],[&quot;^1@&quot;,[6265,&quot;^1E&quot;,true,536873654]],[&quot;^1@&quot;,[6265,&quot;^?&quot;,&quot;~u626b60e8-62c6-49ef-86b5-d9dde0b35d85&quot;,536873654]],[&quot;^1@&quot;,[6266,&quot;^1F&quot;,&quot;image-2e-png&quot;,536873679]],[&quot;^1@&quot;,[6266,&quot;^[&quot;,&quot;![image.png](../assets/image_1651213786006_0.png)&quot;,536873679]],[&quot;^1@&quot;,[6266,&quot;^X&quot;,&quot;^1D&quot;,536873665]],[&quot;^1@&quot;,[6266,&quot;^K&quot;,4219,536873665]],[&quot;^1@&quot;,[6266,&quot;^17&quot;,4089,536873665]],[&quot;^1@&quot;,[6266,&quot;^13&quot;,4219,536873666]],[&quot;^1@&quot;,[6266,&quot;^12&quot;,4089,536873679]],[&quot;^1@&quot;,[6266,&quot;^D&quot;,[&quot;^ &quot;],536873679]],[&quot;^1@&quot;,[6266,&quot;^1E&quot;,true,536873665]],[&quot;^1@&quot;,[6266,&quot;^?&quot;,&quot;~u626b7f43-edb9-4be3-afd0-aa7641bc49b3&quot;,536873665]]]]]]"</script><script>window.logseq_state="{:ui/theme \"light\", :ui/sidebar-collapsed-blocks {\"contents\" false}, :ui/show-recent? false, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [\"dashboard\" \"Contents\" \"ENGLISH\" \"cv\" \"DDIA\"], :ui/show-empty-bullets? false, :preferred-workflow :todo, :ui/show-brackets? true, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :feature/enable-timetracking? true, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/ref-pages ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :collapsed? false}]}, :ui/enable-tooltip? true, :graph/settings {:orphan-pages? false, :journal? false, :builtin-pages? false}, :ui/show-command-doc? true, :default-home {:page \"About Me\"}}}}"</script><script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script><script src="static/js/main.js"></script><script src="static/js/highlight.min.js"></script><script src="static/js/interact.min.js"></script><script src="static/js/code-editor.js"></script></body>